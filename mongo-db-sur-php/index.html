<!DOCTYPE html>
<html data-html-server-rendered="true" lang="fr" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22fr%22%7D%7D">
  <head>
    <title>MongoDB sur PHP - https://etienner.github.io</title><meta name="gridsome:hash" content="e9e710b63b02d049a9f8a5359c5c22618737fe2f"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.14"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Vous souhaitez d√©velopper une application PHP avec la base de donn√©es NoSQL MongoDB. Il existe bel et bien une classe pour travailler dessus. Mais pour ce faire, il faut au pr√©alable disposer du driver"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="MongoDB sur PHP"><meta data-vue-tag="ssr" property="og:description" content="Vous souhaitez d√©velopper une application PHP avec la base de donn√©es NoSQL MongoDB. Il existe bel et bien une classe pour travailler dessus. Mais pour ce faire, il faut au pr√©alable disposer du driver"><meta data-vue-tag="ssr" property="og:url" content="https://etienner.github.io/mongo-db-sur-php/"><meta data-vue-tag="ssr" name="twitter:domain" content="https://etienner.github.io"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="MongoDB sur PHP"><meta data-vue-tag="ssr" name="twitter:description" content="Vous souhaitez d√©velopper une application PHP avec la base de donn√©es NoSQL MongoDB. Il existe bel et bien une classe pour travailler dessus. Mais pour ce faire, il faut au pr√©alable disposer du driver"><meta data-vue-tag="ssr" name="twitter:site" content="@etiennerouzeaud"><meta data-vue-tag="ssr" name="twitter:creator" content="@etiennerouzeaud"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.a80f6262.css" as="style"><link rel="preload" href="/assets/js/app.8917d561.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.93f54eeb.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.5bf39404.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.1fdd30a3.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.8311241e.js"><link rel="stylesheet" href="/assets/css/0.styles.a80f6262.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><header class="py-2 text-center"><strong><a href="/" title="Accueil" class="active">Etienne ROUZEAUD - D√©veloppeur Web</a></strong></header><main><div class="title py-2 text-center" data-v-4b217994><h1 class="display-5 pt-2" data-v-4b217994>MongoDB sur PHP</h1><!----></div><div class="container"><div class="row sidebar"><div class="mt-4 col-lg-2"><p><em><span>16 mars 2015</span></em></p><ul class="list-unstyled"><li>
            üè∑Ô∏è <a href="/tag/PHP/">PHP</a></li><li>
            üè∑Ô∏è <a href="/tag/MongoDB/">MongoDB</a></li></ul><p>‚åö 6 mins de lecture</p><!----></div><div class="col-lg-10 mt-4"><!----><article><p>Vous souhaitez d√©velopper une application PHP avec la base de donn√©es NoSQL MongoDB. Il existe bel et bien une classe pour travailler dessus. Mais pour ce faire, il faut au pr√©alable disposer du driver officiel sur votre serveur. Par d√©faut, ce dernier est rarement install√© sur les serveurs aussi bien en local qu'en production.</p>
<h2>Installation</h2>
<ul>
<li>Sur Windows : <a href="https://s3.amazonaws.com/drivers.mongodb.org/php/index.html" target="_blank" rel="nofollow noopener noreferrer">https://s3.amazonaws.com/drivers.mongodb.org/php/index.html</a><br>
Avec WAMP : dans le fichier "wamp/bin/php/votre_version_php/php.ini", ajoutez la ligne suivante :<br>
<code class="language-text">extension=php_mongo.dll</code><br>
Lancez WAMP puis cliquez sur l'icone de WAMP (en bas √† droite), allez dans "PHP", "PHP extensions", cliquez sur "php_mongo".</li>
<li>Sur Mac : <a href="http://php.net/manual/fr/mongo.installation.php#mongo.installation.osx" target="_blank" rel="nofollow noopener noreferrer">http://php.net/manual/fr/mongo.installation.php#mongo.installation.osx</a></li>
<li>Sur Linux : <a href="http://php.net/manual/fr/mongo.installation.php#mongo.installation.nix" target="_blank" rel="nofollow noopener noreferrer">http://php.net/manual/fr/mongo.installation.php#mongo.installation.nix</a></li>
</ul>
<p>Pour savoir si vous avez bien install√© le driver, faites un <code class="language-text">phpinfo();</code>, vous devriez avoir dans votre listing "mongo".</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 600 494' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-9efa23c0dd47686ebe666d518115c030'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-9efa23c0dd47686ebe666d518115c030)' width='600' height='494' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAA1AEADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgMABAUGAQf/xAA%2bEAABAgQCBgQLBgcAAAAAAAABAgMABAUREiEGFDEyQVETFkKRByJSU3GBkqHB0dIjM2FicoIVJVVlorHh/8QAGQEAAgMBAAAAAAAAAAAAAAAAAAIBBAUD/8QAIxEAAgEDAwQDAAAAAAAAAAAAAAECAxESBLHRExRRUkGh8P/aAAwDAQACEQMRAD8A%2b4N%2bEFt0fZ0x9WV7JWD8IZ17/tM13/8AI4BicWzboZiZSVpsVo6IYc/fwjal6mw20EuVB91XFSkEH3ECNJaan4Eubh8IpC8PV%2bpnO2IAW9N4qzWlzFWwKmKLVmuiOVnVNXv%2bnbsjMer1PYKemn1IxbMQUL/5QrrNSrD%2bZjPZvfODtqYXZvUrSpqmy5ZZptScSSSVPPFxXeYtOafobtjpUykE2uVAfCOY6zUr%2bp/j2vqhE7WJScl06pOLdssXwDYLfmNoiWngk2kFzqn/AAhhoAiiT7l/N5/CDV4QUpaKzSJsWF7E5j3RyslU2wwNYmXsd%2b0Lm37TaDmqpLGWdGtObp7Kvqirg/TcYxm21JKSpDIAtf788P05xr0qUl3LPKKC6knEklQRnyCwCcosytbkZYHoKFOIx2uBM3vll2YY9pO0gXTQKg6b2KUTCbjvAi8pNfG3Io4sMHazJn9qImry/mZL2UR41XsaMStG6o2fJW7n7kmCXXQlKldX6jkL/en6YbN%2br%2buSDzV5fzMn7KIo1dppMu3gblUkrG6kcj5IJi05pEEhJb0bqjoVndDw%2bIEKdrrUxL4pnRmqNpQcWFx%2bx9N0gxyqVMouKW3JKRXpiGlSoKkSxNzvD6gDDpppnVnfs5XdPBEeitNSpDTGitWU2c8SHwQO8Xgv48hyWcU7ozVGwAbpW8LkeoGKPTn%2bY1znUuyYBxvSqRcXUADbmd2N2RZprq3g0ZaYNwogy%2b7yjOR05SQpU4MhY43BY8PVFuUdmUuhtrNShe71ykcrE7PxjTQhs%2bL%2bX2VfOAew9C5u7p7KuXphmXNPe3APW6FzMbp4t8ocDLkX5cqShM0HHMNujIUQPRsh8%2bUiTe3R4u3Cr5wUogIaBJJKhc3Uj/R2RJ22qO224eBb%2bEYp0FST0usrS1Mh9QzIKVG3DnDprDqzu7unsq%2bcEygNthN78TdaDn64GatqzuzdPFuAConR1uwJ1Qg2NjLn6ouyUiJJTpKkKDhucCSi6uZzN9sSJF/OSELd0eSr2zAO4C2sYVZpI3zyiRInqy8hYW22httKLHxQBkoiAmWkOMLRYjELZqJiRIzxxuFHJXtGFzCEKYcTZQukjeMSJAB//9k=' /%3e%3c/svg%3e" width="600" data-srcset="/assets/static/php_mongo_driver.bd6740a.0f67a58ebf47c8210082292cb24880b2.jpg 600w" data-sizes="(max-width: 600px) 100vw, 600px" data-src="/assets/static/php_mongo_driver.bd6740a.0f67a58ebf47c8210082292cb24880b2.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/php_mongo_driver.bd6740a.0f67a58ebf47c8210082292cb24880b2.jpg" width="600"></noscript></p>
<h2>Connexion</h2>
<p>Dans un nouveau fichier "mongodb.php", on se connecte au serveur MongoDB.</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token comment">// Ouverture de la connexion (localhost par d√©faut)</span>
    <span class="token variable">$mongo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// S√©lection de la database "test"</span>
    <span class="token variable">$db</span> <span class="token operator">=</span> <span class="token variable">$mongo</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">selectDB</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// S√©lection de la collection "Users"</span>
    <span class="token variable">$c_users</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoCollection</span><span class="token punctuation">(</span><span class="token variable">$db</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">"Users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Obtenir tous les utilisateurs</span>
    <span class="token variable">$get_users</span> <span class="token operator">=</span> <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Obtenir le nombre d'utilisateurs</span>
    <span class="token variable">$count_users</span> <span class="token operator">=</span> <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Fermeture de la connexion</span>
    <span class="token variable">$mongo</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Si le driver n'est pas install√© ou activ√© sur votre serveur, ce dernier vous renverra une erreur car il ne trouvera pas la classe "MongoClient".<br>
<code class="language-text">Fatal error: Class &#39;MongoClient&#39; not found</code></p>
<p>Ou si, votre serveur Mongo n'est pas d√©marr√© :<br>
<code class="language-text">Fatal error: Uncaught exception &#39;MongoConnectionException&#39; with message &#39;</code></p>
<p>C'est pour cela que l'on va am√©liorer notre fichier de connexion "mongodb.php" avec une gestion des messages d'erreurs ci-dessous.</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">class_exists</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Mongo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;h1>Le driver Mongo n'est pas install√© sur ce serveur :(&lt;/h1>"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// Ouverture de la connexion</span>
            <span class="token variable">$mongo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoClient</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'mongodb://localhost'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// S√©lection de la database "test"</span>
            <span class="token variable">$db</span> <span class="token operator">=</span> <span class="token variable">$mongo</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">selectDB</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// S√©lection de la collection "Users"</span>
            <span class="token variable">$c_users</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoCollection</span><span class="token punctuation">(</span><span class="token variable">$db</span><span class="token punctuation">,</span> <span class="token double-quoted-string string">"Users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Obtenir tous les utilisateurs</span>
            <span class="token variable">$get_users</span> <span class="token operator">=</span> <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Obtenir le nombre d'utilisateurs</span>
            <span class="token variable">$count_users</span> <span class="token operator">=</span> <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Fermeture de la connexion</span>
            <span class="token variable">$mongo</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>MongoConnectionException <span class="token variable">$exception</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;h1>Impossible de se connecter au serveur MongoDB :(&lt;/h1>"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>Utilisation des donn√©es (CRUD)</h2>
<h3>Lecture des donn√©es avec find</h3>
<p>Dans un nouveau fichier "users.php".</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token comment">// Appel de la connexion</span>
    <span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'mongodb.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$count_users</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">iterator_to_array</span><span class="token punctuation">(</span><span class="token variable">$get_users</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On remarque que la variable <code class="language-text">$get_users</code> n'est autre qu'un tableau. On peut donc appeler nos donn√©es dans une boucle <code class="language-text">foreach</code>.</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token comment">// Appel de la connexion</span>
    <span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'mongodb.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$count_users</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;a href="form_users.php">Ajouter un utilisateur&lt;/a>'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$count_users</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;p>'</span> <span class="token punctuation">.</span> <span class="token variable">$count_users</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">' utilisateur(s)&lt;/p>'</span><span class="token punctuation">;</span>
            <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;table>'</span><span class="token punctuation">;</span>
            <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;tr>&lt;th>firstname&lt;/th>&lt;th>lastname&lt;/th>&lt;th>&lt;/th>&lt;th>&lt;/tr>'</span><span class="token punctuation">;</span>
            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$get_users</span> <span class="token keyword">as</span> <span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;tr>'</span><span class="token punctuation">;</span>
                <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;td>'</span> <span class="token punctuation">.</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'firstname'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'&lt;/td>'</span><span class="token punctuation">;</span>
                <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;td>'</span> <span class="token punctuation">.</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'lastname'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'&lt;/td>'</span><span class="token punctuation">;</span>
                <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;td>&lt;a href="form_users.php?edit='</span> <span class="token punctuation">.</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'_id'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'">Modifier&lt;/td>'</span><span class="token punctuation">;</span>
                <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;td>&lt;a href="users.php?delete='</span> <span class="token punctuation">.</span> <span class="token variable">$user</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'_id'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'">Supprimer&lt;/td>'</span><span class="token punctuation">;</span>
                <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;/tr>'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;/table>'</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"Pas d'utilisateurs"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Ce qui nous donne, cette <del>magnifique</del> interface d√©pouill√©e :<br>
<img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 301 613' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-5e9d614121aae322e4db36897c4afc2d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-5e9d614121aae322e4db36897c4afc2d)' width='301' height='613' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCACCAEADASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAABAUAAwYCAQcI/8QANxAAAQMDAwMCBAQEBgMAAAAAAQIDBAURIQASMQYiQRNRFGFxgRUyQpEjJGKxFiZSkqHxwdHw/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAEDBAL/xAAjEQEAAQMCBgMAAAAAAAAAAAAAAQIR8SExEiIyYaGxA9Hh/9oADAMBAAIRAxEAPwD9Ey3eo0THxEjwVsbj6ZdcP5cWBt9z9/lrgPdUBgAxqYp7cL9ygnbbPnm%2bjZcerkyVQ5kZBWf4QdaKggXHNrE4v50II3UwbSkVGmlV7laoyieeANw164uw4ed6pLq1Mx6dsCuxKnCLp/q5z9NWwXepDJZE1imhgrPqltStwT4tc5PGrI7FfTJSZEyCtneLhtkpOy%2beSc8ad6cXYTU1NTXkTU1NTQZ2Z/iH8Vl/BS6SYitgZbeSv1EHb3A7ffkc41SgdZXb3np4DbZZAeOc5Hy4/wCdC9SxqaqouKnUOfKdUbh2PvIV2AX7Tjjb9vnrSUmamawSmNKYDdk7ZDZQeL4vz9dABUV1p6duosilqihAQ4l/cVJWCb22/Ijn240IkdZ3bCldPWsd5s9e%2bbEf8f8AOhHFU2FVnnl0KpmQytSkustLcSqxwRY2ub4Ftailzk1COXUMSWAFbdshotq4BvY%2bM/31BeXm0rS2txAcPCb5PPA%2bx/bXqHULNkLSo2vYG%2bP/AIHWS6xFONUi/iEeWs7MOMEdoze45/70mp6aCZkTZEqqVBY2E5CVbjz8vP31rFF4uj6OhxLiApCgpJ4KTcHXV9fL3U9OF4%2bvGrCXdytyG8pvc8WxnTKjJoP45GMZmqfE%2bqdqnB2A%2b5%2bWrPx2i5c4nOSjXH0xeoIrO3buiOoSooBSLeRa9idOqT63wSFSJbcwq7kvNoCApPjAJ0mrLCZFSIk9Otz2goAOnaTgA7u7GDcc3xqN1afFaEeN01MS2gFLYQtsISBwDnH2vbWSqVplOy3lQ%2bpmUpS8T6S0pVsFsI5B5uf29tP6Ul9MX%2bZlty1E3S6hAQCPoCdZubDjOy5BkdIiSUqVseAbPqDxyQQTc61FOabZgsNsxhFbSgAMAABv%2bnGP20CTqFcxNUjphVWNFUU5ZeI7z3WNrfXz40DCcq6pLAVXqc6m43IFiVp3HjHPI%2b2r%2brEsqqEcSKM7Pb2ZcbUq6Obi3Ht599KYLUL4qLfpeU1Zd0r3E%2bmd3OfHBx89bR04QYldcUAY9epSmSTtKwFK5OL4440bAVWDUWfiKtTXWN53NNpG5Q9gffWffZpq5ClSOkprjxJutBJScnNyR/bR9Iap4rMdTXTcuO76htIXwk/6ufOrVGmAXV3IArMnd1FIp8lIQVtlyyE4xYK7cg5/fka4pLLL8tluN1VJnLQ6pwoStCrhKklSVWGBwPufnpjUhU01BSo9Kgy45UBdawhZG0Zub%2bbi1uLaY0ptRjodkwWIco33obUFgZ/1AC97DWCsy%2bGUOvlHVkuMVFag2rabZIJSFgkgWIxjGnfTQ3x3XkVldVaWqwWoIsgjkdoHvm%2bhnfxUSJQNGgPt7lKaWXAgqHgEEG5ObnA%2bum9KS4mIPWiMxHCo3aaUFJ5wbgDkW8aBF1OtKapGtW1U5zbhJB2q/Nk/p9%2bflfxpZAe/mo1urfUurCVC3q957c%2bb3GM2t4tpv1IiSqoMFmjsVBkJ7ivCk84B/bx7%2b%2bFsFuYmSwXOl4zad3cpKrFHd%2bYYN8Wx762jpwgYvKCrN9Ztst3V/DcCdycnB35/fR1MeUaqwk9VtSbuH%2bWGy6/6ffGhVolhzv6RjvLuf4oc2g5NsEEj99G0xMgVNnd0yzGRvzIDuUj3tt/86tW2BXXpFJj1h/46XVYTgKVqWyVJbcujaBdIJUBYY4B1f09Dpz0kmn1ervGIsbmnn3NoPsQoC4xxxo2aquN1GR8I/TDHXs9Fp8qC04zfbzc/20ypZmeisVBUdTwcVb0b2Cb3SDfzbXOrH1Q0X4jZIlViOUvEFDRUEkkk7zYHcORfJtjjWmpFHbgOB5mbUHkqQEhEiQpxIGMgHg6CUeoVKWY8qlrbbeJJVf8ALc9psMEC1/P00%2bil0xmzILZd2jeW77b/ACv40GV6u%2bATV4ipc2XDd2dq2Um1u7JIzjP%2b766U0xdJEyL6VcqW8qsgELAX3ntNvF784zrR9QCompMfANQnkbe5D4Tcnu4vn/r66CgorvxLPqQqSU3HqbQm4G45FjzbH210RPLuhIXaQhW09S1SJZSrsJDg29xvgXGmVIdpprMdLPUNRkPeobML9TYo%2bQfFvrq5LfUBsWqZR30XNnVAXIubcG2jIDdbE9kyKbS2owX3LbHeB4tnnSqdN/P4A66mlOVWZ%2bIUeoPLQW1h1lC1h4hOLBJ/SFEfc60NChQ4cFJgMuMtvAOFLhVuGAM7jcG3jSuqqnIqb64tfiRWwAksPtBYQdoN%2bRmwJ%2b%2brKe5UEToomVynvocJs02wEqcwT2nceOdYKSVNNHFSlu1Gh1TdvWlTrSXFtrxcmyTaxB5I9x41s6ahpunRURkrQwlpIbSskqCbYBvm9tZlx6cXn2Y/U8EKU4UJStpKlNqJNk8jwLWtoxuLX3e5quQFIv8Aoh38%2b%2b/7aALrH8N/FYv4ixMUrZ2uRyO0Z58/96TU8UD4yJ6bFVSsLGwqyArcefl5%2b%2bn08Vdl%2bG1%2bNwRJ296HEhAdN1WIRnx8/wBOqoTlaVIYCq1THk3G9IsSpO48fPkfbW9M8uUZ94dOesfWbrKHdyrobBKb3PFsZ%2bWmVGFC/G4xjJqvxPqnaXAdgPz8W0WldfUAY1apK2CTtUsBSuTycXtxo2AqtmoM/E1KmuR953NtpG9Q9gffVqq038z9CqsNoeqcpMrphc5tG0tvpKD6hKbKwoi1hYfMa6oiIzlUQR0u/T1IBWmS4hsAHi3aom%2bfprmqOx2qvLUvqV6nrsNzS9oQjtT%2bXeLeQTb31oqc2W4iAqUuXe6g8u11Am44AHGudWYmJQ/JWJPSbj61PKKnBsKSONxJIuSAMfS9tMunJW55%2bM1Q3qZHRZW5QSEqX5Fkn6Z850ocfhhyQhPV64yvWJ2uqSFJVvJsN/I/Tbiw046acacXI9OuGrKCUBSrpsj83%2bnFyb/t9NAD1YlhdQjiTSHpyNn52lG6Obi3Ht599KYLUD4qL/lmY2Qu6VEk%2bmd3OfHBxpz1M4UVWMEVs05e3CFA7Vfmyf0%2b/Pyv40tgPL%2bKjW6tQ5dQG1Vh6o3nt7vN7jGbW8W1vT05QA%2bzS1SFGR0rPceJN1I7knJzckf20wpDVNFZjqZ6dmsPeobSFgbUn3586qL7oP8AD6zZZburscCdycnB39376OpjzpqrCVdVMSQXD/LD07r/AKffGrVe2QxqaZ6ZUhUekQ5QVhC1rCCe0ZVe983FrDHnTOkuy3YgM%2bI3EeBt6aHPUFrDN7D54%2bWs3U10hNemB%2bfU4UpW31C0paEOdgsAQCMAj53VrVxHEOxWXGlKW2pAKVKvci2Cb51zqQSBUA7sHT0N9KrlTheQgX3G2LEnFjf3JxptSGi3G3OxGIj6idzbNrWBNsjnGsfLdoTEh0OVWrMLQ6pfoIUoAqJJuAE5yDYE4sLeNaOgUpuK65NaqE6Wl9ASn13SpISOLA%2bec/PQC9SokKqEct0dqoNBPcpVwpPOAf28e%2blsFuUmSwV9LMNjdlaVWLfd%2bYYN8Wx9dEdXfApq8RUqfKhO7O1bSTb9WSR7Z/3aVU1dLEyL6XUFR3FVkghYC%2b89pt878%2b%2bt4jl29ovW3JDvf0gy8u5/ihzaDk2wQSNHUxLwqbN%2bmG4yd5vIDuUj3tbSUu0tCtv%2bKalEAKv4ACxtyb4GmNJdgGsx0tdST5DvqG0dXqbVHyD4t9dWqNNvY3GpqamudUIBBBAsdQAAAAWA8ampoKnYzDygp5ltxQwCpIOuUwoqSCmMwCPIbGpqa9QPDAiE3MWPf39Mf%2bteohxkKCkR2UqGQQgAjU1NUf/Z' /%3e%3c/svg%3e" width="301" data-srcset="/assets/static/php_mongo_listing.6dd6d49.13f58795ac63733b7aca51137a170fe1.jpg 301w" data-sizes="(max-width: 301px) 100vw, 301px" data-src="/assets/static/php_mongo_listing.6dd6d49.13f58795ac63733b7aca51137a170fe1.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/php_mongo_listing.6dd6d49.13f58795ac63733b7aca51137a170fe1.jpg" width="301"></noscript></p>
<h2>Insertion des donn√©es avec "insert"</h2>
<p>On cr√©√© un nouveau fichier "form_users.php" qui va nous servir de formulaire.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>users.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Firstname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Lastname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Envoyer<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Puis, on √©dite le fichier sur lequel le formulaire envoie les donn√©es au format "POST", "users.php".</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token shell-comment comment"># [Connexion √† la base]</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'firstname'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'firstname'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                               <span class="token single-quoted-string string">'lastname'</span>  <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'lastname'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Location: users.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">exit</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token shell-comment comment"># [Tableau des donn√©es]</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On r√©cup√®re les donn√©es pr√©sentes dans la super variable <code class="language-text">$_POST</code> pour les ins√©rer dans le tableau de la requ√™te <code class="language-text">insert</code>.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 238 177' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-78392058aa4fc80f9fd947bd14a1fccb'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-78392058aa4fc80f9fd947bd14a1fccb)' width='238' height='177' xlink:href='data:image/jpeg%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAIAAAAuKetIAAAACXBIWXMAAAsSAAALEgHS3X78AAAMtUlEQVRo3u1Z%2bVPbdhb3f7a/dGZ3up12tjPd3ZwQyEkhJwkQQtM2R5uEQiBtIBCOmDuEy8SAMeY0xhwB37ct34csy7dkWbazT5IDZJuwTdulyc6%2b0Xylr/S93vf73ucd4o1NS8emZrsGxoeEc6PiZZnCvKI0rihNH8rFK6%2b%2bWVBw6E8ffXqk6FRZTe2m0bu0rl3eNHwoF6/g2JnzlyoOHj1ZdPL0F8XnhmfWlzf1i%2bvapQ3dB3HxBNNSkVQxu6ISSmRDE/OCGfmMTCleVrzrJVranJYqfkXH33jxdGZEb0Y0RqvKYNXbXBa7W2OymexuNVQtTiPiMts9WqNVoTMrdSalzqzSW6BUak1bGiM8QDOVzrylNZkQt1pvVmjZNgarer8uHp3JkdkclC9fviSTMT%2bKUQThRFx0JhON4gGv22F3EKk0fM0xTd5A7PucwWRIUFnm6eW%2bEk9pci0syxfXlFB52lr36RcHLlVWPX7UeunS2Ss3auenRkrKq8l0RiyeFE2Nd3V3La/IOjvah0cFvfye5rbHvnBSIZvr6ek5W3amqaNvYnSo%2b9l4GpjIZbO5/SDe0oaq5afakYkpYKC94Vbjk8Fn3S137/zQ0cWvrqrs6ulraO2ET5fLTpaUlZaWlRQWFZVdqrh549uWVv6p4oP17T21N2oOHTx46sLlq1Xni44eO15WHqFe7nFiv/MJoOG41YN6gxGoJBJxis7RZBKxOmLRMIqFaJqOxRPwKYz63D5/OIxH44lQMBiOxlKpFI5hOB4cG%2byXbRlT6TSZwPu7u40ujF39PokSL0WScFEpMpFIwJoS8XgiSWYyNJlKpSlQB4KCl4kElaYzNE2loJbiChI6pqh0Op3JZOET85qispksnaagfXK/iOfxeNxu5vK%2bhdxAnjd89bAvfT7f9kP%2bmX3w/gZil%2bT%2bhY15gdfJHwjgeDgYRL0ebwBF4QEPR8J4CMMwP7cyny/f0u/PZDLcOWYZglqGQyQG0EgSRkdRFIMh0GAkEo1EIjgIXDAIZQgLslPlx4EG0WgUDQQ4zrEQHg3jHm5T/P7AnsTDXqdQCLNaTE6PH1aEY2gohBt0KjAUQTSYIEiKArGiohHgEJYVgIVSZNLnR7O5bUjNkQkSHkCiYGUYbIQvgKF%2brVql1mjNVgQLYnYEcXm8MBUzXzAYAobQwIsXmygeBcEEqfQ6LUqDNU2lQSjjsSjMhb2deOEdwvFILIk5T50%2b0ftsrKev98d7t2591/hj492Kq1cryq8/n3ze/qS7t5cv3VAnEwm/3wcLnR198snn/2jt6pfMSqanRWKRoLz0ii8OqkD5g6EE5rpWU1V1rfL7W9/e%2bP5OTVXltevXTxQcvt3SC7oDy4cNSqcSzXU3n00uri9Levuezi8stDTeKTh9XrYia25ukikMRDIBTIbfQrzoNsEZx5JJ1FZaWtre1lpUWFhW8uVXVTWHC47evnuv%2bmLFsYKD5TW3ig99duFWEywdjhfK4ba6G/Wt7Q/vFRQfP3Oy8MCx45fPVXuiVI6m0FCYwJxXKy9XXq3p5He0dfPr7tR28LvOFh04deVrpy8Ui0VDeDiXJr77qnxqce12ZcmfP/rLqfPlDffrjxUXHy88%2bPHfDojlKgAYWGj0LcQjdlGSIFJk0qjX6k0WRgC9bovFiiAIiCNiszocTqfL5XLYQcBAkODkgYFYBI8nqTQZsyKOSCTsC6BetzMSJ2k6DXJPJhNenz8YDIBmehn59gNueF0OpUJhd8MgKaiCXMZCgbW1dYPBYHe4oLtKrXV53CCiiM2GhaOgTknircScQGwXQYXFVZIDKYIEtkBeQP5JIg9c8CYB7YAB0BPggdXd3Db2cyXDYSgUj8e5PgmW4A7TwQigIdwzMyOU8QS0h0nZPSQ4xphJCQJGiO1JPBgr/e4E84GN28O%2bABvpfSEet4sfLuUZ4ByjN2wkW8IpZbK/m2uQ29PNyL42UW673H4LEpvdNQCPWT5NCIYGJiRSsCBgcFA/WDDGfgGKg%2bKCgBrUW0q1el4y5wW7hKIA8IDNAIG/8Oxy2Qz5ilIkAUYM3BXWJaES8SggKeeeEAQJsgmWCLwW2FaaFVSK9VYolpjXdMrpdMYZzacY7SRJHsNLEgPvcmJmtvlBXV1d/eO27r6e9jt37jX99LD2/v3mpge1dfe7erpbm1r5fH7ro0e19x88G%2bi%2befd%2bLO915vbYbCiJeESrUdsdTqvFDEhm1OvMVhsgo81itiF2m81stzusVovL7QbLH/B5bHYnuJVOMHiASi6nDUHAs4AGgWAogmN2O%2bJyOgEeA36vRm1gGAAk1hnMaYpYXZZubikcTrdOtbm6vmHQMwSoqthSON0ek06r1OhRvxeMqt/nlq%2btE%2bnsL3GbYXNDGApeQSgUDKDBGIcrEC7heDwBWMS6GdEYbDQYZ8AfQB4YElAPHEuCTMZjcSJFAO4B2sBkgFXQHuQinU7BnbcNhXC%2bsBSowkCsmLHODUM0BCeAORnW34GzyzFt0rC7FGP6/zNRjBSkX3mx1L/h2W5kY2SMbc35tpznslOyA1DccOw7BoVgobCUDCtzr7p9SJQ/ATjJFEW/Y0SbS7PH8lps/AfAKCOk4Yqzpd0CkcVo1uiNFv3Ww4YWjdFkNNv8XjficCEW0%2bamwuHxeZ2I1oRw/jOUa4uiSYksHAFxxubEMyaH3Y9isQhmsiD7xhGPWX/Uff706eLjBcdPXL5YVvz5kcLqyorL5RdOFJ84V3rqH38/Unam5GhR4fmzJZ98/NdrtS1czyjunZ4QSkSS1rYmfkdHff1Pj1t%2buHzttmh04HzlTQ4%2b94MB2KZchlyXy8US8doLnVm7NSGeW5lfmF5YksnmBKMjk1PTKzL5ily2uiqVzEiUegvXkybjBqOZJBJ6nc7v81stVoA8s8UCfpvT7d23sDivAwzAMKzk3nnWPYzAvqSIeJxPNj3e1z%2bxmEzE8UjEbdO1t/ARCIQ9aCQUCmAh1OcxmyxBPIqHAnaXj%2bsZcplb2jqd3qDH42Icb8RJpwmbzQ5hCsSIJr3G7cf34Rx4AKVwEw%2b1Hz5y%2bOiB4rIvTx46fqK6qvLKlYsnQCcunT34z8JzJaVHiwounjvz2Wef1tS1cj1RixoitdGRsYamVo1S1Ts0LJPNdDzhD/b39T8d6up6PPx8lmXgv6sJPC4wR0yqzs6OwcGR%2bXnJmFA0Py0WiMSzs5MDvT1Dw6Nzs/Oz85LFhZlxwfi6Us/1TEZDarXW63UZTNYQFlAq1RCCWG2Iz%2bO22d1RPGi1u/YBi/Zyp/8QXP%2b17jSbFcmy%2bczsK8qwzgTrQORf7DJbjGyA/jBuI%2bc85p9prhcz4L5EGv8rAc3/GXgPGGAV4Gegkcu99wzACrOpSaHAZPeGsGAIQkmgMB7wM8lLCDL9Xm8kQexnxvzdGXhJCwa779XWNT1qamior2t80Fhf%2b2NjU1tXj3hSUHP9602DY9sDfQ8ZAJ8l67JbtHqDSqUwWSwbaysbWwqfD7VZjAaDUa1WR%2bLv8wmw%2b8r9p2BCMwbCGVvAZgHy%2bE%2bl3l/icRmhNGuGdgLTnXCWevUzJv9XhsuNbH9K00xeMd8GeGbj0u3eMCBYNoiqXw%2bRqddnYXKK5K46zdpBiv2Qj6e3szI/C3rzJ0CniCDzR4yxvG92KnY5x7ldKZNEBHd7/ZxwZWGhFLUjbOzWJGNRPBp/cz4r93ru6hUl45EAiuXy2JiBTdjTnWadOdEzfr9gRrH5Ag1HVhYkJsS%2bMDOzsrYsmp6zm/UT0xI3YpldXJLLlp5PihYXJHOLspnJsZHJOcxv7%2bX3qwxGm9k0PT4umptbXJJC7CmamLRazdAs4PXIt1QBt3l%2bZRMxaSTzi2LxhF5vXZBM6YzWjRXp6tamcGxseUU2OTm1tiofeDooHB6sfdCs0Wil8lWjVqsxW12IXiqTb714oVSrxsdGEc/Of8S8Nyp82rOhsQifDUg31tsetWhNxu%2bufyWRyUeGBqYnRJ19faP9Tyqqr7Y8etzc%2bvCbqvLb9c0ymXR2YWFGNCGXbw0NdLW2t/HbO3sHuq9WXRFOiW/fuL0snf/6m5tbSvWYcEIs6K3%2b9p5wqK%2b%2b6cmyVCwYFQ4M9I8Jx2tvXPu%2bvvHRQ6AfzpVdEM7Mz83NiZ%2bPNTa1jA8PdQ8/12ys9o2MzUsmhwXjI08HhCLJ%2bOjTWZmC8992lJhKkUkiSb7KbsOpcefNSWSGZlUcTpNJ72XofBr9JZvOSJBUJsX8faKZv50UzWkU14RNNyWj0RgIZpb5l8nloBhJ42SDS2Jn6AydzWxLGJ2mCIKkM2lWz8hkkmB%2bN3FKx%2bgU1HaE6l%2bVzM3ijnqg3QAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="238" data-srcset="/assets/static/php_mongo_post.71a71aa.3c5fd1bc5bcb98f4798f8d09aa89f342.jpg 238w" data-sizes="(max-width: 238px) 100vw, 238px" data-src="/assets/static/php_mongo_post.71a71aa.3c5fd1bc5bcb98f4798f8d09aa89f342.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/php_mongo_post.71a71aa.3c5fd1bc5bcb98f4798f8d09aa89f342.jpg" width="238"></noscript></p>
<h2>Modification des donn√©es avec "update"</h2>
<p>On commence par modifier le formulaire "form_users.php" (dans sa version finale).</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token comment">// Appel de la connexion</span>
    <span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'mongodb.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Cas d'une √©dition</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// R√©cup√©ration de l'ObjectID au format ...</span>
        <span class="token variable">$id</span>       <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoId</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Lecture du document concern√©</span>
        <span class="token variable">$get_user</span> <span class="token operator">=</span> <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"_id"</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$get_user</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token double-quoted-string string">"Impossible de modifier cet utilisateur car il n'existe plus ou n'a jamais exist√©"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token delimiter important">?></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>users.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Firstname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">echo</span> <span class="token variable">$get_user</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'firstname'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Lastname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lastname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">echo</span> <span class="token variable">$get_user</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'lastname'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token delimiter important">?></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user_id<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$id</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Envoyer<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token punctuation">}</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On se connecte au serveur pour r√©cup√©rer les donn√©es pr√©sentes dans la collection "Users", puis on n'oublie pas de d√©clarer le champ cach√© contenant l'ObjectId du document concern√©.</p>
<p>Ensuite, on √©dite le fichier "users.php".</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token shell-comment comment"># [Connexion √† la base]</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$id</span>      <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoId</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$newdata</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'$set'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'firstname'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'firstname'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                             <span class="token single-quoted-string string">'lastname'</span>  <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'lastname'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"_id"</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$newdata</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'firstname'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'firstname'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                   <span class="token single-quoted-string string">'lastname'</span>  <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'lastname'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Location: users.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">exit</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token shell-comment comment"># [Tableau des donn√©es]</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Comme pour l'insertion des donn√©es, on r√©cup√®re les donn√©es du formulaire pour mettre √† jour les donn√©es dans le tableau de la requ√™te <code class="language-text">update</code>.</p>
<h2>Suppression des donn√©es avec "remove"</h2>
<p>Dans le fichier "users.php", on ajoute la condition ci-dessous.</p>
<div class="gridsome-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token shell-comment comment"># [Connexion √† la base]</span>

    <span class="token shell-comment comment"># [Conditions modification / ajout]</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'delete'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'delete'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MongoId</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'delete'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$c_users</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'_id'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Location: users.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">exit</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token shell-comment comment"># [Tableau des donn√©es]</span>
<span class="token delimiter important">?></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On supprime le document concern√© via son ObjectId.</p>
<h2>Sources</h2>
<ul>
<li>La classe MongoDB PHP: <a href="http://php.net/manual/fr/class.mongodb.php" target="_blank" rel="nofollow noopener noreferrer">http://php.net/manual/fr/class.mongodb.php</a> ;</li>
<li>Site officiel de MongoDB : <a href="http://www.mongodb.org" target="_blank" rel="nofollow noopener noreferrer">http://www.mongodb.org</a></li>
</ul>
</article></div></div></div></main><footer class="text-white mt-4"><ul class="nav nav-pills justify-content-center"><li><a href="https://github.com/etienner" target="_blank" rel="noopener" class="nav-link">Github</a></li><li><a href="https://medium.com/@etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Medium</a></li><li><a href="https://twitter.com/etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Twitter</a></li></ul></footer></div>
    <script src="/assets/js/app.8917d561.js" defer></script><script src="/assets/js/page--src-templates-post-vue.93f54eeb.js" defer></script>
  </body>
</html>
