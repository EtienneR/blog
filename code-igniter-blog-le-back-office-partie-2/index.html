<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>CodeIgniter Blog : le back office (Partie 2) - https://etienner.github.io</title><meta name="gridsome:hash" content="f62c6c6cc572da4535ce1c5d24fae4305ad17d6a"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.11"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Après, s&#x27;être attaqué à la partie &quot;front&quot; du blog, la partie &quot;back office&quot; s&#x27;annonce plus longue mais semée de curiosités. En effet, il faudra dans un premier temps créer un système d&#x27;identification simple"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="CodeIgniter Blog : le back office (Partie 2)"><meta data-vue-tag="ssr" property="og:description" content="Après, s&#x27;être attaqué à la partie &quot;front&quot; du blog, la partie &quot;back office&quot; s&#x27;annonce plus longue mais semée de curiosités. En effet, il faudra dans un premier temps créer un système d&#x27;identification simple"><meta data-vue-tag="ssr" property="og:url" content="https://etienner.github.io/code-igniter-blog-le-back-office-partie-2/"><meta data-vue-tag="ssr" name="twitter:domain" content="https://etienner.github.io"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="CodeIgniter Blog : le back office (Partie 2)"><meta data-vue-tag="ssr" name="twitter:description" content="Après, s&#x27;être attaqué à la partie &quot;front&quot; du blog, la partie &quot;back office&quot; s&#x27;annonce plus longue mais semée de curiosités. En effet, il faudra dans un premier temps créer un système d&#x27;identification simple"><meta data-vue-tag="ssr" name="twitter:site" content="@etiennerouzeaud"><meta data-vue-tag="ssr" name="twitter:creator" content="@etiennerouzeaud"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.dd5ac703.css" as="style"><link rel="preload" href="/assets/js/app.8edfcdd1.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.5669e3ec.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.0043f220.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.bb47b8d4.js"><link rel="stylesheet" href="/assets/css/0.styles.dd5ac703.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><header><div class="container text-center"><strong><a href="/" title="Accueil" class="active">Etienne ROUZEAUD - Développeur Web</a></strong></div></header><div class="title"><h1 class="display-4 text-center">CodeIgniter Blog : le back office (Partie 2)</h1></div><div class="container"><div class="row"><div class="mt-4 col-lg-2"><p><em><span>20 janvier 2014</span></em></p></div><article class="mt-4 col-lg-10"><p>Après, s'être attaqué à la partie "front" du blog, la partie "back office" s'annonce plus longue mais semée de curiosités. En effet, il faudra dans un premier temps créer un système d'identification simple puis dans un second temps, mettre en place un système de CRUD (Create Read Update Delete) pour les articles et les rubriques dans le dashboard.</p>
<h2 id="objectif"><a href="#objectif" aria-hidden="true"><span class="icon icon-link"></span></a>Objectif</h2>
<p>Faire la partie back office d'un blog via une interface de connexion : <a href="http://mon-blog.com/admin" target="_blank" rel="nofollow noopener noreferrer">http://mon-blog.com/admin</a> avec :</p>
<ul>
<li>2 contrôleurs</li>
<li>2 modèles</li>
<li>6 vues</li>
<li>1 helper (cf : le front)</li>
<li>Modification du fichier routes.php</li>
<li>1 table de données (MySQL) (cf : le front)</li>
</ul>
<h2 id="préparation"><a href="#pr%C3%A9paration" aria-hidden="true"><span class="icon icon-link"></span></a>Préparation</h2>
<p>Créez 3 dossiers "admin" dans les répertoires ci-dessous :</p>
<ul>
<li><code class="language-text">application/controllers</code></li>
<li><code class="language-text">application/models</code></li>
<li><code class="language-text">application/views</code></li>
</ul>
<p>Dans le helper (<code class="language-text">application/helpers</code>) functions.php, à la suite de la fonction <code class="language-text">css_url()</code>, on va ajoutez la fonction <code class="language-text">js_url()</code> nous aurons besoin d'appeler du javascript :</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'js_url'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token keyword">function</span> <span class="token function">js_url</span><span class="token punctuation">(</span><span class="token variable">$nom</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token single-quoted-string string">'&lt;script src="'</span> <span class="token punctuation">.</span> <span class="token function">base_url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'assets/js/'</span> <span class="token punctuation">.</span> <span class="token variable">$nom</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'.js">&lt;/script>
'</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Allez dans le répertoire <code class="language-text">assets</code> créez un nouveau dossier "js" et déposez les fichiers jquery.min.js (<a href="http://jquery.com/download" target="_blank">http://jquery.com/download</a>) et bootstrap.min.js.
Au niveau de la base de données, rajoutez une table "user" avec la structure et les données suivante :</p>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token punctuation">(</span>
 <span class="token punctuation">`</span>u_id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
 <span class="token punctuation">`</span>u_login<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 <span class="token punctuation">`</span>u_pass<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>u_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>u_id<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>u_login<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>u_pass<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token string">'1a1dc91c907325c69271ddf0c944bc72 '</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Ci-dessus, le mot de passe en MD5 est "pass".<br>
Encore une fois, il s'agit pour les besoins du tutoriel, d'un système d'utilisateur basique (sans niveau d'accréditation, sans table de log…)</p>
<h2 id="la-connexion"><a href="#la-connexion" aria-hidden="true"><span class="icon icon-link"></span></a>La connexion</h2>
<p>Avant de démarrer dans l'authentification sur CodeIgniter, il faut mettre une clef de chiffrement dans le fichier de configuration (application/config/config.php) afin que les sessions puissent fonctionner correctement (à défaut d'avoir le message suivant :
<em>In order to use the Session class you are required to set an encryption key in your config file.</em>).<br>
A la ligne 227 :</p>
<pre class="language-php"><code class="language-php"><span class="token variable">$config</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'encryption_key'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">;</span></code></pre>
<p>Copiez coller votre clef de chiffrement (ou bien collez en une générée sur ce site : <a href="http://jeffreybarke.net/tools/codeigniter-encryption-key-generator">http://jeffreybarke.net/tools/codeigniter-encryption-key-generator</a>).<br>
Concrètement, on veut, dans un 1er temps diriger l'utilisateur sur le formulaire d'authentification comprenant 2 champs : "login" et "password".<br>
Si le login et le mot de passe correspondent (via une fonction callback) alors on laisse l'utilisateur accéder à son dashboard et de ce fait, sa session est ouverte, sinon on l'invite à réessayer.<br>
On met aussi une fonction logout qui détruira la session lorsque l'utilisateur voudra se déconnecter du dashboard.<br>
L'url vers le formulaire (après configuration des routes) sera : <a href="http://localhost/blog/admin" target="_blank" rel="nofollow noopener noreferrer">http://localhost/blog/admin</a>.</p>
<h3 id="contrôleur-admin"><a href="#contr%C3%B4leur-admin" aria-hidden="true"><span class="icon icon-link"></span></a>Contrôleur "Admin"</h3>
<p>Dans le dossier <code class="language-text">application/controllers/admin</code>, créez un contrôleur que vous nommez "admin.php".</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">defined</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'BASEPATH'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'No direct script access allowed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">CI_Controller</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token scope"><span class="token keyword">parent</span><span class="token punctuation">::</span></span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">model</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin/model_user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">library</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'encrypt'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'session'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'functions'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">library</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'form_validation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Mise en place du formulaire</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Username'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'trim|required|xss_clean'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Password'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'trim|required|xss_clean|callback_check_database'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Si le formulaira n'est pas bon</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean constant">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Connexion'</span><span class="token punctuation">;</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">view</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin/view_form_login'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Bienvenue sur votre dashboard.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// Redirection vers le dashboard</span>
                <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin/dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token keyword">elseif</span><span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin/dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">echo</span> <span class="token single-quoted-string string">'ok'</span><span class="token punctuation">;</span>

        <span class="token keyword">endif</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Vérification login / mot de passe dans la BDD</span>
    <span class="token keyword">function</span> <span class="token function">check_database</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token variable">$login</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">input</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_user</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">login</span><span class="token punctuation">(</span><span class="token variable">$login</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token variable">$sess_array</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$query</span> <span class="token keyword">as</span> <span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token variable">$sess_array</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
                    <span class="token single-quoted-string string">'id'</span>    <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">u_id</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'login'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">u_login</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token variable">$u_id</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">u_id</span><span class="token punctuation">;</span>
                <span class="token comment">// Création de la session</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">,</span> <span class="token variable">$sess_array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">endforeach</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean constant">TRUE</span><span class="token punctuation">;</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_message</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'check_database'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Login ou mot de passe incorrect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean constant">FALSE</span><span class="token punctuation">;</span>

        <span class="token keyword">endif</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Déconnexion du dashboard</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">unset_userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Vous êtes désormais déconnecté(e).'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">session_destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'refresh'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


<span class="token comment">/* End of file admin.php */</span>
<span class="token comment">/* Location: ./application/controllers/admin/admin.php */</span></span></code></pre>
<p>Attention : dans ce contrôleur, nous utilisons le helper "functions" (<code class="language-text">application/helpers/functions_helper.php</code>) créé dans le précédent tuto.</p>
<h3 id="modèle-model_user"><a href="#mod%C3%A8le-model_user" aria-hidden="true"><span class="icon icon-link"></span></a>Modèle "Model_user"</h3>
<p>Dans le dossier <code class="language-text">application/models/admin</code>, créez un modèle que vous nommez "model_user.php".<br>
Nous n'utiliserons qu'une seule fonction afin de déterminer si le login et le mot de passe correspondent aux champs rentrés par l'utilisateur.</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">defined</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'BASEPATH'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'No direct script access allowed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Model_user</span> <span class="token keyword">extends</span> <span class="token class-name">CI_Model</span> <span class="token punctuation">{</span>

    <span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token variable">$login</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'*'</span><span class="token punctuation">)</span>
                 <span class="token operator">-</span><span class="token operator">></span><span class="token function">from</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">)</span>
                 <span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'u_login'</span><span class="token punctuation">,</span> <span class="token variable">$login</span><span class="token punctuation">)</span>
                 <span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'u_pass'</span><span class="token punctuation">,</span> <span class="token function">MD5</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                 <span class="token operator">-</span><span class="token operator">></span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">num_rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
        <span class="token keyword">endif</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>


<span class="token comment">/* End of file model_user.php */</span>
<span class="token comment">/* Location: ./application/models/admin/model_user.php */</span></span></code></pre>
<h3 id="vue-view_form_login"><a href="#vue-view_form_login" aria-hidden="true"><span class="icon icon-link"></span></a>Vue view_form_login</h3>
<p>Dans le dossier <code class="language-text">application/views/admin</code>, créez une vue que vous nommez "view_form_login.php".</p>
<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $title; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo $title; ?><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token prolog">&lt;?php echo css_url('bootstrap.min'); ?></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-7 col-md-offset-2 panel panel-default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    
                    <span class="token prolog">&lt;?php if($this->session->flashdata('success')): ?></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert alert-success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token prolog">&lt;?php echo $this->session->flashdata('success'); ?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&times;">&amp;times;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token prolog">&lt;?php endif; ?></span>

                    <span class="token prolog">&lt;?php if(validation_errors()): ?></span>
                    <span class="token prolog">&lt;?php echo validation_errors('&lt;div class="alert alert-danger">', ' &lt;a class="close" data-dismiss="alert" href="#">&amp;times;&lt;/a>&lt;/div>'); ?></span>
                    <span class="token prolog">&lt;?php endif; ?></span>

                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $title; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
                    

                    <span class="token prolog">&lt;?php echo form_open(base_url('admin')); ?></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>input-prepend<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-1 control-label<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-user<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 43px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control input-lg<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Username<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-1 control-label<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-lock<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 43px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-sm-11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control input-lg<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-md-offset-10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Login<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 btn btn-lg btn-primary<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>

                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .main content --></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .row --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .container --></span>

    <span class="token prolog">&lt;?php 
        echo js_url('jquery.min');
        echo js_url('bootstrap.min');
    ?></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<h2 id="le-dashboard"><a href="#le-dashboard" aria-hidden="true"><span class="icon icon-link"></span></a>Le Dashboard</h2>
<p>Le dashboard va permettre de gérer le contenu présent sur le blog, c'est-à-dire les articles et les rubriques. Ainsi, dans le dashboard on aura la liste des articles, des rubriques, l'ajout, la modification ou la suppression du contenu.</p>
<h3 id="contrôleur-dashboard"><a href="#contr%C3%B4leur-dashboard" aria-hidden="true"><span class="icon icon-link"></span></a>Contrôleur "Dashboard"</h3>
<p>Dans le dossier <code class="language-text">application/controllers/admin</code>, créez un contrôleur que vous nommez "dashboard.php".</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">defined</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'BASEPATH'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'No direct script access allowed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Dashboard</span> <span class="token keyword">extends</span> <span class="token class-name">CI_Controller</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token scope"><span class="token keyword">parent</span><span class="token punctuation">::</span></span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">model</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin/model_admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">library</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'form_validation'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'session'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">helper</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'functions'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'text'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'URL_LAYOUT'</span>      <span class="token punctuation">,</span> <span class="token single-quoted-string string">'admin/view_dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'URL_HOME_CONTENT'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'admin/dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'URL_HOME_RUBRIC'</span> <span class="token punctuation">,</span> <span class="token single-quoted-string string">'admin/dashboard/rubric'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Obtenir le login</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">get_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Obtenir la redirection</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'alert'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Cette page est protégée par un mot de passe.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$data</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span></code></pre>
<p>Attention : dans ce contrôleur, nous utilisons le helper "functions" (<code class="language-text">application/helpers/functions_helper.php</code>) créé dans le précédent tuto.</p>
<h4 id="afficher-tous-les-articles-page-daccueil"><a href="#afficher-tous-les-articles-page-daccueil" aria-hidden="true"><span class="icon icon-link"></span></a>Afficher tous les articles (page d'accueil)</h4>
<pre class="language-php"><code class="language-php"><span class="token comment">// Afficher tous les articles</span>
<span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Pour afficher le login</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'page'</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token single-quoted-string string">'home'</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Ma dashboard'</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'query'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">read_content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">view</span><span class="token punctuation">(</span><span class="token constant">URL_LAYOUT</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="ajouter--modifier-un-article"><a href="#ajouter--modifier-un-article" aria-hidden="true"><span class="icon icon-link"></span></a>Ajouter / modifier un article</h4>
<pre class="language-php"><code class="language-php"><span class="token comment">// Ajouter ou éditer un article</span>
<span class="token keyword">function</span> <span class="token function">edit</span><span class="token punctuation">(</span><span class="token variable">$c_id</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment">// Pour afficher le login</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Chargement des rubriques</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'rubrics'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">read_rubric</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Mise en place du formulaire</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_title'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Titre'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'trim|required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_content'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Contenu'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'trim|required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Rubrique'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Assignations du formulaire</span>
        <span class="token variable">$c_title</span>   <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">input</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$c_content</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">input</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$r_id</span>      <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">input</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// On vérifie si c'est pour ajouter ou modifier via l'URI</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">uri</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">total_segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'page'</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token single-quoted-string string">'add_content'</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Ajouter un article'</span><span class="token punctuation">;</span>

            <span class="token comment">// Réécriture du titre pour la future URL de l'article</span>
            <span class="token variable">$c_url_rw</span> <span class="token operator">=</span> <span class="token function">url_title</span><span class="token punctuation">(</span><span class="token function">convert_accented_characters</span><span class="token punctuation">(</span><span class="token variable">$c_title</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'-'</span><span class="token punctuation">,</span> <span class="token boolean constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean constant">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">create_content</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">,</span> <span class="token variable">$c_title</span><span class="token punctuation">,</span> <span class="token variable">$c_content</span><span class="token punctuation">,</span> <span class="token variable">$c_url_rw</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Article "'</span> <span class="token punctuation">.</span> <span class="token variable">$c_title</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'" ajouté.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token constant">URL_HOME_CONTENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'page'</span><span class="token punctuation">]</span>      <span class="token operator">=</span> <span class="token single-quoted-string string">'edit_content'</span><span class="token punctuation">;</span>
            <span class="token variable">$row</span>               <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_content</span><span class="token punctuation">(</span><span class="token variable">$c_id</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'r_id'</span><span class="token punctuation">]</span>      <span class="token operator">=</span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">r_id</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'c_title'</span><span class="token punctuation">]</span>   <span class="token operator">=</span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">c_title</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'c_content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">c_content</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span>     <span class="token operator">=</span> <span class="token single-quoted-string string">'Modifer la rubrique '</span> <span class="token punctuation">.</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'c_title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean constant">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">update_content</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">,</span> <span class="token variable">$c_title</span><span class="token punctuation">,</span> <span class="token variable">$c_content</span><span class="token punctuation">,</span> <span class="token variable">$c_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Article "'</span> <span class="token punctuation">.</span> <span class="token variable">$c_title</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'" modifié.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token constant">URL_HOME_CONTENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token keyword">endif</span><span class="token punctuation">;</span>
        
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">view</span><span class="token punctuation">(</span><span class="token constant">URL_LAYOUT</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="supprimer-un-article"><a href="#supprimer-un-article" aria-hidden="true"><span class="icon icon-link"></span></a>Supprimer un article</h4>
<pre class="language-php"><code class="language-php"><span class="token comment">// Supprimer un article</span>
<span class="token keyword">function</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$id</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment">// Si l'utilisateur existe, on peut le supprimer</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_content</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">num_rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">delete_content</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'L\'article a bien été supprimé'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Sinon on affiche le message ci-dessous :</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'alert'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Cette article n\'existe pour ou n\'a jamais existé'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token constant">URL_HOME_CONTENT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">endif</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="afficher-toutes-les-catégories"><a href="#afficher-toutes-les-cat%C3%A9gories" aria-hidden="true"><span class="icon icon-link"></span></a>Afficher toutes les catégories</h4>
<pre class="language-php"><code class="language-php"><span class="token comment">// Afficher toutes les rubriques</span>
<span class="token keyword">function</span> <span class="token function">rubric</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment">// Pour afficher le login</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'page'</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Rubriques'</span><span class="token punctuation">;</span>

        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'query'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">read_rubric</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">view</span><span class="token punctuation">(</span><span class="token constant">URL_LAYOUT</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="ajouter--modifier-une-catégorie"><a href="#ajouter--modifier-une-cat%C3%A9gorie" aria-hidden="true"><span class="icon icon-link"></span></a>Ajouter / modifier une catégorie</h4>
<pre class="language-php"><code class="language-php"><span class="token comment">// Ajouter ou modifier une rubrique</span>
<span class="token keyword">function</span> <span class="token function">edit_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_id</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        
        <span class="token comment">// Pour afficher le login</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Mise en place du formulaire via form-validation</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_title'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Titre'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'trim|required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_rules</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_description'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Description'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'trim|required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Assignations du formulaire</span>
        <span class="token variable">$r_title</span>       <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">input</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$r_description</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">input</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_description'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// On vérifie si c'est pour ajouter ou modifier via l'URI</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">uri</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">total_segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'page'</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token single-quoted-string string">'add_rubric'</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Ajouter une rubrique'</span><span class="token punctuation">;</span>

            <span class="token comment">// Réécriture du titre pour la future URL de la rubrique</span>
            <span class="token variable">$r_url_rw</span> <span class="token operator">=</span> <span class="token function">url_title</span><span class="token punctuation">(</span><span class="token function">convert_accented_characters</span><span class="token punctuation">(</span><span class="token variable">$r_title</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'-'</span><span class="token punctuation">,</span> <span class="token boolean constant">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean constant">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">create_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_title</span><span class="token punctuation">,</span> <span class="token variable">$r_description</span><span class="token punctuation">,</span> <span class="token variable">$r_url_rw</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Rubrique "'</span> <span class="token punctuation">.</span> <span class="token variable">$r_title</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'" ajoutée'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token constant">URL_HOME_RUBRIC</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'page'</span><span class="token punctuation">]</span>          <span class="token operator">=</span> <span class="token single-quoted-string string">'edit_rubric'</span><span class="token punctuation">;</span>
            <span class="token variable">$row</span>                   <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'r_title'</span><span class="token punctuation">]</span>       <span class="token operator">=</span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">r_title</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'r_description'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">r_description</span><span class="token punctuation">;</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span>         <span class="token operator">=</span> <span class="token single-quoted-string string">'Mofidifer la rubrique '</span> <span class="token punctuation">.</span> <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'r_title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">form_validation</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean constant">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">update_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_title</span><span class="token punctuation">,</span> <span class="token variable">$r_description</span><span class="token punctuation">,</span> <span class="token variable">$r_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Catégorie "'</span> <span class="token punctuation">.</span> <span class="token variable">$r_title</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'" modifiée.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token constant">URL_HOME_RUBRIC</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">load</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">view</span><span class="token punctuation">(</span><span class="token constant">URL_LAYOUT</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="supprimer-une-catégorie"><a href="#supprimer-une-cat%C3%A9gorie" aria-hidden="true"><span class="icon icon-link"></span></a>Supprimer une catégorie</h4>
<pre class="language-php"><code class="language-php"><span class="token comment">// Supprimer une catégorie</span>
<span class="token keyword">function</span> <span class="token function">delete_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">userdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'logged_in'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment">// On vérifie si la rubrique existe toujours</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">num_rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

            <span class="token comment">// On vérifie si il y a des articles rattachés à cette rubrique</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_content_by_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">num_rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">model_admin</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">delete_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Rubrique supprimée.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'alert'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Impossible de supprimer cette rubrique car il y a un ou plusieurs article(s) rattaché(s).'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">session</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">set_flashdata</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'alert'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Cette rubrique n'</span>existe pas ou n<span class="token single-quoted-string string">'a jamais existé.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">endif</span><span class="token punctuation">;</span>

        <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token function">base_url</span><span class="token punctuation">(</span><span class="token constant">URL_HOME_RUBRIC</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get_redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">endif</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Et on ferme le contrôleur :</p>
<pre class="language-php"><code class="language-php"><span class="token punctuation">}</span>


<span class="token comment">/* End of file dashboard.php */</span>
<span class="token comment">/* Location: ./application/controllers/admin/dashboard.php */</span></code></pre>
<h3 id="modèle-model_admin"><a href="#mod%C3%A8le-model_admin" aria-hidden="true"><span class="icon icon-link"></span></a>Modèle Model_admin</h3>
<p>Dans le dossier <code class="language-text">application/models/admin</code>, créez un modèle "model_admin.php".</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">defined</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'BASEPATH'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'No direct script access allowed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Model_admin</span> <span class="token keyword">extends</span> <span class="token class-name">CI_Model</span> <span class="token punctuation">{</span></span></code></pre>
<h4 id="requêtes-pour-les-articles-create"><a href="#requ%C3%AAtes-pour-les-articles-create" aria-hidden="true"><span class="icon icon-link"></span></a>Requêtes pour les articles CREATE</h4>
<p>1) Create : Créer un article</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Create : Créer un article</span>
<span class="token keyword">function</span> <span class="token function">create_content</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">,</span> <span class="token variable">$c_title</span><span class="token punctuation">,</span> <span class="token variable">$c_content</span><span class="token punctuation">,</span> <span class="token variable">$c_url_rw</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$date</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DateTimeZone</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Europe/Paris'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token single-quoted-string string">'r_id'</span>      <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_id</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_title'</span>   <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$c_title</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_content'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$c_content</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_cdate'</span>   <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$date</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">format</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_udate'</span>   <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$date</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">format</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_url_rw'</span>  <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$c_url_rw</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>2) Read : Lire tous les articles</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Read : Lire tous les articles </span>
<span class="token keyword">function</span> <span class="token function">read_content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id, c_title, c_content, c_cdate, c_udate, c_url_rw, r_title, r_url_rw'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">from</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'rubric.r_id = content.r_id'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">order_by</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'DESC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>3) Lire un article en particulier</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Lire un article en particulier : </span>
<span class="token keyword">function</span> <span class="token function">get_content</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id, content.r_id, c_title, c_content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">from</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'content.r_id = rubric.r_id'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id'</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>4) Le contenu dans une rubrique spécifique</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Le contenu dans une rubrique spécifique :</span>
<span class="token keyword">function</span> <span class="token function">get_content_by_rubric</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">from</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'content.r_id = rubric.r_id'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric.r_id'</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>5) Update : mettre à jour un article</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Update : mettre à jour un article </span>
<span class="token keyword">function</span> <span class="token function">update_content</span><span class="token punctuation">(</span><span class="token variable">$r_id</span><span class="token punctuation">,</span> <span class="token variable">$c_title</span><span class="token punctuation">,</span> <span class="token variable">$c_content</span><span class="token punctuation">,</span> <span class="token variable">$c_id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$date</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DateTimeZone</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Europe/Paris'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token single-quoted-string string">'r_id'</span>      <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_id</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_title'</span>   <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$c_title</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_content'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$c_content</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'c_udate'</span>   <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$date</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">format</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id'</span><span class="token punctuation">,</span> <span class="token variable">$c_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">update</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>6) Delete : supprimer un article</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Delete : supprimer un article :</span>
<span class="token keyword">function</span> <span class="token function">delete_content</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'c_id'</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
<h4 id="requêtes-pour-les-catégories"><a href="#requ%C3%AAtes-pour-les-cat%C3%A9gories" aria-hidden="true"><span class="icon icon-link"></span></a>Requêtes pour les catégories</h4>
<p>1) Create : créer une rubrique</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Create : créer une rubrique </span>
<span class="token keyword">function</span> <span class="token function">create_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_title</span><span class="token punctuation">,</span> <span class="token variable">$r_description</span><span class="token punctuation">,</span> <span class="token variable">$r_url_rw</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token single-quoted-string string">'r_title'</span>       <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_title</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'r_description'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_description</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'r_url_rw'</span>      <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_url_rw</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>2) Read : Lire toutes les rubriques</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Read : Lire toutes les rubriques </span>
<span class="token keyword">function</span> <span class="token function">read_rubric</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_id, r_title, r_description'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">from</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">order_by</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'DESC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>3) Lire une rubrique en particulier</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Lire une rubrique en particulier </span>
<span class="token keyword">function</span> <span class="token function">get_rubric</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">select</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_title, r_description'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">from</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_id'</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">></span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>4) Update : mettre à jour une rubrique</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Update : mettre à jour une rubrique </span>
<span class="token keyword">function</span> <span class="token function">update_rubric</span><span class="token punctuation">(</span><span class="token variable">$r_title</span><span class="token punctuation">,</span> <span class="token variable">$r_description</span><span class="token punctuation">,</span> <span class="token variable">$r_id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token single-quoted-string string">'r_title'</span>       <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_title</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'r_description'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$r_description</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_id'</span><span class="token punctuation">,</span> <span class="token variable">$r_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">update</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>5) Delete : supprimer une rubrique</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Delete :  supprimer une rubrique </span>
<span class="token keyword">function</span> <span class="token function">delete_rubric</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'r_id'</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span>
             <span class="token operator">-</span><span class="token operator">></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rubric'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="et-on-ferme-le-modèle-"><a href="#et-on-ferme-le-mod%C3%A8le-" aria-hidden="true"><span class="icon icon-link"></span></a>Et on ferme le modèle :</h4>
<pre class="language-php"><code class="language-php"><span class="token punctuation">}</span>

<span class="token comment">/* End of file model_admin.php */</span>
<span class="token comment">/* Location: ./application/models/admin/model_admin.php */</span></code></pre>
<h3 id="vues"><a href="#vues" aria-hidden="true"><span class="icon icon-link"></span></a>Vues</h3>
<h4 id="mise-en-place-dun-layout"><a href="#mise-en-place-dun-layout" aria-hidden="true"><span class="icon icon-link"></span></a>Mise en place d'un layout</h4>
<p>Dans le dossier <code class="language-text">application/views/admin</code>.</p>
<ul>
<li>"view_dashboard.php" : contiendra le header et le footer</li>
</ul>
<p>Créez un dossier et nommez-le "dashboard", puis créez les 5 fichiers suivant : </p>
<ul>
<li>"view_admin_article_home.php" : affichera tous les articles</li>
<li>"view_admin_article_edit.php" : affichera l'édition d'un article (insertion / modification)</li>
<li>"view_admin_categorie_home.php" : affichera toutes les rubriques</li>
<li>"view_admin_categorie_edit.php" : affichera l'édition d'une rubrique (insertion / modification)</li>
</ul>
<h4 id="view_dashboardphp"><a href="#view_dashboardphp" aria-hidden="true"><span class="icon icon-link"></span></a>"view_dashboard.php"</h4>
<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $title; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo $title ; ?><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token prolog">&lt;?php echo css_url('bootstrap.min'); ?></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>


        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar navbar-default<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-toggle<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#bs-example-navbar-collapse-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Toggle navigation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .navbar-toggle --></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard'); ?><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .navbar-header --></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>collapse navbar-collapse<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-example-navbar-collapse-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav navbar-nav<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    &lt;li <span class="token prolog">&lt;?php if ($page == 'home' or $page == 'add_content' or $page == 'edit_content'){ echo "class='active'"; }; ?></span>>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard'); ?><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                            Articles
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    &lt;li <span class="token prolog">&lt;?php if ($page == 'rubric' or $page == 'add_rubric' or $page == 'edit_rubric'){ echo "class='active'"; }; ?></span>>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard/rubric'); ?><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                            Rubriques
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                <span class="token comment">&lt;!-- end .nav navbar-nav --></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav navbar-nav navbar-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url(); ?><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Le blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dropdown<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dropdown-toggle<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dropdown<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $login; ?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>caret<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>dropdown-menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span> 
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/logout'); ?><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                                    Se déconnecter
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token comment">&lt;!-- end .dropdown-menu--></span>
                    <span class="token comment">&lt;!-- end .dropdown --></span>
                <span class="token comment">&lt;!-- end .nav .navbar-nav .navbar-right --></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .collapse .navbar-collapse #bs-example-navbar-collapse-1 --></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .navbar .navbar-default --></span>

    <span class="token prolog">&lt;?php if ($this->session->flashdata('success')): ?></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert alert-success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token prolog">&lt;?php echo $this->session->flashdata('success'); ?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&times;">&amp;times;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token prolog">&lt;?php endif; ?></span>

    <span class="token prolog">&lt;?php if ($this->session->flashdata('alert')): ?></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert alert-danger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token prolog">&lt;?php echo $this->session->flashdata('alert'); ?></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity" title="&times;">&amp;times;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token prolog">&lt;?php endif; ?></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav nav-pills nav-stacked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span> 
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>window.location.href='&lt;?php echo base_url('admin/dashboard/edit'); ?>'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-danger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-plus<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> Ajouter un article
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>window.location.href='&lt;?php echo base_url('admin/dashboard/edit_rubric'); ?>'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-plus<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> Ajouter une rubrique
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
            <span class="token comment">&lt;!-- end of .col-md-2 .nav-stacked --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end of .col-md-2 --></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token prolog">&lt;?php switch ($page) {
            case 'home':
                $this->load->view('admin/dashboard/view_listing_content');
                break;

            case 'add_content':
            case 'edit_content':
                $this->load->view('admin/dashboard/view_edit_content');
                break;

            case 'rubric':
                $this->load->view('admin/dashboard/view_listing_rubric');
                break;

            case 'add_rubric':
            case 'edit_rubric':
                $this->load->view('admin/dashboard/view_edit_rubric');
                break;

            default:
                
                break;
        }
        ?></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .col-md-10 --></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .row --></span> 

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">data-role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span> center</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Propulsé par CodeIgniter - Temps d'exécution : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>0.0610<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> seconds
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>

    <span class="token prolog">&lt;?php 
        echo js_url('jquery.min');
        echo js_url('bootstrap.min');
    ?></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<h4 id="view_listing_contentphp"><a href="#view_listing_contentphp" aria-hidden="true"><span class="icon icon-link"></span></a>"view_listing_content.php"</h4>
<pre class="language-html"><code class="language-html"><span class="token prolog">&lt;?php if($query->num_rows() > 0): ?></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table-responsive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table table-hover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Titre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Description<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Rubrique<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>MAJ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
            <span class="token prolog">&lt;?php foreach($query->result() as $row): ?></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $row->c_id; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $row->c_title; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo character_limiter($row->c_content, 64); ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $row->r_title; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo date("d/m/Y à H:i:s", strtotime($row->c_cdate)); ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo date("d/m/Y à H:i:s", strtotime($row->c_udate)); ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard/edit/' . $row->c_id); ?><span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Modifier<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-pencil<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard/delete/' . $row->c_id); ?><span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return deleteConfirm()<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Supprimer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-trash<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
            <span class="token prolog">&lt;?php endforeach; ?></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .table .table-hover --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .table-responsive --></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">deleteConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"Etes-vous sur de vouloir supprimer cet article ?!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

    <span class="token prolog">&lt;?php endif; ?></span></code></pre>
<p>####"view_edit_content.php"</p>
<pre class="language-html"><code class="language-html"><span class="token prolog">&lt;?php 
    if (validation_errors()):
        echo validation_errors('&lt;div class="alert alert-danger">', ' &lt;a class="close" data-dismiss="alert" href="#">&amp;times;&lt;/a>&lt;/div>');
    endif;
    echo form_open(current_url()); // $config['index_page'] = ''; dans config/config.php
?></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c_title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Titre de l'article:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c_title<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c_title<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php if(isset($c_title)): echo $c_title; else: echo set_value('c_title'); endif; ?><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .form-group --></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c_content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Contenu de l'article :<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c_content<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c_content<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php if(isset($c_content)): echo $c_content; else: echo set_value('c_content'); endif; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .form-group --></span>

    Rubriques :
    <span class="token prolog">&lt;?php foreach ($rubrics->result() as $row): ?></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>
            &lt;input type="radio" name="rubric" id="<span class="token prolog">&lt;?php echo $row->r_title ;?></span>" value="<span class="token prolog">&lt;?php echo $row->r_id ;?></span>" <span class="token prolog">&lt;?php if( $page == 'edit_content' and isset($rubrics) and $row->r_id == $r_id or set_value('rubrique') == $row->r_id ){ echo 'checked="checked"'; } ?></span> required />
            <span class="token prolog">&lt;?php echo $row->r_title; ?></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .radio --></span>
    <span class="token prolog">&lt;?php endforeach; ?></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php if ($page == 'add_content'){ echo 'Ajouter';} else{ echo 'Modifier'; }; ?><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<h4 id="view_listing_rubricphp"><a href="#view_listing_rubricphp" aria-hidden="true"><span class="icon icon-link"></span></a>"view_listing_rubric.php"</h4>
<pre class="language-html"><code class="language-html"><span class="token prolog">&lt;?php if($query->num_rows() > 0): ?></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table-responsive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table table-hover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Titre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Description<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
                <span class="token prolog">&lt;?php foreach($query->result() as $row): ?></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $row->r_id; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo $row->r_title; ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php echo character_limiter($row->r_description, 64); ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard/edit_rubric/' . $row->r_id); ?><span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Modifier<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-pencil<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php echo base_url('admin/dashboard/delete_rubric/' . $row->r_id); ?><span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return deleteConfirm()<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Supprimer<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>glyphicon glyphicon-trash<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
                <span class="token prolog">&lt;?php endforeach; ?></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .table .table-hover --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .table-responsive --></span>
        
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">function</span> <span class="token function">deleteConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"Etes-vous sur de vouloir supprimer cette catégorie ?!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

        <span class="token prolog">&lt;?php endif; ?></span></code></pre>
<h4 id="view_edit_rubricphp"><a href="#view_edit_rubricphp" aria-hidden="true"><span class="icon icon-link"></span></a>"view_edit_rubric.php"</h4>
<pre class="language-html"><code class="language-html"><span class="token prolog">&lt;?php 
    if (validation_errors()):
        echo validation_errors('&lt;div class="alert alert-danger">', ' &lt;a class="close" data-dismiss="alert" href="#">&amp;times;&lt;/a>&lt;/div>');
    endif;

    echo form_open(base_url(uri_string()));
?></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r_title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Titre de la rubrique:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r_title<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r_title<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php if(isset($r_title)): echo $r_title; else: echo set_value('r_title'); endif; ?><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .form-group --></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r_description<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Description (256 caractères) de la rubrique :<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r_description<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r_description<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php if(isset($r_description)): echo $r_description; else: echo set_value('r_description'); endif; ?><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- end .form-group --></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php if ($page == 'add_rubric'){ echo 'Ajouter';} else{ echo 'Modifier'; }; ?><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<h2 id="le-routage"><a href="#le-routage" aria-hidden="true"><span class="icon icon-link"></span></a>Le routage</h2>
<p>Dans le fichier de routage (<code class="language-text">application/config/routes.php</code>) ajoutez après la route du default_controller :</p>
<pre class="language-text"><code class="language-text">#admin  
$route[&#39;admin&#39;]           = &#39;admin/admin&#39;;  
$route[&#39;admin/logout&#39;]    = &#39;admin/admin/logout&#39;;  
$route[&#39;admin/dashboard&#39;] = &#39;admin/dashboard&#39;;  

# ADMIN content  
$route[&#39;admin/dashboard/edit&#39;]          = &#39;admin/dashboard/edit&#39;;  
$route[&#39;admin/dashboard/edit/(:num)&#39;]   = &#39;admin/dashboard/edit/$1&#39;;  
$route[&#39;admin/dashboard/delete/(:num)&#39;] = &#39;admin/dashboard/delete/$1&#39;;  

# ADMIN rubric  
$route[&#39;admin/dashboard/rubric&#39;]               = &#39;admin/dashboard/rubric&#39;;  
$route[&#39;admin/dashboard/edit_rubric&#39;]          = &#39;admin/dashboard/edit_rubric&#39;;  
$route[&#39;admin/dashboard/edit_rubric/(:num)&#39;]   = &#39;admin/dashboard/edit_rubric/$1&#39;;  
$route[&#39;admin/dashboard/delete_rubric/(:num)&#39;] = &#39;admin/dashboard/delete_rubric/$1&#39;;</code></pre>
<h2 id="conclusion"><a href="#conclusion" aria-hidden="true"><span class="icon icon-link"></span></a>Conclusion</h2>
<p>L'interface de gestion est opérationnelle. Il ne manque plus qu'à rajouter des vérificateurs d'unicité pour éviter les doublons dans la création d'article ou de catégorie.<br>
Vous pouvez faire évoluer ce blog en mettant en place la gestion des utilisateurs plus poussée et un historique de log pour améliorer la sécurité de l'application. Mais aussi un formulaire de création d'utilisateur avec niveau d'accréditation, etc...</p>
</article></div></div><footer class="text-white mt-4"><ul class="nav nav-pills justify-content-center"><li><a href="https://github.com/etienner" target="_blank" class="nav-link">Github</a></li><li><a href="https://medium.com/@etiennerouzeaud" target="_blank" class="nav-link">Medium</a></li><li><a href="https://twitter.com/etiennerouzeaud" target="_blank" class="nav-link">Twitter</a></li></ul></footer></div>
    <script src="/assets/js/app.8edfcdd1.js" defer></script><script src="/assets/js/page--src-templates-post-vue.5669e3ec.js" defer></script>
  </body>
</html>
