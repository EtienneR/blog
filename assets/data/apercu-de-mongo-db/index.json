{"hash":"801ebae9d42fb801f8a2d3e127e2b7fc2e54a220","data":{"post":{"title":"Aperçu de MongoDB","date":"4 March 2015","content":"<p>MongoDB est un base de données orientée documents. Il appartient à la catégorie des SGBD qualifiés NoSQL (Not only SQL). Autrement dit, MongoDB n'est pas un SGBDR (Sytème de Gestion de Base de Données Relationnelles) que sont MySQL, Oracle, Postgres, etc... Les documents sont stockés au format BSON (JSON binaire). Quant aux reqûetes, elles sont effectuées en Javascript.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 960 274' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-261d7b9150b0516e1cdc129507f78516'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-261d7b9150b0516e1cdc129507f78516)' width='960' height='274' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAASAEADASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHAQMFCP/EACwQAAEEAQMCBAUFAAAAAAAAAAECAwQRAAUSIQYTFDFBUQciMmFxI3KBkbH/xAAWAQEBAQAAAAAAAAAAAAAAAAAABAH/xAAbEQEAAgIDAAAAAAAAAAAAAAAAARICBAMTUf/aAAwDAQACEQMRAD8An8z4jSmutxKS4TpKXTGLPoWror/dfzX/ABl1AggEHg5521TofVE9Xp0ViO4WXHipt%2bjsDJP1E/Ycfn85Z3WUvVos2c1pcuay3H0lUhlLMdLgU%2blfypsoNkjgpvy9sl1pzm10WnPJNuz1O8ZXrmra1Gfnsh6bIhJmRVKkGP8AqNR3EW5spICglVDyJSFH2zCZmure0qNInz2Yr0%2bUz4luOnuORQ2otrWSghJ3UAaF8GucqWrDxlTzOptaRoWjKmaivT35MFZVJXH29t9txIK3klJASUk8V536UR3FalrLuqKRGfkKcbnsJYbDQUzJhKSje6VhNXy4bBFFIFc8hNUTIy1hKJDSlE0AFiyfbMmVHDvbL7Qcutu8XftWcXb3oGpRwy4p115wtgoI5P0qv0o839s1zWnVvzkDetZSztT2yUuqTzV%2bnNc3mCQEDxCTXO0/6M2YxmhjGMCs%2bvnnWesCGXFthzRnAvaojcA7xfv5n%2bzljxW0NR2m2kJQ2lASlKRQAA4AGMYG3GMYH//Z' /%3e%3c/svg%3e\" width=\"960\" data-srcset=\"/assets/static/mongodb_logo.82a2fbd.8cbe20b9b23afea66aa7007c68a9ef82.jpg 480w, /assets/static/mongodb_logo.6acf7b4.8cbe20b9b23afea66aa7007c68a9ef82.jpg 960w\" data-sizes=\"(max-width: 960px) 100vw, 960px\" data-src=\"/assets/static/mongodb_logo.6acf7b4.8cbe20b9b23afea66aa7007c68a9ef82.jpg\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/mongodb_logo.6acf7b4.8cbe20b9b23afea66aa7007c68a9ef82.jpg\" width=\"960\"></noscript></p>\n<h2 id=\"vocabulaire\"><a href=\"#vocabulaire\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vocabulaire</h2>\n<p>Avant de commencer, il faut savoir que MongoDB n'utilise pas le mème vocabulaire que les SGBD traditionnels.\nCi-dessous, un tableau pour vous y retrouver plus facilement.</p>\n<table>\n<thead>\n<tr>\n<th>SGBD</th>\n<th>MongoDB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>table</td>\n<td>collection</td>\n</tr>\n<tr>\n<td>colonne (\"column\")</td>\n<td>champ (\"field\")</td>\n</tr>\n<tr>\n<td>ligne (\"row\")</td>\n<td>document</td>\n</tr>\n<tr>\n<td>\"offset\"</td>\n<td>\"skip\"</td>\n</tr>\n</tbody>\n</table>\n<p>Ce dernier terme est souvent utilisé pour les paginations.</p>\n<h2 id=\"installation\"><a href=\"#installation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Installation</h2>\n<p>Rendez-vous sur le site officiel de MongoDB et installez la version adéquate pour votre système d'exploitation : <a href=\"http://www.mongodb.org/downloads\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.mongodb.org/downloads</a><br>\nPuis, suivez les instructions d'installation : <a href=\"http://docs.mongodb.org/manual/installation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://docs.mongodb.org/manual/installation</a><br>\nUne fois installé correctement, allez dans la ligne de console et tapez la commande suivante :<br>\n<code class=\"language-text\">mongo</code></p>\n<p>Pour afficher les bases de données disponibles :<br>\n<code class=\"language-text\">show dbs</code></p>\n<h2 id=\"création-de-la-base-de-données\"><a href=\"#cr%C3%A9ation-de-la-base-de-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Création de la base de données</h2>\n<p>On créé\tnotre BDD de test \"Test\" <del>car c'est original</del> :<br>\n<code class=\"language-text\">use Test</code><br>\nCette fonction permet de créer une BDD si elle n'existe pas. Si elle est déja existante, de se placer à l'intérieur.</p>\n<p>A noter : vous pouvez vous connecter directement sur votre BDD lors de la connexion à Mongo  :<br>\n<code class=\"language-text\">mongo test</code></p>\n<h2 id=\"insertion-des-données\"><a href=\"#insertion-des-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Insertion des données</h2>\n<p>On établit notre première collection \"Users\" lors de l'insertion des données dans la commande ci-dessous :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tfirstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span>\n\tlastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Doe\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>ou :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tfirstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span>\n\tlastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Doe\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<ul>\n<li><code class=\"language-text\">db</code> : on se place dans la base utilisée Test\" (tapez <code class=\"language-text\">db</code> dans votre ligne de console, MongoDB affiche \"Test\").</li>\n<li><code class=\"language-text\">Users</code> : le nom de notre future collection.</li>\n<li><code class=\"language-text\">insert</code> ou <code class=\"language-text\">save</code> : on utilise la fonction d'insertion de données.</li>\n<li>Dans les accolades, on indique le nom du champs suivie de 2 points, puis on indique nos données (double ou simple quote pour une chaine de caractères).</li>\n</ul>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 920 478' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-edb0275ff285c637682e1e1751ba7980'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-edb0275ff285c637682e1e1751ba7980)' width='920' height='478' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAhAEADASIAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAUBAwQCBgcI/8QAMhAAAQMCAwYDBgcAAAAAAAAAAQACAwQFBhEhEhYxVpTRMjSxExQzQXFyUWFzgpKhwf/EABcBAQEBAQAAAAAAAAAAAAAAAAACAQP/xAAiEQACAQIFBQAAAAAAAAAAAAAAAQIDMRETITJRElJhcfD/2gAMAwEAAhEDEQA/APW9ViW7yPmhNa1kccrmAENbkAT%2bSS1V0qyQ81DSXjMtzDj6LLWVMxq585HayOP9lUe2k2dnbOzllksU5LRMh04O6NDrlVPGRkB/aFDK%2bpYSWSZZ6HRZXOLuJzUJmT5MyodqNxulYWFplBafkWgqh1VM4glwzHzyVCEzJchUoKyRuhutZC8Pim2HDgQ0J5Q4vvtRW0sEtaZI5JWRlpjbqC4AjgvFVss%2bYu9Bs6H3iLL%2bYTqb0bKUYx1isCip8zN97vUqpPpsL4gqKiaSKyXORrpHEFlK8g6nhoo3QxLy/d%2bjk7KblCJCe7n4l5fu/Rydkbn4l5fu/RydkwYESE93PxLy/d%2bjk7I3QxJy/d%2bjk7JgwIlrtB2btQnXSojOn3hMXYRxG0ZusF2A/E0kg/xX2/C9/huNI%2bWx3NjGzMcS6leAAHDM8EMZ9V2PydD9OyaDwhCF2obSZHKkIQu5J2zxK1CFLBmuHlX/AFHqEuuXwpP0pPQoQucr/eTFufo//9k=' /%3e%3c/svg%3e\" width=\"920\" data-srcset=\"/assets/static/mongo_insert.82a2fbd.3657de4729c1f1191c346c029a00014a.jpg 480w, /assets/static/mongo_insert.0ff29f4.3657de4729c1f1191c346c029a00014a.jpg 920w\" data-sizes=\"(max-width: 920px) 100vw, 920px\" data-src=\"/assets/static/mongo_insert.0ff29f4.3657de4729c1f1191c346c029a00014a.jpg\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/mongo_insert.0ff29f4.3657de4729c1f1191c346c029a00014a.jpg\" width=\"920\"></noscript></p>\n<p>Remarque : lors de l'insertion des données un id est généré automatiquement. Cet id est nommé \"_id\", de type <strong>ObjectId</strong>. C'est une chaine de caractère en héxadécimal.</p>\n<p>On peut lister toutes les collections disponibles dans notre base avec :<br>\n<code class=\"language-text\">show collections</code></p>\n<p>Afin de pouvoir procéder à des tests plus approfondis par la suite, on insère plus de données dans notre collection :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Valdez\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Tatiana\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-07-05\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Liberia\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hayes\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Willow\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-09-18\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Luxembourg\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Ward\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hanae\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-07-30\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Egypt\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cleveland\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Jescie\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-05-20\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Montenegro\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Whitfield\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Britanni\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-10-07\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Howard\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cecilia\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-11-19\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"India\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Olson\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Xavier\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-06-21\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Venezuela\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cardenas\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cathleen\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-10-03\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"China\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Warren\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Nelle\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-07-07\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belarus\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Beach\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Kellie\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-01-17\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Benin\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Alford\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Tanek\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-10-10\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"France\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Ryan\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wang\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-08-20\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Gibraltar\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Shannon\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Buckminster\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-08-27\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Turkey\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Caldwell\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Willow\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-08-03\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Italy\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Brennan\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Karleigh\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-03-03\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Dominican Republic\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Howe\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Richard\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-09-27\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Japan\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Dyer\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Bernard\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-01-11\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hong Kong\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cooke\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Laurel\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-05-06\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Malaysia\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Pace\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Karleigh\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-06-24\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Australia\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\ndb<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Price\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Grady\"</span><span class=\"token punctuation\">,</span> birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-04-18\"</span><span class=\"token punctuation\">,</span> country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Pour connaitre le nombre de documents présents dans la collection \"Users\" :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Pour plus de détails sur cette collection :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">stats</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 920 478' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-62c1b091837408d95d8742afb6abbf00'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-62c1b091837408d95d8742afb6abbf00)' width='920' height='478' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAhAEADASIAAhEBAxEB/8QAHAAAAgMAAwEAAAAAAAAAAAAAAAUCAwQBBgcI/8QAMxAAAQMDAQUECAcAAAAAAAAAAQACAwQFEQYSFiEx0UFRVpQUMjRhcXKSsSIzc4SRocH/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAAIBAgUFAQAAAAAAAAAAAAABAhExAxITITJBUVJhcfD/2gAMAwEAAhEDEQA/APNa/VN1Ms1P6b%2bGN7gGhgBGHHualFRcq6SQubI54cMk7OQf6VMR2rxKX8SZHk/yVbWMYzA2XmMEucRz4%2b9JSasyNODujM%2b41Thh0g%2bkLiOvqYySyTGeB4LNIwseQ4OHzDBUU9SXcWlDxRuN0qy0tMoLT2FoVDqqVxBLhkduFQhGeT6gsKCskbobrWQvD4pthw5ENCeUOr77UVtNBLWmSOSVkZaY28QXAEcl1VbLOSLvQFvA%2bkRY%2bsIzN7NjUYx3iqBE8RXGRzicNe/JAz2lX1dRHM1uw/3ccDj3lbZdNahmqppYLJc3B0jsOjpnkHJPLAUN0NSnnp%2b7n9nJ0U3LEsuyHkNJI7yQVBPdz9S%2bH7v5OTojc/Uvh%2b7%2bTk6IoAiQnu5%2bpfD938nJ0RuhqTw/d/JydEUARLXaDs3ahJzwqIzw%2bcJi7SOo2jLrBdgO80kg/wAV9v0vf4bjSPlslzYxszHEupXgABwyeSBM%2bq7F7JQ/DomY9UIQtMDiJggc0IXQSTZ6yt7EIUsRmuHsj/iPuEuuX5Mn6Un2chCzlf8AexLk/h//2Q==' /%3e%3c/svg%3e\" width=\"920\" data-srcset=\"/assets/static/mongo_count_stats.82a2fbd.622b3bb8a3219d5fc597f1929c644621.jpg 480w, /assets/static/mongo_count_stats.0ff29f4.622b3bb8a3219d5fc597f1929c644621.jpg 920w\" data-sizes=\"(max-width: 920px) 100vw, 920px\" data-src=\"/assets/static/mongo_count_stats.0ff29f4.622b3bb8a3219d5fc597f1929c644621.jpg\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/mongo_count_stats.0ff29f4.622b3bb8a3219d5fc597f1929c644621.jpg\" width=\"920\"></noscript></p>\n<h2 id=\"lecture-des-données\"><a href=\"#lecture-des-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Lecture des données</h2>\n<p>Ci-dessous une liste non exhaustive de commandes.</p>\n<h3 id=\"afficher-toutes-les-données\"><a href=\"#afficher-toutes-les-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Afficher toutes les données</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"données-en-particulier\"><a href=\"#donn%C3%A9es-en-particulier\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Données en particulier</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 920 478' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-64b608bccc7aff3d0b71a8a32074d220'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-64b608bccc7aff3d0b71a8a32074d220)' width='920' height='478' xlink:href='data:image/jpeg%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAhCAIAAADmozp2AAAACXBIWXMAAAsSAAALEgHS3X78AAAPuklEQVRYw72Y6bMc1XnG559wENruvbP1bN3T3TM9W0/39OxzF6Sr5S7S1YLQeiWhlVjGYEEohZgPxMTGYLBdlB07xSIjIbYIoRWXiZBAiSuYGLEYqhJiJ39Efu/pe1WyXZUP%2bZCqU109p9%2bzvcvzPGcie//m3gee3PftZ3762DPPPfTks3sf%2b%2b6OE09sOfHE%2bgcfGxw6Xt95X%2bGeI8aub2R235/ccigxtz%2b%2b%2bYC0jftp0ald0cltsTV3j6zaPDKxcXhsAy06vjGxcV96/kGe8Y37UtuOaqpl9v%2bVcfCENjuPQXRiLrp6S3T11pGx2eHmqpW1Hm24NRkdTPMpsXZbctVc%2bq45a2p7bdP86OGHZh596uEf/uwnJ1/57nM//8kvXjvz8Dcvn3jwyreOPHXkQOTo948d%2b/6uE08/963vfO/Yd57eevzba44e7x96wN3/TX3bodj0zhWTdy%2bb2r187oC0DfuXTu9ZvuXQ8q1Hls3uWzazZ%2bna7Xeu2rJkMLNkMC3P7vo7mpN3dNat3HRg6O77VmzYv2LD3mXrdyyf3btyy%2bHongdHdt0/vOXw8vU7l47P3dmburM/w/MvvLGvVbpfK3eWNFcvHcyuWL9zaMO%2blWvvGV63PTG9U5%2bb9w4en3nkifnHn93/t88e/rsf//Wjjz35%2bONPPPLw8UcejUzNH8rlzarvek2/5JadqhM2o5DPO7ZVLtrSCryY5ULONvhZqJaKbsWuOPlSwSiadEqz9JyV46lbRjaflZeCqdt5vSCf5MXOY6YX8oZj60WLFxliMmpheNbM5sysrmaTsTQmL%2bSzZi5Hs/MGe6gUzZJt1Cq6V0%2bXipO790Ymt%2b8YHrqj5pYnxrtB4NZqjudVet2GaWaMfNr3Kv1eo9X2G42qZabpdGtOM6h3Wp5fdwoFw9CTmXQ0k4lns/Gcnkyno5o2outaNhPPpGMLLRPTksNpMVv4SUvSk4mlw5/pmNhn4po2zE%2bmCgfKqNRILpfMZhN0plIj/EwmhrTEUDYTS8WX37V5a2R6fr%2beS8peG9W6X0ulY5atj413u/2W65XbauvVeqXXb7Va9dGxbqfXbLU8WrcX%2bA3X891%2bvzUY7WJQrRVKZUs30lW3XK%2bXPIZ3mwwpl%2b1MJpEz0p1eiyENn4Uq2Wwyb2YY6wdus%2bWPjvWKRSOdiZu23uk2W23Pa7iGkdJlVIB90PIGg07NLWayiXQ20WjWW013YtPmyNSOnaWS1e406rJegI9ZjK03236zVXfrZeZljFUwer1mp9tgPSyZmnMmksNaKsozqY3QeE%2blopq0GD/jyeGEaqonimtS6WgsvpJPmKXwtxpLi%2bPUVEzM0vJMJkcwTmoyRJOXkURiSFb5o6li0ejSyS1bInPzeyW42YRbL9XqJSYqFPP9QavVaVSqRZLHq5dc38XfeK4/aPcGbULhN2o4r0EEeBm06B%2bMdlrterGYz%2blazau6KgKdbiARqBRIDyOfwbVNotd07YKOs2v1cqfj%2b4EElsmzuWQml2TmBv5u1j2/Rk4aRqbbDViFnYRBXohAUG82a7O790S2Hz6Ej4kAqVL3qpaVzWSTFEOrHbQljtVSycRbxZJFBNodir2CTcHJswPmSqXlKWtnE5pyREp5MZ1J8B42HB%2b6VhJJ1xiYwt/aCAuFA%2bnUFkInA1VnErO0ipLsmHepMS3soWETjy2/5/CRyMFvHGN208pJ%2bTZqjLQLBt4lhcgfHOb7ZWoAB3CeATXQbfpeuYGfghqpWXMdXsQfLY/qt21dIlCvVKsFGl5sBC4ukAiYGeahNpiQmdlo3sx6MkOp6pZweUHlqm5kXLesvEkEtHw%2b02y6GGDp%2bVWHqTi2rvFeqxb2f/3rkW0HD5pmtu5XqZug1cC7up6SMu00fJ9MKFcqtmFmKzWn7lWoCvZaqxUpVrJFN1JsiwOTdZbaOj1hZEAF3k07V3TA1GQYFj0vyGZaGbausnyETRtGOm9lSTOgBptYfIjCdcoWExJSbDBmx1Q8izKcHgoJG4Br%2b9H7It7UlG1mS2WbCFDpgoC5JP5odwCZKn4tly27mJcD1MujYx2QxCnlWY/%2bQiFPNjtOvuiY%2bIa96irKTsm27ByNQ/KJ8FK1OSPlOCbIi79kW1auUNQZjgEoks3J7rFkZqYCOqlGx7E4IT%2bdkmXbTCK1y5BK1SlXCyD4%2bM49keaGWVNBCojJeEqtUikOBi0OUK0Wa3WnUi0E7Ua32wgaNYqSyFAhnI3MYbFSpcC76qlxEvaXy2kWpyqZOIyCIYVMKxuGpVYrEcaCVHCCaLgkT61I8H1QVUWJ1ZmKIZSlHKBkMUmV3BaCKqYV%2bICzTII3C1ZuYueuSDC1vuSYgeR6hW/AJZXQ6wlcsnW8JWfrBB2qPKhBDjRcy7wkW05PsbAQjWISohwWHPuQfl2jhTXKwhllo37yIpbEgTTL6mEdpxjOWOCSTiKZl/klHQgdeY8xP1ma5FEzp5LxlWvvPRRpzUzlMglwpqGOjm8492DQ7g86uIfapWTLLngnEQAuIR3YADgCPYOmx8/BKMbSKFCyiNnLVQcYdV2HcJF1ZI5Qta4RJXwBCjeanq3CghkAiCXLBYFACBBZqZWA17bQmV%2bvO6xVqhRxE9XSUtBChoPaVj61avd8JFg/CUGwKkEZjPWJIHQG9lP4eALPKQxuCKl5ZVP5OKunwASO0ekEoatSi3R2Cw2hIU2LJuCgRfa5RVuK9YZDsksqA0VV8gwrO7HYH1ediuYWyOuWPfPHRpat3XdvpDc3k9dTIYOATXy2i8bERL/Xb3PWUErUA2i83Wn74xMDOB9cwxO4vN0m0%2brjY92x8T5kBKQSPY6NCgDBGNjttcfH%2b0SSCHBO36%2b1usHYWIexVGE2p1GjnR7M6BKT1atHwRKpBCuHDUsQYdgQ56JNFEyXJ1aNguO2nUWYoME2HDkWCdZMgD/sDB8TR08FCE9T0J5XZQr4lTqjNAEKtgLUQhGVsrmAj6EEUB5SNBQPXzTlxVsS43Yb1UZSizyVXAxOKBwW1IS2YMxwNWecCpZgqjgkkkMkwsjwko1H74/4Y10LEWtICrF1aiCUEnLiRhUh5XmlRhMW81uBS%2bb1R7uCSIELsaPMiBI5TY6RysQQjONUcBDJzYQh/5crtopADhucggQIWr5t5dLpOAjGWIy7qIxmXWgkm6xJDbB6jbCwlqCFkYZ/RB12GmQ4NYMlRTx98EjEG21bpt5seqODVtWtgDxEn7WBQlASwAqAUxc6swQfbaPZbkBzIl29CgsTEyQGu2Re7IE/yDikeuE1aMvMhvAXagdBm7wQGVqavMe1CpqSYB0vi%2bIvttDJdaNoqLwfCSUG%2b2ZjYqmNDA8tmT14OOINmgAT%2byazJXmsLNzekcK3wXiAH2e0ey0gAkqmSAZjPeJDQEJpLT2D9vhdgz5iruWB8SAdRAMn0DgSJyyITo6xCrcOeuAvEo/NlUtmBUIUGzwqcgjGFJuyRdCAMrkb5LS6X0ZWMk9FTaUpJcsmSeMNh/8y0ls7VuSyVS0qbVNVciCN9mRz9OBpJI1p6ZBOq0U%2bsGM5CQsDjpbiDeS%2bEHPFBshxrdIRGYiTUNBPlHAYESAOBccE3PgkUGaky2oSTitVHurCnIZqxOvMxsyK1xNUtqUkCVORTphxBn7aZmbqwIFIb7LPAXAkiaUOkCJVyGYAHqzkBSlmF0UCUBWTa8YhOEAAog23q55CYcgeKQBFZByMWOMLYTf0j5EGZ7OKhpg8RGcOqeuSEqKFzEwoSHmRjFc21EwYAcumRMUGS0ON5VRkip7TVt09Gxld2ydN9TzQXiWUnI8k6/ebbaktrjUeB3PKRZIqkFN5HIBK4kXdgWQIn8g0aqDoGJyBrRQci6C7Slx1e00Or6REEqIMgnqhIBEwzJzoEeSWAgDF2fG8mYP7gGMKmlihdrIyqlZVzoUE8Sa7B4tIIQBzdHo8MrauXyoXyWmShPUsS2b3FXmhTyUCZUsA2zGhLfgB5AnZtyTqzZS7ldJYqUXhzvuC6FdXsAUcBGHV10V9L5eERcwVehIOXsRQClRb/MqT2pXbRTiJDGRauRsk4ivX79oamblnmlPKpv0quKm0pDU62sHHeJGyxkluwxVgDVyRErCyaNUGZwDaCAhFTEGPCovX1J04BZpx7fT8MoU0Nt6rKBgFkaifdrfd7fpKz8W5givRVcdG9Jy6GFESLEpUuW1LEnIjA8p9dLFQZ23xRkYk2836up2bIlsP7i6XbL4Bl/3RHvmNR4HITrcFhXHJZLHwpk8ydPuB3/TIBACEm0AqI%2bSS0IZvMfyCjlAEdJtwWOwPlYUmBoqPwoFDycWvIkkQDkoyhAoiHKss1UAlTELRMTy8dN2O2ci6TasyGZGTZDNZJFhWMHAqHKTyW5RWvVHviJyugvc9pbrgFLklc8H3q3BNb9DingBeOUrMuZ5Agif/DDQYAmSFEhUvSkJXxIu2YzVEk1NRAbdeU8ELECTruiIiIU1Cx0aFi5pyCwem2Q8FzWzcaf16ZWZ%2ba2SwGqlQxdPcASou9CmQDHIJCsm9kbKrImMYRhwlmg2R/uBp0HRJNgGHfEo9Q6mshZVA2SygkBLJoRQLmUhdeeMpOZLc2gx1TVPpHlPolA7FOVgSTkV5hKPC21w4lcCuFp3ZsznSHSPHcWcT/8Hw5C5gJ36qldBzHADQCMdwBrkBCo9mQuIMr94Im1tqZ0HzpGKp23vU8NuE0J/qoltiM%2by8pYJSfzbwVifrRqMrpratjYyuboL9xVKe5AtzNJYY4gzhBY%2bjk4sj0eXR2AqewyPLeI5Ely2%2bSP//e5NF2eSKFUvWbBqPTM1NFCEqy0BFI%2bMK6gllUM0wlGml7UKOIITP25v9f2oLw4v/e9NVW/hZcexKyXZKhlPkppovACsOCG5Y%2bfTc7unID3749N%2b/9sCFqz/77OMv/uXX//yvH370mw8//N2X//7bT7/69Mv//uSL/7r5%2be8//uz3Nz//w83fSfvkT9oXf9ZzW5NRf9Rkqt9%2b8p8fffwf/3bzK3m5%2bRXvH33M8yt6pPHCV2UgNjf/8IMPfn7y/X%2b8cePLd258dv3Gp7%2b59uYvL549f/6dC9c/f/7smchDDx1/5h%2bOP//yU2ffeOulF194/oUXT586dfatt186de4XZ86fPP32q29eeu3s5Vdev/DymfMvS8/5F0%2bdo5%2bvL516%2b8WXz8nPV86H7aXTb6uv8o7Bqdcunnpd2mnVXnnj0uvnrrx15VeX33v/wq%2bunXvn3UtXr1%2b5/v7l965funb94tVrF/7p2kVern9w8fqNC1el58p7H3zv8o9%2beuXk%2bXc/OP3Lqxff//WlyyfPvPHCqTdfffXyuz96/pn/AUL6DOp9QoWoAAAAAElFTkSuQmCC' /%3e%3c/svg%3e\" width=\"920\" data-srcset=\"/assets/static/mongo_find.82a2fbd.a96b6ec7c08ddf78f1672cacaf83640e.jpg 480w, /assets/static/mongo_find.0ff29f4.a96b6ec7c08ddf78f1672cacaf83640e.jpg 920w\" data-sizes=\"(max-width: 920px) 100vw, 920px\" data-src=\"/assets/static/mongo_find.0ff29f4.a96b6ec7c08ddf78f1672cacaf83640e.jpg\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/mongo_find.0ff29f4.a96b6ec7c08ddf78f1672cacaf83640e.jpg\" width=\"920\"></noscript></p>\n<h3 id=\"recherche-multiple\"><a href=\"#recherche-multiple\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Recherche multiple</h3>\n<p>\"or\" :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>$or<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Alford\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne toutes les données dont le pays vaut \"Belgium\" ou bien où le prénom vaut \"Alford\".</p>\n<p>\"and\" :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>$and<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>birthday<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1990-10-07\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne toutes les données dont le pays vaut \"Belgium\" et où la date de naissance vaut \"1990-10-07\".</p>\n<p>\"not\" :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span> country<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> $ne<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne toutes les données dont le pays ne vaut pas \"Belgium\".</p>\n<p>\"like\" :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\">in</span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne toutes les données dont le pays contient \"in\".</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>$regex<span class=\"token punctuation\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\"><span class=\"token anchor\">^</span>be</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne toutes les données dont le pays commence par \"be\".</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>$regex<span class=\"token punctuation\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\">ia<span class=\"token anchor\">$</span></span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne toutes les données dont le pays termine par \"ia\".</p>\n<p>Remarque : MongoDB est sensible à la casse.</p>\n<h3 id=\"limitation\"><a href=\"#limitation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Limitation</h3>\n<p>Limitation unique (1 seul résultat) avec <code class=\"language-text\">findOne()</code>.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54df6bf34403b474fc1df363\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Affiche uniquement les données pour le document dont l'ObjectId vaut \"54df6bf34403b474fc1df363\".</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belgium\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Retourne uniquement le 1er résultat dont le pays vaut \"Belgium\" dans la liste des documents.</p>\n<h3 id=\"limitation-définie\"><a href=\"#limitation-d%C3%A9finie\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Limitation définie</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Affiche uniquement les 3 premiers documents.</p>\n<h3 id=\"offset\"><a href=\"#offset\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Offset</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">skip</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Affiche les 10 résultats après les 5 premiers documents.</p>\n<h3 id=\"ordre-daffichage\"><a href=\"#ordre-daffichage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ordre d'affichage</h3>\n<p>Croissant :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Affiche tous les résultats de la collection \"Users\" en classant les données pas pays en ordre alphabétique croissant.</p>\n<p>Décroissant :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Affiche tous les résultats de la collection \"Users\" en classant les données pas pays en ordre alphabétique décroissant.</p>\n<h2 id=\"modification-des-données\"><a href=\"#modification-des-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Modification des données</h2>\n<p>On choisit notre document à modifier :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54df6bf54403b474fc1df374\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> $<span class=\"token keyword\">set</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Martine\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>On peut également choisir plusieurs champs :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Pace\"</span><span class=\"token punctuation\">,</span> lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Karleigh\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>$<span class=\"token keyword\">set</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>country<span class=\"token punctuation\">:</span> <span class=\"token string\">\"England\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"suppression-des-données\"><a href=\"#suppression-des-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Suppression des données</h2>\n<p>Un document en particulier :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54f6342cc6dd3b2aef142568\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Plusieurs documents avec un opérateur logique :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>$or<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>firstname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Alford\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>lastname<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Laurel\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Supprimer toute la collection :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">drop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"un-peu-de-relationnel\"><a href=\"#un-peu-de-relationnel\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Un peu de relationnel</h2>\n<h3 id=\"relation-0n-ou-1n\"><a href=\"#relation-0n-ou-1n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Relation 0,N ou 1,N</h3>\n<p>Une relation 1,N est définie par le fait qu'une collection possède une clef étrangère dans un champ qui peut se retrouver dans un ou plusieurs document d'une autre collection.<br>\nDans l'exemple suivant, on va mettre en relation des <strong>articles</strong> avec une <strong>rubrique</strong>. Un <strong>article</strong> appartient à une et une seul <strong>rubrique</strong>. A l'inverse, une <strong>rubrique</strong> appartient à un ou plusieurs <strong>articles</strong>.</p>\n<p>On créé d'abord notre collection <strong>rubrique</strong> :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>rubric<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>rubric_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"MongoDB\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span>\ndb<span class=\"token punctuation\">.</span>rubric<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span>rubric_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"MySQL\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">)</span></code></pre>\n<p>L'inseration renvoie l'ObjectId suivant \"54c4dfa24b4453f4eb85f70b\" pour \"MongoDB\" et \"54c4dfa24b4453f4eb85f70c\" pour \"MySQL\" que l'on va avoir besoin pour l'injecter comme clef étrangère dans la seconde collection <strong>article</strong> :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> \n<span class=\"token punctuation\">{</span>\n    article_title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mon premier article sur MongoDB\"</span><span class=\"token punctuation\">,</span>\n    article_content<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Lorem Ipsum 1\"</span><span class=\"token punctuation\">,</span>\n    rubric_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54c4dfa24b4453f4eb85f70b\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndb<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span> \n<span class=\"token punctuation\">{</span>\n    article_title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mon premier article sur MySQL\"</span><span class=\"token punctuation\">,</span>\n    article_content<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Lorem Ipsum 2\"</span><span class=\"token punctuation\">,</span>\n    rubric_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54c4dfa24b4453f4eb85f70c\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Contrairement à un SGBDR qui utilise un système de jointures dans une seule requête, sur MongoDB, il faudra effectuer 2 requetes. Une première pour afficher les infos de la <strong>rubrique</strong> afin de récupérer son ObjectId et une seconde pour afficher les <strong>articles</strong> concernés.</p>\n<p>Les informations sur la <strong>rubrique</strong> :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>rubric<span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54c4dfa24b4453f4eb85f70b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Les <strong>articles</strong> de cette utilisateur via son id :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>rubric_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54c4dfa24b4453f4eb85f70b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>A noter : en cas de suppression d'une <strong>rubrique</strong>, cela ne supprimera pas le champ \"rubric_id\" présent dans la collection <strong>article</strong> (pas de \"Cascade delete\").</p>\n<h3 id=\"relation-mn-many-to-many\"><a href=\"#relation-mn-many-to-many\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Relation M,N (Many to Many)</h3>\n<p>Un peu plus complexe, une relation M,N est un cas dans laquel, une collection doit stocker plusieurs clefs étrangères au minium de 2 autres collections.<br>\nPrenons en exemple, un système de messagerie quelconque, composé de 3 collections.</p>\n<p>Un <strong>utilisateur</strong> peut converser avec 1 ou plusieurs autre(s) <strong>utilisateur(s)</strong> en créant une <strong>conversation</strong> unique composée d'un ou plusieur(s) <strong>message(s)</strong>.</p>\n<p>On commence par la collection la plus simple, celle de l'<strong>utilisateur</strong> :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tname_user<span class=\"token punctuation\">:</span> <span class=\"token string\">\"User1\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\ndb<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tname_user<span class=\"token punctuation\">:</span> <span class=\"token string\">\"User2\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Cette dernière renvoie les ObjectId : \"54cd613880ae1a574dc812d2\" et \"54cd613880ae1a574dc812d3\".</p>\n<p>On continue avec la seconde collection concerant la <strong>conversation</strong> entre 2 (ou plus) <strong>utilisateurs</strong> en stockant les ObjectId des <strong>utilisateurs</strong> concernés.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>conversation<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tusers_id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token punctuation\">{</span>user_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd613880ae1a574dc812d2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">{</span>user_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd613d80ae1a574dc812d3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\t\t\t  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Et, on fini par la fameuse collection qui va accueillir les 2 clefs étrangères des 2 collections créez ci-dessus. C'est la collection pour stocker les <strong>messages</strong> de l'<strong>utilisateur</strong> dans la <strong>conversation</strong> dédiée.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tcontent_message<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mon premier message de User1\"</span><span class=\"token punctuation\">,</span>\n\tuser_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd613880ae1a574dc812d2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\tconversation_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd627f80ae1a574dc812d4\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\ndb<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tcontent_message<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mon premier message de User2\"</span><span class=\"token punctuation\">,</span>\n\tuser_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd613d80ae1a574dc812d3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\tconversation_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd627f80ae1a574dc812d4\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\ndb<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">{</span>\n\tcontent_message<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mon second message de User2\"</span><span class=\"token punctuation\">,</span>\n\tuser_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd613d80ae1a574dc812d3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\tconversation_id<span class=\"token punctuation\">:</span> <span class=\"token function\">ObjectId</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"54cd627f80ae1a574dc812d4\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"exporter\"><a href=\"#exporter\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Exporter</h2>\n<h3 id=\"mongodump\"><a href=\"#mongodump\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mongodump</h3>\n<p>Avec Mongodump vous pouvez sauvegarder toutes vos bases et collections aux formats BSON et JSON.<br>\nDans votre console, tapez : <code class=\"language-text\">mongodbump</code><br>\nUn dossier \"dump\" sera créé à l'emplacement de votre invité de commandes.<br>\nOn veut seulement exporter une base de donnée, \"test\" : <code class=\"language-text\">mongodump --db test</code> ou <code class=\"language-text\">mongodump -d test</code><br>\nOu plus précisement, une collection : <code class=\"language-text\">mongodump --db test --collection Users</code> ou <code class=\"language-text\">mongodump -d test -c User</code><br>\nIl est également possible d'indiquer le répertoire d'extraction en ajoutant le paramètre <code class=\"language-text\">--out</code> ou <code class=\"language-text\">-o</code>.</p>\n<h3 id=\"mongoexport\"><a href=\"#mongoexport\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mongoexport</h3>\n<p>Contrairement à Mongodump, Mongoexport permet d'exporter une collection à la fois, dans un fichier JSON.\n<code class=\"language-text\">mongoexport --db test --collection Users --out Users.json</code><br>\nIl est possible d'indiquer le répertoire d'extraction en ajoutant le paramètre <code class=\"language-text\">--dpath</code>.<br>\nPour plus d'options, tapez <code class=\"language-text\">mongoexport</code>.</p>\n<h2 id=\"importer\"><a href=\"#importer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Importer</h2>\n<h3 id=\"mongorestore\"><a href=\"#mongorestore\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mongorestore</h3>\n<p>Permet de restaurer l'ensemble des fichiers sauvegardés avec Mongodump.</p>\n<h3 id=\"mongoimport\"><a href=\"#mongoimport\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mongoimport</h3>\n<p>Permet d'importer des données d'une collection dans une base de donnée existante ou non : <code class=\"language-text\">mongoimport -d test2 -c Users --file Users.json</code><br>\nSi vous insérez ou modifier des données sur des documents déja existants dans votre collection, ajoutez le paramètre <code class=\"language-text\">--upsert</code>.<br>\nPour plus d'options, tapez <code class=\"language-text\">mongoimport</code>.</p>\n<h2 id=\"bonus\"><a href=\"#bonus\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bonus</h2>\n<p>Afficher vos données au format JSON non formaté :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">db<span class=\"token punctuation\">.</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pretty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Conclusion</h2>\n<p>MongoDB est une base de données NoSQL légère, rapide et simple à prendre en main pour vos futures applications. Pour aller <del>beaucoup</del> plus loin sur Mongo, consultez la documentation officielle (voir liens ci-dessous) pour notamment des requêtes plus complexe et sécuriser l'accès à la base de données (en production).</p>\n<h2 id=\"sources\"><a href=\"#sources\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sources</h2>\n<ul>\n<li>Documentation officielle : <a href=\"http://docs.mongodb.org/manual\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://docs.mongodb.org/manual</a></li>\n<li>Liste des commandes pour travailler dans les collections : <a href=\"http://docs.mongodb.org/manual/reference/method/js-collection\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://docs.mongodb.org/manual/reference/method/js-collection</a></li>\n<li>Comparaison entre le SQL et MongoDB : <a href=\"http://docs.mongodb.org/manual/reference/sql-comparison\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://docs.mongodb.org/manual/reference/sql-comparison</a></li>\n<li><a href=\"http://docs.mongodb.org/manual/reference/command\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://docs.mongodb.org/manual/reference/command</a></li>\n<li>Robomongo est une interface graphique : <a href=\"http://robomongo.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://robomongo.org</a></li>\n<li>Traducteur de requête SQL vers MongoDB : <a href=\"http://www.querymongo.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.querymongo.com</a></li>\n</ul>\n","tags":[{"title":"MongoDB","path":"/tag/MongoDB/"}]}},"context":{}}