{"hash":"8bc8dc5f3fb99fbb091a59684da69f95805ad993","data":{"post":{"title":"Lazyload d'images avec Unveil.js","date":"13 September 2013","content":"<p>Il peut vous arriver d'être amener à utiliser une page qui demande d'afficher beaucoup de photos. Force est de constater que la page prend du temps à charger (sans compter que sur mobile cela est plus lent via la 3G) même si le poids des images a été allégé au préalable.<br>\nPour cela, il existe quelques plugins en jQuery (via la fonction <code class=\"language-text\">scrollTop</code>) qui permettent d'optimiser le chargement de la page web. Cette méthode s'appelle le Lazy load que l'on peut littéralement traduire par \"chargement paresseux\". Lors du chargement de la page web, les images qui sont hors du champ de la page seront chargées au moment du scroll par le visiteur.</p>\n<h2>Téléchargement et utilisation</h2>\n<p>Téléchargez le script à l'adresse suivante : <a href=\"https://github.com/luis-almeida/unveil\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/luis-almeida/unveil</a><br>\nAperçu du code HTML :</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bg.png<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img1.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bg.png<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img2.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bg.png<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img3.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js/jquery.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>js/jquery.unveil.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\"bg.png\" est l'image qui s'affiche par défaut avant le scroll (vous pouvez mettre un loader en gif ou laisser vide).<br>\n\"img1.jpg\" est l'image finale.<br>\nVous n'êtes pas obligés de remplir le chemin src.</p>\n<p>Remarque : vous pouvez entourer la balise <code class=\"language-text\">img</code> par une balise \"noscript\" afin d'afficher les images pour les internautes dont le Javascript est désactivé sur leur navigateur.</p>\n<h2>Sources</h2>\n<ul>\n<li>Site officiel : <a href=\"http://luis-almeida.github.io/unveil\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://luis-almeida.github.io/unveil</a> ;</li>\n<li>Compresser les images PNG : <a href=\"http://tinypng.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://tinypng.org</a> ;</li>\n<li>Compresser les images JPEG : <a href=\"https://kraken.io/web-interface\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://kraken.io/web-interface</a> ou <a href=\"http://www.smushit.com/ysmush.it\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.smushit.com/ysmush.it</a> ;</li>\n<li>Exemples de sites utilisant le lazy loading : <a href=\"http://pinterest.com/all\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://pinterest.com/all</a>, <a href=\"http://www.flickr.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.flickr.com</a>.</li>\n</ul>\n","download":"","tags":[{"title":"jQuery","path":"/tag/jQuery/"}],"timeToRead":1,"parts":[]}},"context":{}}