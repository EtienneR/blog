{"hash":"801ebae9d42fb801f8a2d3e127e2b7fc2e54a220","data":{"post":{"title":"Application CRUD en Javascript","date":"20 June 2019","content":"<p>Dans ce tutoriel nous allons voir comment mettre en place une petite application CRUD à l'aide de JavaScript. Dans un premier temps, nous verrons comment récupérer les données et les afficher. Puis dans un second temps, nous mettrons en place un formulaire pour ajouter, modifier et supprimer des données.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 668 483' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a55feb897fd8c6adb0d4ee95c20c2919'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a55feb897fd8c6adb0d4ee95c20c2919)' width='668' height='483' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAuCAYAAACYlx/0AAAACXBIWXMAAAsSAAALEgHS3X78AAALlklEQVRo3t1aaXPjxhHdv56kUo6dSlKVT6nE8ZHd2OsrjpM43rK9Xlm3dnVRN6mDFG8CIMEDNwZ86Z4BSBAiJS0lZZ2g2DWDY4CZRvfr1w0%2bQmYbDpXwZthApQfoFtAcKNHifiO1z%2bdb1C%2bZgBeO7/O/sD2apgDeImrrfdWvkhJcWpgTqAXbgVqoT1LpKgkjoOMAfe//RAEiUm/Yo8U%2b3QO%2bKQALF8CTHWC9AiwWga0qsE3y4TZw0AJ63nQFDOMdbrOSPv%2bTUsAwtgBeEL/ZrgsMfPX22RL4uBXvJxbBlsLHplnA9EUOIYRAFEXyfNKmlfVfV0B68r5Q/s0KaLPYChdYpvVNR7nOLAsIwwCapsFxXbgks5Y3XvgbUMAQd/fh7Fh%2bs7w9//YZ3v3gMba2tvCXJ3/F6vpLHB0fI7e3j3ang3w%2bj063n7IAvCkLmO2ztxFk9tnMefv0o8f4/R/ew3ekiLfefge/euc3%2bOVbb%2bPXv/0d/vjeh/jZz3%2bB7xZWlNJozLzPfx2ceXTT4u9jSyxg4YfnuKw1cXpyiPfe/wBPP/sSS8vLWFlbw1dff4N33/0Tnn2/MDHmrttN63h0vQ9iBE6RbIeqTfWHw1QbjYFsmiSAxxKGoZQgUMLnXNe7k%2bXNE2UeXaexMBRSeFeISC5Q0ORFvAhuQ5o4n1PnlaK4HySLC8NRn%2b%2bV7Cf3TiTglscFmXHzSDzej585twvw4nzPg2a0YTsOev0%2bBrYDy7KoP5B9z/fhOK5E9m6vj47ZlfvTnpe1rFlv7L42vh8rY24FCHrj9mCA/aNj7B8XUCgUsHt4hsLpKU7y1D86RbPVwtb2Lk5LVVRqdRzSdfmzC2ktb3qTCgjnUEBysR8E0grYtBMTZvOW/sumT8f5Gs/zY1cQE62UjKmHYobc9rpbCs9BuUEwvwIs20WtZUBrd9EyTDT0DuqtNupaLHSuQW1D9tvjc9TyOG6buhrXjCUZp643UGsa4/P0DG55vzFx3RxC42tNXbrp3AqwHU/eJH9WRLFcl32eICvjJpELokmUqw1UGzoqdY1abWJ80q/R8Uq9hVKlPrqOF3Cb51wnDa1zNwU4FJZ4Yp98%2bgUeP/0bxepvUaIJskXMVoR6my265rJSxYcffYav/vVvPPn4c/z58SfYLxTRNvvqTdMiOz0LSyvrePL0C3rO53j/4y/x%2bd%2b/xuLqS%2bid/q0VPl0B7bspwCI0Z3OsNTWygBrOCejYvEZv%2bBpRZmxIyymWqzS2gsL5JSr0drPj%2bdgZnZfXXJRlv0jW0LzFc2bLPSiAXYBvxm9c7/RgmD0KiZNa1tqmPJ%2bV5JzeGY9tE8/n/niMshiDjnV7NsyuNWpZ%2bLjG43kcWY1s00LHkvtMn0NH4thcYZA3RtHohtgsiZHIiIwOKlJk750mTtzn6OIGHmWbJmWdXWq7MN2e3O96A4TEQwLiFlI6cUvKVP0eBLNIOQdxZR5JdJmbB/DiPSI4LV2Xaaxpklk1W2gbOmq1hiQ%2bs26sKK9AvVYhkGuhSeMGRKCy6WIgQuhuGz2fiFVgwQptdLweXOHB8Dro1stAb4CI02dSRkQmHVk2hkTABClBdHsz09d0IjaXAnjr0OJXN15h4cVzLC0tUba2jKXFBfzjn8%2bwvrk7k9UxEfI8F6uLL7CZO8Lq2gaq9cZIOSpr5OKKh55n4qCdxw/VdWw0d7DU3MR6MweNrKCn1RGeX8Ba34azvU%2byC%2begAHtjGwFhhyCidh2zDMUdqfD4eDRKZKI4QRLXZGxJbjDNDdLFB3azhq2hZjVR6lelVAZ11dKxTplYZUuHVziHlz%2bDXyojoMjkE1AG1TpZgflwFqASoeuzrWiW5kMxSmlHGWWUtZJIXueLAG7oyZbFE75sHTrGGBBROI4Yj8jfIz9ARMyT%2b4Lcgo/PnFvqBcwVBfjtiJhWjmlunBWmjl8VRZETBcoMMbaY7P0kVeXHka6GrKBRq1yET/ESBN9jGLfItDPmoWh1eF8uMBz5L9f2bkp1kpSZs0mPJKkFZEtnrKyO10XX70sQZDDsU8t9jcDR1lsYdgcQlH1GBLpR0g4sCL0t2wdzASGToADb2ztYXlnFOoHhwd4%2bMcJnWFlZxvLqBqL44dmSGFsJL3554TnWNvewuLRCtLh2BQTdwIfhGDjunOJlaw%2bHBIYbWo7aM9RtHWbtEuFFCW6eMOC8RDhQoP4FvJNTBLXmKArMKoTcXQEUbjiE6YYBw2jLWoBGBENrNdGi0Kguv/pwEVd9dLqm16c3Sm/K9/3JycQK6LgdVK0GRQJKs81zFLpFUsg5DOIDZqOCoabD2TmAs3dMYEhAWG3Co7Q7pHk8qAKyCD4j6546XsRFzZuKIuwCJpl/21VuwBzAJOmStMgFnLaBqK3iPSO%2bYPJDZEiQG4REtaNrqO7cCkiDoCxXBSqvZklKTUG8PysXT64dl8DCq3k%2bRwBCdQa%2babUEBkJ2MbVPFhWjehizPAWMw6n1gwQEg/sCwdtWX9MWEM14K5MmGlG4c2EFNuzQIfCzR/sMhoFtEfNzIIj9MeAxC0xEAmPKre4fA2IyU7q8xEk%2bj3NiZKViUYLhyQntXxRxWa5ISpxdHINgSP69t7OF3GFeltDaMWlJY4BPEaXl6ER%2bGrjs19AkUnTWu6RjBoGghk6liIiodEiILyjpCQkPAspO2f9DakX2nvcZBXgR/Alrj5B/J5dDLreHcukSL7d2sbO1id29A5RIAZZtZxQQRwF6O4f7OZxSiluv1%2bH6weR1KSqcJ/BbrG9ikyIBR4GNVg46JUbdVg2Cn7G6CfsV0eCdXbjH57BfEhUmhshW8IZBcDYVvk2Rl5/ByVCblNB2KT12VN%2bgyNAkK%2bg3qhgSCAZkBQElYNISOAliCyAFRLH14SFAUBVBxbjWHiQfM4JR7X1UIBVRhgmOAXQEhBPXjdNhzght3yFrcGVqzG3S53Q3dFyixL4SosVyn1uyThFmnz2eQ1JgvVMuEN2yVj/%2bxH01F5h2XToXkPWDJA8I/VHLiokYhwLF/wXnBZwH%2bHGf84IkOcvInXKBrAvIjyJkauzr/X5ffgvo9nqwKQabFJNdz7vyEEmFaXyz0SDCRIDWaMqPJ1kQ5GdoZPbsBhz/mQob5AocBZoEjr16GZHeUYhvx5GA%2bzSnUDceth6gQNDByuoaXiz8SHR2majwnqTCL374HovLazg6KUCjiVwBwaGqByy%2b%2bB4b2wdEpddQJ0aZRIhhTKDSILjc2MKufoS11g62tMMJEHR2D%2bEeEg0%2boPbkgsBw/%2bFBMElgROpT9ehhcbKTLPgqDxjXDybvPZywAI//NMEhj3L/s24JBbOIYr9K/UvUOBeolmQ9wD08gbt/DP/sAn6lDu%2bsiKDelKzwJxoFxBXaO%2b1ZUUyE2PTtwJFkSJIi6veCAQKLTZ6EgE9KXBLjPtPhoe8/XBRII3ea0gbTaO0UKpwAnMh%2bLstQYea7kYiJVyzch/ohTNcTpAwlHU7qAQ9GhRMXSELJdfR3KhWOF69cJZrxn4FIJkAc97ueSoZkfYD6nAzZBsV6w1QJkJRMMmTZD%2bQCse92dI3y/lUsUe6/ub2DtaUf8c13L1Anv5x24zQVDogKry8vYG0zh4XFZVlRVv9BHI9J0mGuA56YFygPajgyz1AiWmxQhsjpcEQRxK825IKDWk3WBINK7Uo6/ABRQFV0DMOgfKCMMqFxpXyJi1IZZob/Z7Wvvij7qFbKMIi5GRQpbMe9QoVZAW160wWKAqvNHbwiKrxtHGJT26dcwIBJYVBUqrBWXko67GzniAqfSVrMShEz5nFvRdHX%2bjtYFgRvkUEmLsDSj0tiPb8v%2b6OSGJs9LZRNX5bDWKy4JGZZD0iF0%2bA15ft9mtaOZQya04BpcoyiwsP4v0XZLztJPSANfuPiajSqB0z7KjT6MvS6CphGhqZRzZtk%2bDrXRdHdZNb9o5v/KPUf2z/VSnUBvTUAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"668\" data-srcset=\"/assets/static/spa_javascript_preview.00e799c.86984386e5fe57ce4c8928814a09b591.png 668w\" data-sizes=\"(max-width: 668px) 100vw, 668px\" data-src=\"/assets/static/spa_javascript_preview.00e799c.86984386e5fe57ce4c8928814a09b591.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_preview.00e799c.86984386e5fe57ce4c8928814a09b591.png\" width=\"668\"></noscript></p>\n<h2 id=\"création-des-fichiers\"><a href=\"#cr%C3%A9ation-des-fichiers\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Création des fichiers</h2>\n<p>Dans un nouveau dossier, créez les 3 fichiers ci-dessous :</p>\n<ul>\n<li><strong>index.html</strong> ;</li>\n<li><strong>movies.js</strong> ;</li>\n<li><strong>app.js</strong>.</li>\n</ul>\n<h3 id=\"création-de-la-page-html\"><a href=\"#cr%C3%A9ation-de-la-page-html\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Création de la page HTML</h3>\n<p>Dans le fichier <strong>index.html</strong>, ajoutez le contenu HTML ci-dessous.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!doctype html></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Films<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container mt-1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Films<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>table table-bordered<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>thead</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>thead-light<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Titre<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Année<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>thead</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tbody</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tbody</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Le reste du tableau HTML sera fourni par le script en JavaScript.</p>\n<h3 id=\"préparation-du-fichier-de-données\"><a href=\"#pr%C3%A9paration-du-fichier-de-donn%C3%A9es\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Préparation du fichier de données</h3>\n<p>Dans le fichier <strong>movies.js</strong>.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> movies <span class=\"token operator\">=</span>\n  <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Interstellar\"</span><span class=\"token punctuation\">,</span>\n      year<span class=\"token punctuation\">:</span> <span class=\"token number\">2014</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John Wick\"</span><span class=\"token punctuation\">,</span>\n      year<span class=\"token punctuation\">:</span> <span class=\"token number\">2014</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John Wick 2\"</span><span class=\"token punctuation\">,</span>\n      year<span class=\"token punctuation\">:</span> <span class=\"token number\">2017</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John Wick 3\"</span><span class=\"token punctuation\">,</span>\n      year<span class=\"token punctuation\">:</span> <span class=\"token number\">2019</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Parasite\"</span><span class=\"token punctuation\">,</span>\n      year<span class=\"token punctuation\">:</span> <span class=\"token number\">2019</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span></code></pre>\n<p>On exporte les données contenues dans le tableau <code class=\"language-text\">movies</code>. Chaque ligne comporte un titre (<strong>title</strong>) de type <strong>String</strong> (chaine de caractères) et une année (<strong>year</strong>) de type <strong>Number</strong> (numéro).</p>\n<p>Libre à vous d'ajouter plus de données.</p>\n<h3 id=\"création-du-fichier-appjs\"><a href=\"#cr%C3%A9ation-du-fichier-appjs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Création du fichier app.js</h3>\n<p>Dans le fichier <strong>app.js</strong>, on importe les données.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> movies <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./movies.js\"</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">table</span><span class=\"token punctuation\">(</span>movies<span class=\"token punctuation\">)</span></code></pre>\n<p>Ouvrez le fichier <strong>index.html</strong> dans votre navigateur préféré puis la console intégrée.</p>\n<p>Remarque : vous aurez une erreur sur Chrome concernant l'accès au fichier de données. <code class=\"language-text\">Access to script at &#39;file:///***/app.js&#39; from origin &#39;null&#39; has been blocked by CORS policy: The response is invalid.</code> Une solution est d'avoir un hébergeur en local sur sa machine, une autre est d'appeler la liste des données directement dans le fichier <strong>app.js</strong>.</p>\n<h2 id=\"afficher-les-données-dans-le-tableau-html\"><a href=\"#afficher-les-donn%C3%A9es-dans-le-tableau-html\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Afficher les données dans le tableau HTML</h2>\n<p>Dans le fichier <strong>app.js</strong>, on créé une nouvelle fonction <code class=\"language-text\">fetchAllMovies()</code> qui va nous permettre d'afficher la liste des films à afficher en HTML.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">fetchAllMovies</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">movies</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Récupération de l'élement</span>\n  <span class=\"token keyword\">const</span> elApp <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tbody\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n  elApp<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\n  <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token comment\">// Récupération des données</span>\n  movies<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    data <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;tr>\n      &lt;td></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>m<span class=\"token punctuation\">.</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/td>\n      &lt;td></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>m<span class=\"token punctuation\">.</span>year<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/td>\n    &lt;/tr></span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Affichage des éléments dans le HTML</span>\n  elApp<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> data\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">fetchAllMovies</span><span class=\"token punctuation\">(</span>movies<span class=\"token punctuation\">)</span></code></pre>\n<p>Dans un premier temps, on récupère l'élément à remplir. Ici c'est le parent <code class=\"language-text\">&lt;tbody&gt;</code>. Puis dans une boucle <code class=\"language-text\">forEach</code>, on stocke dans la variable <code class=\"language-text\">data</code> le HTML concaténé à l'aide du \"template litterals\". Et on fini par afficher ces données dans notre élément HTML via <code class=\"language-text\">ìnnerHTML</code>.</p>\n<h2 id=\"rechercher-par-titre-de-films\"><a href=\"#rechercher-par-titre-de-films\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rechercher par titre de films</h2>\n<p>Dans le fichier <strong>index.html</strong>, ajoutez une barre de recherche avant le tableau.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Rechercher par titre<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Dans le fichier <strong>app.js</strong>, on ajoute un <code class=\"language-text\">eventListener</code> lors de la saisie de texte dans ce champs de recherche.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input[type=search]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input\"</span><span class=\"token punctuation\">,</span> search<span class=\"token punctuation\">)</span></code></pre>\n<p>Pour ce faire, on créé une nouvelle fonction appelée en second paramètre <code class=\"language-text\">search()</code>.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Dans la console de votre navigateur web, on voit que les données saisies sont bien récupérées.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 947 388' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-918535f6fd235c344c47a115cfa8de26'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-918535f6fd235c344c47a115cfa8de26)' width='947' height='388' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAaCAYAAAAHfFpPAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAFnElEQVRYw81YWW/bRhDWb%2bxLi6Yo2h/TX9AGKNCXBIndFm2CPrRFGgQ5fcWxrVu2JOukqIOHKF6iJJL6OrMWHVm2Y0ptIhP6tMvlnrMz38xuAss80yn9piLreR56PQWmacL3gyuqTrHqM50bp28Y2Nrehk5p4eQEp5UKiqUijotFlCnvuC5eHrfxrqKgptjISX3UNQftbgfHXL9aQa6QF23L1Spsqs9t6406srkcEtFgcREEZ4vd2dnC3R9/wsbmA9zb2MTmL7/i2fOX%2bPvJP3C90YWFLINFAZiWhWarBdO20ZBatLAuKrUqas0mvUuwHAcFWUe5Y6ChmCjKfbT7DhRNQ4PqSLKMCi08l8%2bjTvVZAFzWoX6K5TISMfdkLhuKJJdN4%2bDgAH/9%2bQfub27g0aPf8Pvjx/j%2bh7uwbOdyuyV2f14IPgn8xYvn0HQNjmND1VQSigmNUpsWP/EnCIMz%2bJyGEwT%2bmMp9TKgtww9DBNQX54ejEcb0jeGHUyS8SQhzFMIeTy/AorII0fvAC2ASBp4v3p0JYNE3Tl0f523NWb1lwH37wWUNGI7GOMrk0NX60E0LbVUXaHZ6UI0BdMuF4bjok9DPUhcalQ0o7w6HYsHO0COtnIHehzNweaJrT9ExXHT7Fjq6hZ5B9qOb0O0RdeRBNV20NZPSIWwhkOAcPPH5d8ZinTiwCbobQHXCcwEE4ZkAtqs2PrvfwdcbTYEvHzRxZ0PCtz9L%2bOJ%2bA189bODOgzbuPOTvdXyzWcfn9%2br47mmX%2bGmAdKYAud1FKp0lPmigVDpFKpVFMp2HTEJM6B5IrXRUyU7qZDNNsjO2j52dXRwdHREJ9VEjwlAUFR/z4c1X5gQQaYBuj7F72kemZSMjO0hJNlItB/k2vXPaIeKTXSQlB1n6znW4bk1zMaJdHpDWsCZYxCGuOyQzIk0hzTEGpihPqNYYKu20NfJhuCPaaargjlGqS6i3e6RSnlApLu8ZdiywNqnUpu94tICz9j3Dura%2bQmj3bVhecIkHmHP8obUSn8R5EqPxGAVSi/1khtIq2ooGuacKm%2buQrXE%2bAn%2b7CVyP25WqdaSyBaTzJzg5rVF/%2bo19BERM7zXgjESZBDkbUkEYzmG6gPByPo7XSXhEMvmTEp6/2cGbvUMxebGQGIu9UgAEFl4yk8XTF6/x5Nkr7B2mofQHNwpgMieAcy5gASy4yP9VA1xiQn1gwXI98rXEoIYpoNKEFd1YCT0SgGE5sIcj0a9h2rHaRQHVogA%2bxsLPBRCSjxyTGbgUIHB0N2TXQalPu7FKIHPG4KEgIA5iuM8gCGMGWeGnFwD/Sa0m9vbf4pBYf2t7C68pymPXscrAUX1JamL37TvhXZhn4rRjwX1yAfAAPDBrAu/AfLoqIu2JJh633Vo0gAcIF2J9nswyE78sgED0w6QWe/HrEgD/WRQx7e7t0imrhHQ2g5dvXlGU1PlPJtCSW2RWbAI14pjJ7TWBcEZYFhEWE6DH5EVHXC5b9UTHO8ntOdIakZuNNOpWkiCr63V9C34IwqUxmbzngEi1b0awPhPgYyZ7gEqtJi4P9g/2UaX8gDRh2cGjut1uB4fJFDpkStHCbqcJUMd8QJBlmc7YOh1%2bBsJ%2bVU0T8QA/HFrGVf9wRp6WbUFRVWEKsdqtiwSvus5aNINlmJzTyeQi6c1/u94FrskEuF%2bXTCCby6LRlFAsl5DKpCnfENqwsgn0%2bAyeEddSfhDEM4F1CcAmda1UKzTpHrm/Nk4rZZF3HHdlTzAYGOLOTtf1C4v40D3gmkzA/9Al8EqeYHyVCdzYzxq9AO%2bS1GqJa25pdtO66s6fawAFV7V6Az1Fud0awH%2bqqqBwckwu8BjJZBI9VV950HkOyOby5FHk280BwTWTiw5JS2F2iJosmFXk4q5rE8xMJFxDHPAvDjNWAHSAtTYAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"947\" data-srcset=\"/assets/static/spa_javascript_search_console.82a2fbd.b5f811b07d445278d7f72e7e355b4f06.gif 480w, /assets/static/spa_javascript_search_console.8426ab8.b5f811b07d445278d7f72e7e355b4f06.gif 947w\" data-sizes=\"(max-width: 947px) 100vw, 947px\" data-src=\"/assets/static/spa_javascript_search_console.8426ab8.b5f811b07d445278d7f72e7e355b4f06.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_search_console.8426ab8.b5f811b07d445278d7f72e7e355b4f06.gif\" width=\"947\"></noscript></p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> filteredData <span class=\"token operator\">=</span> movies<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">movie</span> <span class=\"token operator\">=></span> movie<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">fetchAllMovies</span><span class=\"token punctuation\">(</span>filteredData<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Pour trouver une ou plusieurs lignes, on utilise la fonction <code class=\"language-text\">filter</code> qui permet de rechercher des élements dans un tableau. De plus, on utilise la fonction <code class=\"language-text\">toLowerCase</code> pour initialiser le type de saisie de l'utilisateur. Jamais 2 sans 3, on utilise également la fonction <code class=\"language-text\">includes</code> qui permet de rechercher des caractères dans une chaine de caractères en retournant un booléen.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 525 388' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a6563b4773b2d228376d91abd1a65b9a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a6563b4773b2d228376d91abd1a65b9a)' width='525' height='388' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAvCAYAAABTy8xRAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAISklEQVRo3uVa%2bVPcRhbmn94ftsqV2koltc7m%2bGGrdm2HQABjDIYADskABhszwHANYO7hnvuQNJdGc%2biab1%2b3DmYc21l7NFpcq6qvutUtdb9%2b/a5%2bUg98uJrN5nv7NF2HYRjQCaZp8jqD/eIH3/Xi6un24tmi2HUWOcbj4RG8eh3ETSyG4GoQRbnyIbahy2v3hwHObvb1/hvf/fMhrq/OMTQ8hG9%2b%2bBajExPo6x/A8Mgo%2bgceI5ZI4NnYKOZfLruS89lLgMOAxwM/4i/3/obDozf4x7ff4EFfL%2b59cQ%2b9g4P4%2bu/38aj3Jzz4sRdffvUVHvw0QKph/qn6eMIAh8vdgm4zYGiwD4urm7z%2b3Q/f49HPffj6/n0shdYwMvIU8wsv0D/0BP39ffjrF19CqWuWCnWZvh74dJWLedTrNV7PizmU6F4SsqgqFd5XkUtQKjLi0WtIkuQXWZYEiIqOdFntGJmy9kfIGu8TqiZyFWsesUZz0j0rc4rB%2bwSFwUChAd7Ox5O1d4/ZKThNGuqaiZ48TX6S04gJhk2kYRNj1S0CLUI5Ku1gffw96svKOg3%2bbqTdya26g0xLadVV6/4DY3UKthGxooaIoKMnWzH5ImDULdEzdTRIVGvVCpoG%2bWhNRbVShk6lqRMMjdotmLpGYlvmz7LnmOv6XC6DJD8iGOjJEQOyCiCXRCysrCMY2sDOwSE2t8NYXd/G3sERDo6PsRF%2bg7XNXVxF49iivvWtLSSyIrWHsbJO7%2bztI5XLW4OT72fG666CbRQT/4hoWBKQlk3eWKs3oChVKNUqGaw6lTVe1hhqdao3UFEU5PMFeq7CF8r7a/Rco%2bFa/M/hUonUEyYBxZqJ81wVuZKCbInKcg2CXLfLGi/fhlip82ec5x2w%2b0xRufPI0lrjkoIrSbO8QFbMIyVIEApFpKlMZgUb4ntg9%2bda70V%2bn/IICXtMVrdosuZx652OnxG49PawWF0slHCTSJLunyCaTCOXL3JmZIgx/yuwhfI6lfFMDlKxDIGQJMIZbVmp0PH4TOU5A6SSjNOzc4w/D%2bBfD/swNj6FX35b4IxgD/oNRiDb7XxZQXB5GQ/7H2NodBoDg8MYejKGobFpnFzGXYn9lPGZFLgMYAMl0lmcXlxjbWMb27tvECKrz7ns7ITPYASyDTg%2bPSOPs0Mhcxih9U2sbmxhiULqqziT1MKtpHyqBLg2ICfxBTMxy5FKCARLXyTP9Pq/h%2bTamywxQSSaxGKJ0ybwehlpsQO6bDtnS0ATeTYoLVhkus8mtCFRG4Nol76BLdSen9PENkayaBPeou1Tx2dj1BuqpQK6rt85P63rhptM6Vaihs3R46ShVLUOmYIgFtQwhqiaxuuq2oCUF%2bl8bvD2bh%2bfnfO/plmbIlcqSCaTSGezKMsyh2GabQmTTxnfZYCTsMgkLsnyBzA%2bMYWnY6MIBGYwPTmByelJjE2MYIL6Vta2O5r44xhg5QMS8Rh%2bnXmO16tr2CJjOBOYpQ3zkAFcAghqo0q6TlY/k0EsHkc2m%2bFw6lfRGApF2cnW%2baAClgSUiuShEgnkyVM1yGiVymVPskQtDGhycf%2bYF7uOpkUTI7A9TeodDbqt0lwCGqrKG9ikqsqg8joTQ9bntGk2Ud0GU8tGQ%2bV2gEG1aeB1L2gwrLVqDgPu4inO%2bk7Q7KIXaN7aAMfiCjmBdD6B65tryGUZeSmL0PYObqLXSKaSyAmCj0bQokkURey92aWI8BTxRIpoiRJzvDaCNGCjJiO4sorhsQmMjo4iFFrFSeQUT0af4fnsb/hlchxLKyvuy755gUQcs3MBhDa3cHBwhPnFxS54ARrQIH1gSQ3n01SzabrZEyaOmqbyZ/wMhNjV4ImZqusV%2bAI88QLNFi9ABsbJvztW0nirNO0%2bh0HdBJuH0WQFXreWn22Uu2GdzMHUnsZ2vQCbjH%2bg1HXX8ur8AcN90GnzgwFcJblnsubTbFocC%2b7F%2bM56ehxduIteoJufxd7pBSKRCFZCG1gOLuPq6hLR6AXGpn7F%2bmYIm1sbOLs4x8HhITK57nqDNiOYTGBufpZnng%2bPTrB3cOC6bQ9D4SYUuUiL3EZg4SUWFhZwdLTPw99XS0t4vbaChcUX2Nvfx8nJMT9K%2bsWAVDLON2T/6Bg3N1FPXPEfGPB/rwLM4HBjw0JhG9wYsmOxaoXEmtPmGEjDn1DYOZo7c7cZxA7G11pDYTbB7UGh1R02XXFjdSdBwepGlw9Elhs02ly%2bFQI0vT8MOUGGFeGZ7k8NpqHzr0KMW05QVKvXbv/h8SEQYgehilLhyZkGBWosWPM8I2R5ARPhcBiTMwFMTk1ib28XkbNjPPp5CHOLc2SJAwjv7SG8s4N4MuVKQreNYCwWxdT0JJaCK1gjD/X7/HybZHpiBE3uBUrk5i5weHJK7vAUmUwKQr6Ay8sLRFj70QEdRhJEUAxl%2b%2bcmfw5DAk6JHsb0QqGAVDrlyfhtCZE7mRQ1up0UbfUCtsVlpZX8uPUGtwmRdm%2bg692BY%2bXrbkJEa6fLPiN0BsNaj2UEm66%2b/RnHfPl%2bb9sVtvj3GduOaLHHd84%2brg2oKTJOzy/5sZd9NWXcURQFAkVe2kfkDL26NFsty%2bUyRYDXSKRSSGeySKYz3noBNy2evMHMi5d4%2bmwcr18tYvr3WQTmXmBgYBDziy9to2f6%2bF2gPS0eXAthO7zLEyKm2YWEiK4znVfJymZQLpWI2xlI5AUkUeKl/1%2bGLAmoyGXkcjnyPArURoNLpedGkBkEJ8p6/x%2bfVnKk6zDMtoTIu3667nQOJ/jjRpD/zdkSJ2tt1rgF9h/dfqA9CdJKi%2bEJLYZ9jmGM%2bA%2b2f52uLquvcQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"525\" data-srcset=\"/assets/static/spa_javascript_search_input.17519ed.6ac93f211a403cfd8335f2c31ebc1a3b.gif 525w\" data-sizes=\"(max-width: 525px) 100vw, 525px\" data-src=\"/assets/static/spa_javascript_search_input.17519ed.6ac93f211a403cfd8335f2c31ebc1a3b.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_search_input.17519ed.6ac93f211a403cfd8335f2c31ebc1a3b.gif\" width=\"525\"></noscript></p>\n<p>On en profite également pour afficher un message d'information lorsque aucune ligne n'est trouvée dans la fonction <code class=\"language-text\">fetchAllMovies</code>.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Affichage des données dans le tableau</span>\n  elApp<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> data\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Aucune donnée</span>\n  elApp<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">\"&lt;p>Aucune ligne trouvée&lt;/p>\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 525 388' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-aa656f4287941545fb8e99f865be81ab'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-aa656f4287941545fb8e99f865be81ab)' width='525' height='388' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAvCAYAAABTy8xRAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAISElEQVRo3uVaaVMcyRHlT/uDIxQbYXs3dteW94MjvJaMhACxCCQQyEgjIZC4zxmEOIdDwNxHd8/dc/Uxz5nVBzPalXYNPb0o3BEvKqerpiorKyszK6t74MPTarU%2bWafpOgzDgE4wTVPQDPuPn/2vF09PtyfPk%2bLn%2bOgAD4eG8XZ%2bEZFoFIvLiyiUK58TG7o8d38E4Kzmvd4fcfsfd3B%2bdoLBoUF8/8NtjIyN4X5fP4aGR9DX/xDReByPR0cw/WbB1ZwvXgMcAQz29%2bIPt/6E/f33%2bOvfvsed%2b/dw66tb6B0YwDfffoe7vffw47978eevv8a/7j2grWH%2b6vbxRACOlLsF3RbAwEAfZpc3BH37h7/j7oP7%2bOa7bzG/uoLhR48wPfMafYND6Ou7jz9%2b9Reodc3aQl3mrwc%2bPaVCDvV6TdA5OYsi/VakDKpqWdRVykWolTJikXMoiuIXW%2bhhCcuqjlRJIzSvhTT18UvgOqlqIlvRBS3XWuI3l1nVELSkMgzkGhDvP9efF%2bD51jUTPQoNfpjVBHPMRLZi2MxYtMWgxahApRNcJyZHdZmyjvQnkHIGLzvC1tx3qY%2bElbLbdQs812hBQ1jS0ZMpm1DqQFFOI5PJkNUx0KhXUatWiCQfrTVJNUvQqDR1gqHRewumrok6bsvt2HV9KY9htnAkGSwAWkXamucnYQTeLmF5bQNbO3tYD4aIDmJ7dx87B/tYC21jeeMdziIxbIZCWNvcRCwjY53opbV1bG3vIJnN2Z2bwnjdVPBCsfofyYalARkVqJSKqKhVVKtVqFTW63Wo1Zooa4xanegGtVGRy%2bWpTUVMVNTXaqLOsfhfwtMkVg9ZAwo1E8eZKuRyFZliFdlSDVK5bpc1UX4MuVIXbZz2Dvh3uqDeeGSKKmKKijNFs%2bKAjJxDUlIg5QpIUZnISDbkT8Cuz7b/lsXvpEeI230ybfFkjePSHvTPWtvDsbqcL%2bIinsDW7iEiiRSyJAgpX0CaBPN7gScqaCrj6SyUQgkSIZ6WBG8ZJX/t/muOAJRiGeHjEzx5FsA/7/Rh9MkExp/PCkFwQ7/BDPJq50oqFhfmcafvIQZHJtE/QOVPo4I%2bPIu5GnuV/lkLXAGwROOpDMKn51hZDyL47j1WgzuWlJ2V8BnMIC/AQfgYa8EtzK2GsEoeij3THIXUZ3HW1PylplxVA1wbkFXEhFnNsrQlJIK1XxTP9vVvh%2bLamwwJQSae5EJR8CYJuiQmcOX%2bbTtna0ALOe6UJizz3ucBbSj0jiHbpW/gidrjC554YRSLN%2bkj3q7aP/dRbzQtAei6fuP8tK4bbjKlW4kaHqPHSUM1m3WUKQDioIYFommaoJvNBpScTOdzAwa97/bx2Tn/a5q1KOVKBYlEAmkK00vlsoBhmh0Jk6v07wrASVik46cYfxHA47GnGB4dQSDwHBNPxzA%2bOY7RsWGMPQ9gcSV4rYH/NwFY%2bYB4LIr/TD3D/PIKNje3MBUI0IJ5KAChAYRmg6LBPFn9dBrRWIwORmkBhz67iCBPe8fO1vmwBSwNKBbJQyXiyJGnapDRKpZKnmSJ2gTQQtOW9m/9Y9fRsnhiBjvTpN7xwH2zkIUGNJpN8YIHbTYZTUGzGnKd806zmeo2eFs2Gk1hBxhNmwfrtwc8GNZcNUcAN/EUJ%2b4JupgQtbyfbQMciytlJdrzcZxfnKNUKiOnZCgi3MJF5BzJZAJZSfLRCFo8ybKM9%2b/fUUQYRiyeJF4iJByvjSB12KiVsbi0jKHRMYyMPMLa6jIOj8P4aeQxJgNTGH/6BHNU7/zZNy8Qj%2bHlqwBWN4LY3d3H9Mysm2r3VADs4%2buNuns11WqZbvZExAlaU7TxMxDipyESM1XXKwiePPECrTYvQAbGyb87VtL4qDTtOkdA3QSPwzzpIvC6tPy8UO6CXWcM3vbUt%2bsFeDBxQanrruXVRQPDbei880MAYksKz2SNp9m8OBbci/6d%2bfQ4e%2bEmeoGW317giM7ey6vrWFhcwNnZB0QipxiZeEYGaBUbm%2bs4Pj3B7t4e0tnueoNOIxjHq%2bmXIvO8t3%2bI7d1d1217GAq3oJYLNMkgAjNvMDM7g4ODHZxFo3g7N4f5lSV69xrbO7s4PDwQR0m/BJBMxLCwtICd/QNcUDjuhSv%2bmQD%2b77cAGxxhbDjs5HBYs8NOXbdDUAdtBtLwJxTmsZptY3cYxGv0r7WHwjzA5UGh3R22XHVj2klQMG10%2bUDkHIbalcAJATw/DLlBhojwTDfSMg1d3AqxtNwrpXrt8hseHwIhPgjxLRQnZxqNBgVrDe8zQpYXMBEKhTAxFcD4xDi2t9/h6PgAdx8M4uXsK7LEAYS2txHa2kIskXQ1odtGMBqNYHLyKeYWl8hDbeDF9LSlmS0PvYApvECR3Nwp9g7DODoKI51OQsrl8eHDKY74/f4uHUbixFAUJfvjJn8OQxLCxE8skUI%2bn0cilfSk/46EyI1MihrdToq2ewHb4nJpJT801xtcJkQ6vYGudweOla%2b7CRGtky/7jHA9GNZ8LCPYcvfbr0nMl/t7267w5D9lbK/Fi92/c/ZxbUBNLSN88kF8CcJ3/hp//aGqIvJi2u9Hs7dlqVSiCPAc8WQSqXSGbEDaWy/gpsUT55iiMPjR4yeYfzuLyRcvEXj1Gv39A5iefWMbPdPHe4G2tPjzZ1hYWUUw9E7w4um9gHO%2b1nVrzydJwqViUUhbIS/An6wpudzvcDNkaUClXEI2myXPo6JJMQBrpedGkA1Cq/X5rzJFEsL0AXbSwzF2v/TR9XXHcII/YQTF15xtcbLWYY3bYH/R7Qc6kyDtvBie8GLY5xgWxH8B7AOc9%2bCSjcwAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"525\" data-srcset=\"/assets/static/spa_javascript_search_no_result.17519ed.7a1ce844e5083682b508fa16abf5114f.gif 525w\" data-sizes=\"(max-width: 525px) 100vw, 525px\" data-src=\"/assets/static/spa_javascript_search_no_result.17519ed.7a1ce844e5083682b508fa16abf5114f.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_search_no_result.17519ed.7a1ce844e5083682b508fa16abf5114f.gif\" width=\"525\"></noscript></p>\n<h2 id=\"plus-de-crud\"><a href=\"#plus-de-crud\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Plus de CRUD</h2>\n<p>Jusqu'à présent, on a surtout affiché des données. Dans cette partie, nous allons mettre en place un formulaire afin d'ajouter ou modifier des données. Et nous ajouterons la possibilité de supprimer ces données.</p>\n<h3 id=\"préparation-du-formulaire\"><a href=\"#pr%C3%A9paration-du-formulaire\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Préparation du formulaire</h3>\n<p>On ajouter un bouton et notre formulaire avant la barre de recherche.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>btn btn-outline-primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-add<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Ajouter un film<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:void(0);<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>mt-4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Titre<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">required</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>year<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Année<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>number<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>year<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>year<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-control<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">required</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>hidden<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>hidden<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>btn btn-xs btn-primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-save<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Enregistrer<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>btn btn-xs<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>form-cancel<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Annuler<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Par défaut, on cache ce formulaire en JavaScript.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> elForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"form\"</span><span class=\"token punctuation\">)</span>\nelForm<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span>\n<span class=\"token keyword\">const</span> elContent <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"afficher-le-formulaire\"><a href=\"#afficher-le-formulaire\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Afficher le formulaire</h3>\n<p>On ajoute un <code class=\"language-text\">eventListerner</code> au clic sur le bouton d'ajout.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"form-add\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">displayForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Cela appel la fonction <code class=\"language-text\">displayForm</code> pour afficher le formulaire et masquer le reste du contenu.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">displayForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  elForm<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"block\"</span>\n  elContent<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"ajouter-une-ligne\"><a href=\"#ajouter-une-ligne\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ajouter une ligne</h3>\n<p>On ajoute un <code class=\"language-text\">eventListerner</code> au clic sur le bouton d'enregistrement du formulaire.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"form-save\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Récupération des champs</span>\n  <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value\n  <span class=\"token keyword\">const</span> year <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"year\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>title <span class=\"token operator\">&amp;&amp;</span> year<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Nouvelle ligne</span>\n    <span class=\"token keyword\">const</span> movie <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">:</span> title<span class=\"token punctuation\">,</span> year<span class=\"token punctuation\">:</span> year <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Ajout de la nouvelle ligne</span>\n    movies<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">)</span>\n  \n    <span class=\"token comment\">// Affichage du nouveau tableau</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">fetchAllMovies</span><span class=\"token punctuation\">(</span>movies<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>On récupère les 2 variables de notre formulaire. Si elles sont bien saisies, on ajoute la nouvelle ligne dans le tableau de données via la fonction <code class=\"language-text\">push</code>. Puis on retourne le nouveau tableau via la fonction <code class=\"language-text\">fetchAllMovies</code>.</p>\n<p>L'ajout fonctionne sauf que le tableau n'est pas affiché et les données saisies restent dans le formulaire.</p>\n<p>Pour remédier à cela, on créé une nouvelle fonction <code class=\"language-text\">hideForm</code>.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">hideForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  elForm<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span>\n  elContent<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"block\"</span>\n\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"year\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Appellez cette fonction avant le <code class=\"language-text\">return</code> avec <code class=\"language-text\">hideForm()</code> dans le  dernier <code class=\"language-text\">addEventListener</code> créé .</p>\n<p>On fait pareil pour le bouton d'annulation.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"form-cancel\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">hideForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 525 481' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-3dec7f1aba52d6bb6a51b32e876ae852'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-3dec7f1aba52d6bb6a51b32e876ae852)' width='525' height='481' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA7CAYAAADLjIzcAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAJfElEQVRo3u1aWWxcVxmedypRlU0gFiEhpL4gxCsSErsqhATviBdeKuAFBAlibZImDmloYpK0tQsJSV0vseMldWIndpzV4/Ey8TjeHXtmbM%2b%2b73Pnzp378Z9zF4%2bnY8eJ7x0nbY70zznnLuf/73/%2bfY5Fkkv4bWcS3zmTwQ8bNEjz/gfq%2bEd8rlz77tsZfP%2bdDL/G3nm1PYlCUQJrsizjWWuWXLGILx3NwvI7mvxZgmW/DMsfaLyP%2bj8S7MMG0PyFg0VY/lKC5U/g73z%2biIB4VuSLlZ5FBgi0ey%2b/mcULr4n4dU8EP2sK4ZX/JfC9/4TxKs1/8o4L3zrmxCvvpfHyySR%2bei6EX3Qk8MtLMXzygICvvSEgmX%2bGGZAnCfjqMZKAfSK%2b/kYS3zwZxVeOpvDlugS%2bcCSJX50YwAO7Fd8%2bvkwSIuKl1zL44lGCuhRJhEj9dhIg62rB%2bmqw16pjKZYk/PhcHi8ekvHZOhmfOSLjU4dpfKSETxwCfn7SgZPNA/jGkTW8VAd8rq6ET/P7Ml58XSZJEZATt7IB1T%2bycrwdY8xmjoX9FAlHnhAVCISynu1rXCjBkxCQpW8sv88gX6JndrCL2r1SqYRCoaBcozGbV3uufGw6AxQEsr5jG4CyHlvMtyeWzbWPnJqcwOtHj%2bFy71XcGR5Gy8U22OxTfM1CQUQ%2bn9deQiaTrZlqWLCFCCqAR8y312U2lyRFPfr7LmP/Pw7D6/Oiua0ZJ8%2bcwemGRtQdO45Ddf/EwcN16BsYQmNjA%2brfehepGjHBYubixBqdAQPXevGb3%2b/HwtIC6k/V41%2bnTuOvBw6gpbMbbzU04GJXD46fqMf5pvfx90N1WPUGdLUxXQXMBO0D7t29hRv3xvi4rb0V77e3o/HsWdwctqL3KqmF1YqOrm50dnXhbwcPwxeM6Awwkz5Lrd2OJhHbWMyqRtFUCSgSUUWKB8RdQpGDtAVoz0gfekfvxY33xW3XMgKKfDMsTMRyeYEmpU1%2bAJW%2bQXdl8ia3phtAdV7%2bUZUfWe3eXoBGQ04QYGEfziCTSWF6fhHxeAKhcBgerw/xRBLRWBw%2bvx%2bhSAzRaAzpTAaJZBIRNs5myar7sbru4e8xRj5LTSD3yxnARCKTTmLc8QD3RsbgmJ7FfccUrKPjfDy3sAi7YxrWMTuWXW5YbWMYHZ/Auj%2bE2bl5jIzb6fkHWPMFNknJ0w6cATw6E8UPua/tjBgTn49C4wxgnIgysSeRDpKYM1EPReMcwiT%2b4WgFxBKI0PPsXrVnQtEq7zwBhMrWCuo0xcpgF%2bsz2mnNRCqtMCAYiSJAEE2mEKaPC0SVuS8UgS9cAexaKFz9nkHgD2s4wnzMaVJpDLKNIvDvcn0vrR0jG8dVgO2oc3WV67hjZh7ONQ/ps19Huhfg54RSHwqRcV7COtmXVTLMD12rWHavwRsM73r9WFJlANv5xaUltHVexpv1b%2bNCUxv%2b29SBIImKX%2bVYgIipBXBcXPrCCNMOzczM4DTlBo3nWvDvM40UNp/FiVONGLw7ilgqpUrJY%2bJh62sMYCoQUj/UGwxx7jIJcHl8ey4BrF/3B7C04sKi040lp4toW1ck1B8kVTBAAjQb4FX1jelXgIG6C3sFTMTZhrDdZRuk6H5cp63cTjwJeGjtaCJBKkAMSKYzHJhVjCfTvK8G2nNmQ0qlRcMZJxVVwFhaWCBnYUHLIxOUPWjlmaRZrajlAlJJCYXXycp6vF4Eg0FEIhF4PB4EAn4sr6xQeBxBgkSmFlGeRhzDxSpFM3NzeEg0uEn3fT4fhePZbeuJOwUW0Fm03fd7Xei%2beg0dlzpx7sIF9Fz%2bAF2Um7dS3t7c2orWS90YvHnXEMQ7ZQBryUQMF4mma0M3YZ%2bcQv/AIHyB0K7pYI0zgEkAQybLrC/yoqWSMYnKmMJkNs5T5lSsYQgscQlgidoGTYxwFrYbpRpFhQEy/0it3leZEm9Ki1W9NBt4jUJNWbcqvu4ej/LdnAECcZhJAStIMA5rwAjgvbjRm1ukUAoVjBZWKWbJikaXqBZMRJUuI/Cw79ZV4GlrmnE21QtoNkBU0%2bFVygfuTzowOjYGl9sNn38dfQM3cH9qCnPzc1hYelhTI8jGuVwW96xW2B0OTM8t8DpFlDJSQ40g43SO3KBtdBRX%2bq%2bj/9p1TD1wYMXtwtX%2bfty4cwcDA9dxb8RWcy%2bQSiZw/cYQbBN2vgEjtlFKaWMGM0C1uDurwtbmj0ypzCCarAKqa1Etq6QyROkV%2b6C7JPWaVDIXtOIqA0aXVEYXr%2bYahKcgaiUxsrZ8cRWBVpbmjJA2ELPrGkFF7XkTgOHjnqig%2bHy%2bOeoGyTxGMAZ/QasJbukFOOLNYigI%2bZp4DUn31xIPhwUKxEQKyNLptF7CN9ALKAHHzOwsDzWv9PWREZyC07WMptaLGLx1G7fv3sYEWeCFxUV4fH5Tq7/lXiCbTXOa7o6MYNzuwOz8PKLxpLFGkEGW/S8wMwPb%2bAQmyOKuOJfhp6RocnISjulpjE%2bMY35xia6vGGKFd8QA6jPpFCbu38fCw2X%2bXwX7P0JWwlYDc4EniPHNss7aupJqC8zAX8EANRQuVoTBas/uMWNRec/sv64YXkFNggoVNBiFZyMUZhIgPx6HH3X4abfiuVMJMEAFZD3rEnmqKXFry%2bcFAZFYHDmywswbsHvxRIKssmCaGpQzQAvTg6Eghb9RxAh3NBbj7ng3%2bKvYADI4JRE2mw0tFzvQ3NqGYeswGb05vHv2PLp6e9Hd04071hHYySAtLTtNPbywyQiSce7pvYKBW7dgG5vAFQrTWWnbcC%2bQp6Rj3eOBe3UNa2trCEdCSJLP9ft95PZ8cFNy5A/QTkSjNTnEJJUlQ06XG4FQiMcArFSnue3d4i9WqsDjipGZblCLTM3Er0uAZm0FQbW2ZRaXe4Fy6y/W4gCDtMkLMLo0b8SviUZ6AbX89LQ1LfkxMw4pbtgAmR%2bQeDA7x0%2bApFIprm9pisLW1teRorFcgzpApQqwzWG5xxJFgW6yS2tko5adTv0kiiFGUOOy1%2bNCT18/zr/XjKGhQbR39qD7g16cO09e4HJvTQohW5XFW9o70Dc4hNFxO3qJxmDY4IKIlnjwCgztNsu%2bstmsDtr53lofp9OCtFwux%2b0AL4cbeIB6UzYoP%2bJUpp6T1wC0o3vVyuL6AUwDcPCyeHkNXi89b3kGsHaw3bE6o9bn/w3iY94sz8Jxto/UWeGnTgKeM%2bA5A54z4GPd/g%2bArT2OXt%2bmLwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"525\" data-srcset=\"/assets/static/spa_javascript_add.17519ed.2cad804bb7baefc88b6888bb8b95874c.gif 525w\" data-sizes=\"(max-width: 525px) 100vw, 525px\" data-src=\"/assets/static/spa_javascript_add.17519ed.2cad804bb7baefc88b6888bb8b95874c.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_add.17519ed.2cad804bb7baefc88b6888bb8b95874c.gif\" width=\"525\"></noscript></p>\n<h3 id=\"modifier-une-ligne\"><a href=\"#modifier-une-ligne\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Modifier une ligne</h3>\n<p>Dans le tableau HTML, ajoutez une nouvelle colonne.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Actions<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Puis dans le fichier <strong>app.js</strong>, dans la fonction <code class=\"language-text\">fetchMovies</code>, modifiez la boucle pour afficher un nouveau bouton.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">movies<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  data <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;tr>\n    &lt;td></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>m<span class=\"token punctuation\">.</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/td>\n    &lt;td></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>m<span class=\"token punctuation\">.</span>year<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/td>\n    &lt;td>\n      &lt;button class=\"edit btn btn-sm btn-outline-success\" value=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">Modifier&lt;/button>\n    &lt;/td>\n  &lt;/tr></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Désormais, on récupère la valeur de l'index appelé en second paramètre de la boucle <code class=\"language-text\">forEach</code>. Toujours dans la fonction <code class=\"language-text\">fetchMovies</code>, on ajoute un <code class=\"language-text\">eventListerner</code> sur chaque bouton de modification.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">elApp<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> data\n\n<span class=\"token comment\">// Chaque bouton \"Editer\"</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"button.edit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  b<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">editMovie</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Puis on créé une nouvelle fonction <code class=\"language-text\">editMovie</code> avec en paramètre l'index de la ligne.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">editMovie</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Récupération de la ligne via son index</span>\n  <span class=\"token keyword\">const</span> movie <span class=\"token operator\">=</span> movies<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> i <span class=\"token operator\">==</span> index\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Alimentation des champs</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span>title\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"year\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span>year\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> index\n\n  <span class=\"token function\">displayForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>L'index nous permet de retourner la ligne du tableau concernée via <code class=\"language-text\">find</code> afin d'alimenter les données du formulaire et l'afficher.</p>\n<p>A ce stade la ligne concernée ne sera pas mise à jour mais ajoutée. Pour ce faire, modifier la ligne ci-dessous.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">movies<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">)</span></code></pre>\n<p>En mettant en place une condition.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  movies<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> movie<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  movies<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Dans cette condition, on vérifie si l'utilisateur fait une modification (on utilise la fonction <code class=\"language-text\">splice</code>) ou un ajout de données (fonction <code class=\"language-text\">push</code>).</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 525 576' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-768a929152cdae431c84420fe1bde997'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-768a929152cdae431c84420fe1bde997)' width='525' height='576' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABGCAYAAAB8MJLDAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAJfUlEQVR42u1cSY/sRBLuHzJzGhg0i5DgwTx6eV376t1VrsXuBjQaJDTScEYgxCIOXPnFOfFFOu20y1V22lU1NG8OoUy7nVtkRHwZEVl9469isfBisfSbkZWSekZbj/oI1onw0/Il0Y0XxsKmhYRRki6E6qWPwrVaGH0byIX6q4Tb2EEs3PClM4AXkYj7eSIGViyGdizGDp5jMaL6xIlF38KOJ1Qm4nEhvwMzfh8MIAkIaEcXtMCZq0Sdnr1EOIGs4x12XT2jxHMdA3xNParof824G4j9nPTYCqQklEl/z/qvvQehrRcmjRhQfgeVqmMMmHxRBsiBoP/SBpwiv/Jdvij/yCBqQV64Z9Ilouq7Y4y7CAP81PAF67YDxYUdrVp8GD2J8cQWtw8jMZo6YjLzRG8wFwt7nTHFDXb8XZlJF1cBJWaS4haUpFJQLa74ZrV5Fo/9qbh7MxGWu6b6TDz0puLhcSJu70fiE6I7Ys6YGHN7PxS9kSWlqUJKLqIClySdAVjo0l6JO1okGPD6tieGJBFvqN6nRd8/TrkORnnhFVXg0gTRHpIKLJyNiLbPLP7DsS16JAnTZSDVYu7TNw7/7aE3K9qWC9LNVeAmZYJuExTxQetIeRUYvIYElMkrlf6R52sQMwD6dgrGCjp9pH4NcT33JniKAXwOIBiaWys6FW6F7W3IWkeyTmS5G3q3ZQJcOek3qOO7JRHeKfh6CeQfMIAmPydcni5Dxuc5WWtVXzoRM2dGhAXPyHDN6G%2bOv6O/r/hvIDxnlluj7NDTgbq2L/RTZoBnADV%2bDTbnZ4oSnfpbE%2braXqMDBmDnlLiDHK10tGf5bpfStoJ2R8lO29gn%2b2ze3j6Y486IbFbZjAGyEzcoLdrbnJUcf1PNuKbtvSPtW84Vap9JwNJZi8nCZ92XRu/4YKbEBjSdJPpXE4BtgQGtG0sZYL09bI9qa7WYK/rLJSAAA1Z8LL2nI2tvuOTzeJGz21aEXZcLBMqE4o7O//0xHXv7cx7rgU%2bDoXCzsY613/Ic73BspvYPgxnVZ1y%2bIZqd6KPYXy4xmgSkDd0NS4KFnXGis0qAGgP9885zKQkSZ94%2bShGqWR%2bnJUDj3CVtwDFR79q%2bsw1wA%2bmPH9Je%2b9v%2bTHRsjCbt9melTAIu7XLq%2bCsdnafW7b0VTV4jLyU3lKVv1KfGAD%2bNynBEhv2DtFOU/o65xQMYnrnLcT8lfkoC6oOmeeDFJpi2A1KDcJcToJvIpfrSj7is80v0Od2oCdjuSgymnhjATycUgI8On31IFndAiNCfuAyTpk6PHtTAggcjm/p2xZysNmIEtr9rFDVWDMACp04g5t6aFzx16VjuhlQnxoKpjRiQFBnA4kA7zSekFG8dGERVTx0iwGW%2boLjRsVlfAKTJdiUksqSVJKCuvUW7D6nkRXvkm3ihmPnks3jyGRKhM6B%2bTgY2QA9omEhB2X9ANskkd6AzAKJu8U5vK2lBUtFSAuKTMfpyYxPHqcgAsz6rGNhofgZ9FgMilwo%2bhN3HyNsf8fAMI9uqv5u6nSjH57qqQJNdOdaeD23hVkOBw3qT%2bR21AdAxGQ3KYQpBkvwEtjMKVZd1GIZWHV%2bVc%2bQZGEFbgzxJewmDVAdEl2HQyAhicpO5J/oEU3A2EPXBZB%2bHC4YtQBZC15CIpjm7ShgcSxhcWAS7NI5FSAPD2JQBWODI9ggJQoLClRg7vpgQARY7oECSpafkEXHPDPFSxnjaIantOUDpp%2bxHHrS2yT/FLv78ZL%2bHMEhSSdC38NeyDKgkOJzTs2JQaxVoJNYtcojlMSBFUIOffvlV/Pj9D1w/lQtQDMDiAINOBQTiHVQAqtBETQ9V4IoEX8CiRX/51dfiu2%2b/43wh3jWG4EJCN6UMApMOeYGrwWDCRjX5/Evxry/%2bzca1DsLqYLBtgrdwEFLiyVSCwUMR7RZJRv9eijR1/WV2isSbxT3URD/caiqxOZmqP6kCeGlxrG0tEySpPwDLr6IuKo6n%2bwQmRhDGDqErhMZUVKjOsJaNoMJ92AP2LVj/Jf7DPrR2hjx4WbTYwcRhgre2oAkCqpC3H9E7ZHIxeThMTQ1NGQaRAc6ZGhk5Q8rKD21XjMkhglM0cjyCQgmLnZyh8qWHQMsVFv4W7o1Og3Xw1ny3cglYBhFbfCZ6B0jEOwWTF4XBtnm4LmMUbcAm0/uMQklggIJBYxvwEihYNQ91/aZg8BxjyPZ1C%2bwEg0kRBqOkEMAoB0TaqMDxU2TcTAXI/kDMbQ328pKcOO0k2AoGYZmniyCz0rYbMSIAuuAcyWSEvEPQFgaBKFOk4AhNMBZ8DxMYhJGzUw8Q3qCKEDEMBl1gkCBqRhMa0QQxSZV7G88QDA24xPlgYRUZYAqD6BsMlfcMQl6EKQwObIdg0GcYBASOHJoj1TvDYJOASFksTWHQtK%2byBIAJKEGIBMt6lD5HXWGwGDuvejY9BlfDYKzdMI2b25A0IpQHRIrkpKrwu4TBojN0HCJbo0C367LmV2tNYYtvjuJHGuunCnpmdxr1Vu5wPshe8/7KdiDufBJUYxzahGbGFLr%2baton6qXUZ/pw0hMfT6g%2b7rEtCNPYQmMV4IAoWWU4KuO5x5AHiILzgxgentveAyzCIJwhN0WCgMs6zzK7XUqLmpDlf2fwSvxtfCf%2bMnot3hv%2bQ7w/exB//OTv4tP/fCG%2b%2bfl7cTeaimj7mTkM4n4QosEIjOJCMxgAmFKY3eYHDIXBUhhUwVZ542N98lL0AQO8QLw3%2bFi8nk3ER9Mh7f6AyoH4YNwXPWsuwuedGFmuWEXP7VNjegBEp7ZHzaapsToYBAOQC3xn8KF4d/gR059HKF9x%2bafeB%2bIPt39lrzCsCa%2b1So2dyxvUL02a5BcUWWEkKYiK9RV5iettu6PwS3KGqlFAIcBTO2/QLwQ/kgrvKjkbBAYdL1irn9SUKbsh0u4cgIns2TBlorqOD4zYOWBQpdxUsqWJGmSR5DTooQIghcBI%2bYbI2hgG16KPtBWcH4InoMGYf8Vhk0doMyK02bECDGapMSf1Bv1CvrHpDZG5i8xQxC7wDHVvnbnInYKimAxff1d377xtdlsc703DW1Xu8CJNtqqr9p7hDRF2qR3yBAkRcDMENGHPMDzfDZHyz1n0YIipPTiEwScjO1CWgPyGyKYUHLnCDZHuMNiuz8OJ68Zur1HcOHf5IoOi50Uk7VdjL48J50rSJjkKvI2UqsDbKwHX%2b%2bHkb/kfKPyfAW85A/4LXQiMf/Dkm1QAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"525\" data-srcset=\"/assets/static/spa_javascript_update.17519ed.3318141e063721cd310c8e9a5d816ad8.gif 525w\" data-sizes=\"(max-width: 525px) 100vw, 525px\" data-src=\"/assets/static/spa_javascript_update.17519ed.3318141e063721cd310c8e9a5d816ad8.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_update.17519ed.3318141e063721cd310c8e9a5d816ad8.gif\" width=\"525\"></noscript></p>\n<h3 id=\"supprimer-une-ligne\"><a href=\"#supprimer-une-ligne\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Supprimer une ligne</h3>\n<p>Comme pour la modification, ajoutez un bouton dans la colonne \"Actions\".</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>edit btn btn-sm btn-outline-success<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>${index}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Modifier<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>delete btn btn-sm btn-outline-danger<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>${index}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Supprimer<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Puis un <code class=\"language-text\">eventListener</code> sur chaque bouton de suppression.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Chaque bouton \"Supprimer\"</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"button.delete\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  b<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">deleteMovie</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Créez une nouvelle fonction <code class=\"language-text\">deleteMovie</code>.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">deleteMovie</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Confirmez-vous la suppression de ce film ?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    movies<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">fetchAllMovies</span><span class=\"token punctuation\">(</span>movies<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Dans une boite de confirmation, on affiche un message de confirmation. Si l'utilisateur valide, la ligne concernée est supprimée via la fonction <code class=\"language-text\">splice</code> et le nouveau tableau de données est affiché.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 525 576' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-f9928733762e1754256fd83d7dd5d161'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-f9928733762e1754256fd83d7dd5d161)' width='525' height='576' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABGCAYAAAB8MJLDAAAACXBIWXMAAAPoAAAD6AG1e1JrAAARz0lEQVR42t1c%2bZfbRnKePztvf8lLno99ceJYim15d/3kY23F0X3MSKNrNJr7EOe%2byeFNgiRAkMRJkCC/VDUAEsPhqYy8VqhX041mo9GorqqvqrqpqYbbwnFRR6JsIqmaooyXDVEGFA/V0xWr04/pqKDDbrTAn3a7jY/tM2U4TeSqlrhwmq2RNxT1BhpNF67/rpJmo2Y3Pl4GmI6LXM1G1Wzi2lIBd3YlTB/qeHEi48ulIl5ELSzHa7i7ayAqG/S9jJurCdzfryJTqwsGaHbz45aAbNXm2ZMqWNjKaiTadaRUCyclE2XTRVqt41ypk4Q0IRsNxGUNsuag0WohXxsuAUEbl/3oH824qTqJ/YGkI0NqwKrA0sCrymWByiy18UvmaxZSpP/iWquL/lzne82GOxYDetuoNpIxH5o5U/zHbbXhkDFkG8BUD5fugLp/zfd2J9v/IcFLOPU6bLsu6s1mA62eG1qt1lDGfRAGXMUDwiva%2b2m1POl4MTuNz//tSzx/%2bQpz8/P44ecfcXqeQN22iSlkR3Rd9LMtC4Zp/W6qMTVIBCelQRN2XY8BN7%2b/gT9/9TXS6Ti%2bv/k9rt/4Bte//i/866ef418%2b%2bRSf/vkLvJ5/i08%2b/Qy37jxAK6QiH1wFPuQnYMAPxIB//uwLxKLH%2bOSzT3D9u2/xT3/6Ex4/n8XX336DO/fu4/q3f8GN727g8//4CpbT%2bP1U4EOS6%2bv105nHOEtkRf2XX3/Bg%2bnH%2bOGnn7C%2bFcHTZ8%2bwtLKKp89f4scff8C1G38DO2jD0OOqaOr3hp2woftD%2bAHMhSbhe4Op0YTTaAylcB%2buX7gOxulDnf7NIc9wuuMPG%2buqiBdjiv9YBE8squOoW388764uM7NJet9s/oGJ5sfMZkZPsZHil9e1Ct7tHaJYKiGTyyORSlJdRoEomU4hVyghT1SpkRcoy5AKBVQ1A7FEQlBJVmD6GP8xfHixHJI2YkBLBDemWcP24RHWNjaxd3yCvf19rG1u44Dqp7EotvYOsLl9gPNkCuubG4hsb0FSVOwfHSKyu4vd/QMUlUrXcI38B69sh%2bq/xz9favm9BQMEJ3zIGY9z7lBD9qGt9lX5LCz5QgW4oVSuQCopyBcVUUpymcoyClzK3VLUadWZpFDbhT7BfcE4Pe29dKl/yafQuB%2bC%2bHk22T7BgIJSFuJcJv0uqVVR54fnmSkTUI6pKFO9jCKPE2Jasdx/TK%2b/Qt9XxHO5FHX/vknnMPZc6bkW2SyhAnKlhlg8gfnlDeweniCZk5DOFy%2bt8ijqPkDG/vEZUjyOVCS7kcZZnAxpMZCKrnTwRPhFD0%2biSGYlnMTiOIomkKH7eB65Xkm6IuK5dBigVDWcnkVxf/o5vrz2LQUqv%2bLH3x4KaRiXowED%2bGXYUP77l9dw6/YdXPvLz/jP6zfwFdHLpU3xLH7poD9PpEAM%2bebGX/HTr/%2bN727%2bHV9c%2bxt5g9%2bTW/xXzLxeguzfcxUrH6haSAI8G5CnhnSugLPzJGK0YtFk5r0lIFso4iR6Llb9JJYkFImLyC9BK9xrPwKJOaPvT2IJem4ax9G4qJ/RfTwP756rlQR%2brmCAsAHUkPU5LIUmyG25CYj7Z8hXyAlJqFwwmoE%2b944p%2brNE8HO5j39PcC3mQX34vmxhCBW75Thz5ed2JKBS06GSmKnVWg9pF6jCVBtE3hhlsid8zSVTeKx%2b9yuVqihrNQM1zadaiOha00xUafyqbhCZI8gYMsfuXHlu9brj2YAgZL2CzMjEY7Fryh%2brYcNwTBgNU5RmwxLktVnkrZLHattomhaahtkls1tvELn1%2bphTbYtndxjgOHXiskYeoUV1R2RpDBq8bltQyoSZ1Mbtw5wLLxZwhbPErnKB3eVaDVqtSpjrXHKUOCXWIo%2bsamtIV/KokDeqmiQRVg2KoULWVWi2jqxWQLqYgpHIwCQ4tUhqmGxaRUutwCIJs32qpTJo0LxHJWKDuU4FKyalCQWezuL23Xv45davePbsKR7ev4s7926TNf8Fd5/MYGn13cCBg0GFa03MfDT9BA8fPiD3eRPT0w8RSxf8PqH%2bfC9dy/Syet1ARNrBcn4H8UoKK5ktrGUiOJajkIlBkpJHnXS3cngMixlBSGMQdNcIvbSjM%2binMVgEncyEOi3k2AwIJu3YJmRVFauWy%2bdQLEpEVJfyFBRJSGUyUInj/aLAXgZwwjNHAZVSLsO0SIQNnSSocSnTGzCgZJRhEAN2i4dYyW8jUtjDO%2bkAO1Quptch03e5YgZ1MqJVYoC6QG0LS1DW36F6wgw4hbK5BY1Wn6UizIBB0WyIAW0RG0%2baAO3P1eFj9eYO274KsJ4n1CxKepmIEESTBRWpLhNzEpUssnIG%2bjmtOjFBJ5jVsnnotOIGQahHCgySkFoijSap70QS0Gx2d3aEXrZbIT3lekvcMCo/xwwIxgr69z64lyGcAPGkgeZBtoPJDZF33QoxzEWbiccn5vF1mEal0/sygOFAZIUuZGY8ChIHjn8dZI4ukZ/p4bw/jyXucy5mki7c69cZi7nedj116JDb7rRxiphVy2WUGUoQ5cA5%2bhTMrxGEw8yJcbOvo1SgOaEKiJenUiXLXzYrKFtVUapUqn5dIbIcQifSb5utP1n%2bLnWvLfJo6%2bRrtFutyVQgEMNKhbw3iQIYMng1gq9atSySI7l8VmSKymp5pBHkdBPDYPQ8hmj0TMBhLpeBZlh9U2q8yvyiuVoRNYK8qqWRQTTFSzM62I06CoaCVCEJM5UT8OcYBpEpiA1eXfeuGwThWiaHBl1PYAR50sQEeujC4gJu3b2P27f/Bxsbazg4PsTNn/%2bOh88Y0u7hzeLSBf3uiwLMUMfG45kZgr8n2NrbwuzsE5xnhsCgqcIkQ7iYXsXz1Ar2Syd4nVjBm8QS1rJbKBIMFhRJoIAS2Ya2dwLt4Ai1/UOouweoRnZR2dqFTnFEXdMnRQEfBus2uZ0adIIskxwJdoyELlHJDhFLhGVZI/0AlgDXbaJa9fo3RfbVFc8YBoPsDEXVOPbkExzIpziSYzhVoojk98gP0Ml3T8Em/12LnaOyvg1ldQPqzj60BPsDSVSIIQYFc5ZSntQPGK63k%2b4RNieEVGaM3awjXc0LRsgCCj045JJtQKpKfkmlQCqQhUEvaFKAxJDH0GdyMpZLbmeIJBVoOU7HNR%2bWFO3aAN8Qcb1LPiReaGsNzbUF9uTCWH590D2MEKPyiQhtvY61RzlGP89hGwKDnU0QHxI7MBiGsRA1Axis18XAjUYXSsV1v80JGseDTVcYw5ZP3Xqrc92BwdYIKPSdsWHUFwavTgUuj9VutYdGg27bFV4fqwCT5wGqwgvkuqST7lOgZHMSQ4i67Il9oAJCDbw2i9SjPcb2W18YzFMMcHRyKvYEpDzHAjnMLa3g%2bPQY0VgUeYoL4vE4xfbVSyLbawS3d3cQibxDNB7D2Rn56mq1bzTIq8uQxy9aJV%2bAIZFDY7YB3OY0HchWRcCglZFE9NfgsNhissjqa3AI9viaQ2E9X4Cj6ZMHQ7apYXF5CXcfT%2bPR44fY3n6Hk%2bgp7ty/j6evnuPJ9COsbW5iZ2cHEhmgfo5NAINO3cLsyxd49eolDoh5ZzSO7TgDUYBhkB2d14m3eBSfxwZFhLOxt3h5/oballAg36BY9mBQXttAZXUL6sYmVAqGlHfbUClKVZbWKDI8Fz7BxDDo7eV5OnnBYPXs%2bXmbKE5fb/BiPqAl7EEr1N63fyccLguRz9TyiKlJgsMEhcQZpIhOCA6LJBUpKQErK8FIZ1DdO0KZcL9KUaCRk2BSYFSLxWEyMlCgNHE4fLUwOL49YRa7bCBJZSStJFSh7JPiEydHcloRqk5eYb7oJUA4IcKlcH9JehTVc4WpNMlXaI/xPj02oNER31YfcgfUL/Xzt5sCtRrWNyC2xh0j2R5AGP51LwkIH/Fcb6fYR4E6iXVYDcJRU7j0IGTwtjP3YUh1O9vjTZ/cUBmmpoBNV4SyHgM9CtddHw49hjb7fH/hno5Kj9ge9yPbiWFwWNQoVGDCpChPuuE2kK0VhNUXsEfqEKBAQZfJNkgoa4pnAzjxQXpukKgzsd57uu9dG4QC46lA%2bzIMxgjqVtY3sLi0SPWYONF178kMNiIbiGxFEIuf4%2bj4GAWKDIfCYLOBxZVlvF14i529bSxRvVAqdw1fONniejlBxWTcV0TkZxIiZOmls1VJQGLZriHNsQD5%2bqYsexDoZ4frHB1SmMx1l5wqdpEnzwkSN0y9Kvb9Z1%2b/wdzcaxwdHSCeSuL13Bzerizh1esX2CH/YJ%2bID00Mh0EbC8TE1bVVGiMumMe7TwNhkBhgNSy8SszjwfkclrObmD0nGIy/wdPYHAoUDBU5GiQnR15dR/nNKhTOCS6tQt6IQF3ZRGl%2bUeQH3w8GJ0iIDPLbw3A57j1hRyhPlt4T9zyS1awQ%2b7xWQJKgME9SkcwTzCWzQsRrZzGoh8cEfQlh9Zm0dFZ4hJwPmNgRCtuASwHIBOd1B7rC7eGuMKsCZ4KqJOocFovECJVMWl0X6mHYBhzO%2bAQJEF5pjv05De6nwkVJKjGeKxyyAQxFgeW%2bbF3HJW/1GVF6rXRzyH0earRGYpuQmADmeqjdU/ZHiYtzDdBN5AOYAUGmhht7mRG0jWaAKxjQL4QeNClmgGc8KUIj49mPgiNt7DQ1ObrsJadbBlA4kgHNZtcPEFhLpe3n0wf5bWOpgA%2bDrp8b9EJPp79BghfyhhMiJR/6AhjkpEiKviuoBIGcEBEwWPISIgyBHAWS7hslr34hITKOCgRbY4VcCvemn2F%2bYQFbkU2Cw02sEt27/4DQ4d3IA1BdFKCB6yYFTuvi/C8fkeWIUu5BgQ4M%2brEAR4JpMn7n1QwqZAvOlASiRCpFgirZgWwxA1sqQc/m0KjpRDU02CUulkSqzCGXuGkYwh2eGAaZG1pVRTKbJQYs4uTkUPgD77Z3sbK6gl2CvmEGsXfQdot8%2b6KEvYMDbO9EENnZvXAEfhAMvk0tY5oiQobBV4kVzCcXBQwWySgWeG%2bQYFDZoMjv9RJKc28hL6xQNLiDynoExfklVE9j7wOD422NjZOKeh8YbLnengDvDrMKFMgLzAoILIntsXytiDR5iUmKBg3eGqMV15JpVKLnYi9QqACpgi4VhCrU6LtwWnwiGBz1gpPA4Lj3B/3FOQA%2bF%2bBYobMBXNrQHUMkRtj749w/7/01OZVGHiFvhYs28Z0pynHO/F6AQREM%2bcFMN4DpR%2b5YwRAbwm7w1C0HBUOCCS0MJREMYWQ30Wess8LdYMjLzLZDq9ibFW63R4eX4XB4kO4NDIfpu3rD8VbfsWGFKLgWcEzMbfCqDySSBAHDo%2bbbvhgOe4caHMhK%2bVKaepJfbQQwyLvJ1WoVNc3bHNF1vW%2bUGGyP6yT6qUrOS4ZwYCQSoqqwCZwjTHNgJGdgJDNe/p%2bIrT0nQ0S97CdGqGS7EGyPj7Uv0Dkhkk3g1v3HmH3%2bDHNv3mD%2bLQVFBImPpp/iwaNpigi3xjIswiFq1PHk6QweP3qI9a1NLC8vIpUbfkKEj8IcyafYKZ0irxexLR1iRzogHyALhWAwL%2bdQL8jk/5%2bLsk4hsZ2XoKfSMOMpWBQLMBTyZul7RIMtWikDZcLVdDopNjXPiDK5HEHiKaLncaTS6YE/j7t0RIbE%2bYzD6QxhOsFriqJKw7KHbo2x%2bK/nI3idWcNafgtLmQjWsht4FV8UJ0QkOStgUCVILc8to/RmAfLyGtS9Q1R39kW9dp6AzTHBhzohErz8YK6OPiFyCQqJYRz8BCdEigx9FBlK4pSIIjzCZDUnDknpsaTw%2bPRcXsCdlpM6J0R0coZsUgsjnROnxd77hEiXWhNDYXhvsHc7bNAnYBgnRh23IajhkxMq2WtscUzCOUeODdjV9q9d3/XNk8Slk8mx7FaHAd4xlf/7b3SCvCFb9eYE94ktKn4RDr6GUABf/ShgIqvpb7/9hiyprvil6oD3CrYB2f5NfSw/chi1KcsfRVEwMzNDZXngOaVeqZz6GH/yPk6ydlyVnfrYV7/fr81H/WT/H/rDyQ%2b5%2bu/z/xL8v2DAH/rH03/0z/8CI1rRP93h4L0AAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"525\" data-srcset=\"/assets/static/spa_javascript_delete.17519ed.e4a6b9d633ebea2e6894aa7a735f2f3e.gif 525w\" data-sizes=\"(max-width: 525px) 100vw, 525px\" data-src=\"/assets/static/spa_javascript_delete.17519ed.e4a6b9d633ebea2e6894aa7a735f2f3e.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/spa_javascript_delete.17519ed.e4a6b9d633ebea2e6894aa7a735f2f3e.gif\" width=\"525\"></noscript></p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Conclusion</h2>\n<p>Avec des fonctions natives et quelques <code class=\"language-text\">eventListener</code> on arrive rapidement à mettre en place une petite application CRUD. Cela étant, il est conseillé de s'orienter vers des framework permettant de maintenir des projet moyen / long terme tels que VueJS, React, Angular, etc...</p>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"}]}},"context":{}}