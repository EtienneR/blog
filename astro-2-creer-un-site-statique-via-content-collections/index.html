<!DOCTYPE html>
<html data-html-server-rendered="true" lang="fr" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22fr%22%7D%7D">
  <head>
    <title>Astro 2 - Cr√©er un site statique via Content Collections - https://etienner.github.io</title><meta name="gridsome:hash" content="b89929ffb278454bd1f8bb0277abaa50df9b43f7"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.14"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Introduction AstroJS c&#x27;est quoi ? 
Astro est un framework con√ßu en Javascript et Typescript pour cr√©er des sites web statiques ou en SSR avec la possibilit√© de cr√©er des composants √† partir d&#x27;autres frameworks"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="Astro 2 - Cr√©er un site statique via Content Collections"><meta data-vue-tag="ssr" property="og:description" content="Introduction AstroJS c&#x27;est quoi ? 
Astro est un framework con√ßu en Javascript et Typescript pour cr√©er des sites web statiques ou en SSR avec la possibilit√© de cr√©er des composants √† partir d&#x27;autres frameworks"><meta data-vue-tag="ssr" property="og:url" content="https://etienner.github.io/astro-2-creer-un-site-statique-via-content-collections/"><meta data-vue-tag="ssr" name="twitter:domain" content="https://etienner.github.io"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="Astro 2 - Cr√©er un site statique via Content Collections"><meta data-vue-tag="ssr" name="twitter:description" content="Introduction AstroJS c&#x27;est quoi ? 
Astro est un framework con√ßu en Javascript et Typescript pour cr√©er des sites web statiques ou en SSR avec la possibilit√© de cr√©er des composants √† partir d&#x27;autres frameworks"><meta data-vue-tag="ssr" name="twitter:site" content="@etiennerouzeaud"><meta data-vue-tag="ssr" name="twitter:creator" content="@etiennerouzeaud"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.a80f6262.css" as="style"><link rel="preload" href="/assets/js/app.50d8a5ce.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.56e5bc07.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.5bf39404.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.027f19cb.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.aae09759.js"><link rel="stylesheet" href="/assets/css/0.styles.a80f6262.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><header class="py-2 text-center"><strong><a href="/" title="Accueil" class="active">Etienne ROUZEAUD - D√©veloppeur Web</a></strong></header><main><div class="title py-2 text-center" data-v-4b217994><h1 class="display-5 pt-2" data-v-4b217994>Astro 2 - Cr√©er un site statique via Content Collections</h1><!----></div><div class="container"><div class="row sidebar"><div class="mt-4 col-lg-2"><p><em><span>21 ao√ªt 2023</span></em></p><ul class="list-unstyled"><li>
            üè∑Ô∏è <a href="/tag/JavaScript/">JavaScript</a></li></ul><p>‚åö 12 mins de lecture</p><!----></div><div class="col-lg-10 mt-4"><!----><article><h2>Introduction</h2>
<blockquote>
<p>AstroJS c'est quoi ?</p>
</blockquote>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 600 157' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c0531fe38f7a63d876b5974f7642c3b6'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c0531fe38f7a63d876b5974f7642c3b6)' width='600' height='157' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAARCAYAAABtu6qMAAAACXBIWXMAAAsSAAALEgHS3X78AAAF3klEQVRYw71Ya4iVRRg%2bl93MXcX1cr75vnPOfOesG5WJESVFFyn6IVJUkv0QJPBHGRRRWBIVrkQ/k%2bhHYFJpVmBEkRVRQZe1MrbSFPOCVJa6JWlWprTuqnt63plnvm/OZfff7oGHmW/mnXfe%2b8ycTBDG2Qx%2baGcBv6sorqE9j/ZsWKxIf4PMq0jn0Be6zHj/wrCa7OPvOS57B6HOGwXD%2bF6jMBRHf4RGEAOcBCIKkFWhnlDlsV8uiuye47I3POsi4FN6/FwQaQEMoF0UrHDGgoEgSEX6Zn0hKDsvSYTkFMHvbKP3xqJV9TT5xEmRmQMvbVplDGPanOmrSsbON%2b8ZJHQ6r9J96w2KgcswcdZ43Cheqdl%2bkgafO2NZphp9MolsCo1h4JyXZrmwWB49GiMjYCYsai9C4zuA9jGjGHs0RzYUpXNHifx0DQywRhSFMkPKKvwshPnKjunzJirCeF7KOFHebTYZ6AGuA69bgdvQvwEo%2bwJ5/YuBBaBbBCxE/2pANSggY18Ch4CKpCGEroJ%2bBj1fAS4CplKHKmiuCGzb5vERmoXw9l1ob8H33NQ5kEkpY/U91ut6hMp2gPi%2bsFiVsUFGwVNc5GpGnhusAA5DuCGhkzV2nVlzGngd6CKtRNo2ia6o1J1A6DH%2bN7CWdM9bXqYmDQEy9ydr0lrs3QWcoFwPAqvxfY7zvwHTII845BPAylWycgWW5ntgkfP%2bTQz9YTLcSiHmBoapdsVwb5AqnfH6q4rl2TUa7hj4HUB70BVRURDCbCTth/Y7Pg5sAtYBLwLfiIAl3SNzS8DjTcoyJDzcyRSBBp58TryuzJzQ6F2%2b4UH3B3ApMCA8ufZn0G8F9so3o13GbxYDvGAtrf8zE2G80gufr5VNg%2bFkAcPZy2sx1PKmEI7iOcBxRsKvpP2OQu4E5vPo7WCIPwI8AVwLGQLgIOXZydC%2bCrgRCpcxVgROQeYR8n9HDAfcDdwepCktc6sDVcmiUGbp8GUYc1H9kQwc9q0s1vOUeJJpcIYL1rGw5f1ihf71ErbgtQ0C7kD/W%2bAD8bStKfoI6ZYbD8AzLvTN3ogcOYXcacMKvSe0Hu9rKqw2/0%2batA3jX9TM7mxD/XiFhpZ0mMpCiROs7Oa/oD4HMlG5u%2bYZ4DOnIAnnMY9depwBZrKKtlGYVZHJLzO/Ed%2bPoX0ceMYIacd/DAJbBJUtbr0w7svovyt7SqGT9UyP%2b2mAn6jE9hYGiIU3I4Qpq9vRvyCtIbJW/4t%2bd93awBTQ/ZR3lxCvD2x1NOZR8Ko973VOKXPsTQIuAe7EwrflWHIWpTD9ZHbEGYdCPOAVpn0cewuK70b7NE8Oh8slTUxEQB7S7ufaQeAlGORhWzP0UtBMd8ZF20d5JGLzjNzFXgr0Seoqe/JcA2x2UeiKrhNYCsf8FudpT4P1O%2bihHDfbLJ6zm%2blBjA/QIMPACXr1L/LaUNSza5HdfIQF66isc4UM30tJ22uKnomMas0rku9BhlmuwCrxojOApGWYpOUmUxgZnSbK3Wlg95eTYJp4exIX3MNw7RdBbWRoOYePJWGfpIY2Ny%2bukwK2RTyobHUfAN6X9IExkAZ6B7AFc50Fe%2bT2muIKOoyfUjZMDzEVljUY/yGhxX770P7A2vIo1hSAj4F%2bYD3T1tzs/PeCskd0H2vBaRpc9FsDdCa3L7ZXYvAfyQt3BvN4e8PdAnkF9QXMev0pypy/8YUtb4Rh3FiopthQ1l2JMPIWKOqmRw8MMHk0vuY6HlUdXXIFDhfM8PcSuQrA9AYZsolCCJF2DMzhxG6G8Wtg2tGkbFT3Qsuqhqsor785oSsUKwbJ/QF5Guiw5ZtE7hYJX/PmiPNhlF6LS%2bWSufYGgU74Ot5ihEIpbnxz5FWkWz4AfX2SK61nme3Aq42e9ulU2LQZHyzpY0SF2gNplY0iPmbkdVm3xuXy4kynx1snz2KVIOVtIgdHnOsb2SJdJ5uHTFBIHWIs7Xm1jRNyWVjCfpsLr4n4L2Cif/8Dsigirct%2bgAUAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="600" alt="Logo officiel d'Astro" data-srcset="/assets/static/astro-logo-dark.bd6740a.e89df80b0e05d08dadc8ca659fe2996b.png 600w" data-sizes="(max-width: 600px) 100vw, 600px" data-src="/assets/static/astro-logo-dark.bd6740a.e89df80b0e05d08dadc8ca659fe2996b.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/astro-logo-dark.bd6740a.e89df80b0e05d08dadc8ca659fe2996b.png" width="600" alt="Logo officiel d'Astro"></noscript></p>
<p>Astro est un framework con√ßu en Javascript et Typescript pour cr√©er des sites web statiques ou en SSR avec la possibilit√© de cr√©er des composants √† partir d'autres frameworks tels que React, VueJS, Svelte mais aussi AlpineJS, Lit, Preact et SolidJS. Il permet de cr√©er des applications web l√©g√®res gr√¢ce √† son syst√®me d'hydratation nomm√© "Astro Island". En effet, chaque partie d'une page Web (header, sidebar, contenu principal, footer) n'ayant pas besoin d'utiliser de JavaScript, si un bloc n√©cessite une interaction avec JavaScript, une directive d'Astro est disponible pour permettre au client de charger le JS dans le composant d√©di√©.</p>
<p>NB : cette directive n'est disponible que pour les frameworks cit√©s pr√©c√©dement, JS √©tant d√©sactiv√© par d√©faut.</p>
<h2>Objectifs</h2>
<p>Dans un premier temps, nous allons mettre en place un site de recettes de cuisine. Pour ce faire, nous allons utiliser le "Content Collection" introduit dans la version 2 d'Astro. Quant aux recettes, elles seront r√©dig√©es dans des fichiers au format Markdown. Chacune comporte le sch√©ma ci-dessous :</p>
<table>
<thead>
<tr>
<th>Nom</th>
<th>Decription</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">title</code></td>
<td>Le titre</td>
<td>string</td>
</tr>
<tr>
<td><code class="language-text">type</code></td>
<td>Le type ("sucr√©" ou "sal√©")</td>
<td>string</td>
</tr>
<tr>
<td><code class="language-text">ingredients</code></td>
<td>La liste des ingr√©dients</td>
<td>tableau de string</td>
</tr>
<tr>
<td><code class="language-text">instructions</code></td>
<td>La liste des instructions</td>
<td>tableau de string</td>
</tr>
</tbody>
</table>
<p>Pour les listes "ingredients" et "instructions", il y aura une sous liste.</p>
<p>Puis dans un second temps, nous rajouterons un nouvelle fonctionnalit√© pour rechercher ces recettes par titre avec le framework Vue.</p>
<h2>Installation</h2>
<p>Avant de commencer, v√©rifiez que NodeJS (> 14) et NPM sont bien install√©s sur votre machine <code class="language-text">node -v &amp;&amp; npm -v</code> afin d'installer Astro avec la commande ci-dessous (version 2.3.2 utilis√©e lors de la r√©daction de ce tutoriel).</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">npm</span> create astro@latest</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Puis suivez les indications (ci-dessous avec Astro 2.10.9).</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash"> astro   v2.10.9 Launch sequence initiated.

   <span class="token function">dir</span>   Where should we create your new project?
         ./astro-recipes

  tmpl   How would you like to start your new project?
         Include sample files
      ‚úî  Template copied

  deps   Install dependencies?
         Yes
      ‚úî  Dependencies installed

    ts   Do you plan to <span class="token function">write</span> TypeScript?
         Yes

   use   How strict should TypeScript be?
         Strict
      ‚úî  TypeScript customized

   <span class="token function">git</span>   Initialize a new <span class="token function">git</span> repository?
         No
      ‚óº  Sounds good<span class="token operator">!</span> You can always run <span class="token function">git</span> init manually.

  next   Liftoff confirmed. Explore your project<span class="token operator">!</span>

         Enter your project directory using <span class="token builtin class-name">cd</span> ./astro-recipes
         Run <span class="token function">npm</span> run dev to start the dev server. CTRL+C to stop.
         Add frameworks like react or tailwind using astro add.</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Remarque : si vous utilisez l'IDE VSCode, il est recommand√© d'utiliser l'extension Astro.</p>
<p>Lancez le serveur de d√©veloppement avec la commande <code class="language-text">npm run dev</code>. Vous devriez avoir l'√©cran ci-dessous sur le port 3000 de votre localhost (par d√©faut).</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 832 681' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e98be13f0c97f48ffe436abf1ba61350'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e98be13f0c97f48ffe436abf1ba61350)' width='832' height='681' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA0CAIAAAC1uKleAAAACXBIWXMAAAsSAAALEgHS3X78AAAOqUlEQVRo3t1a%2bXNbx5GmLYkHSNwncT3cN0CQOAmQBEkAxH0DBG%2bCh0jqoB2JtGQ7tiXbu5Jj%2bZC1UVxe21KcSuwcrqRiJ3EObe2PyZa31vkTsv/Jfu8NCJEUxVBcOlW7qk%2bjfjPzvp6e7pnuR6pNKJafIAQiWXt755kzHS2cPt3ekjHEF0qFYsUJamw7QS6RRMHhCU%2bfaT/T3gFA6O7hArt72FwBpv1DDZDIVFBJWrFU2VIP%2bZHJClY3p72js6OziwD7LRD1Ermzi4UhVjf7ocFisCm/XQOw3I4uLocnae/ksLmiThaXJ5DK5JRAJGf18DFB2qsm5gF8oYzV3UOjpwfLxVqJ2RCw90AXq7u7h40wY1av6OHzunlcTIAZYqmKx1gLgX6UKPHu/9YAUHP5kkp1ymJ1VWvTLrcvmy8ZTPa2tqdgw%2bWtKxyeuK2tvZstePo0C8D2t%2b38efrUqdPtrKdOdcH4bjaXw%2bHyBUIy1NnVg1Wy%2bXy/LTvkqsEMFpfTxWHLFXqJVHWG1dXJZnexOac6Ojh88d%2bNt7bDg%2bfp0113/uXuSy9f/69v/vr2O7c//OhebXJm%2b7nnM7ni7//wx75%2b/803bg2NjG8%2bc%2bny9lWtznj%2bwsULFy5eurw1kUg5XQOvvX7D4x186lTnT37y6d27PxjweN9889aAxwdn8kSS57I/f33qgUSqLg5vht2FG%2bc%2bX6u8nozMFmLLsZHq1tk3jEYXVyA53IbDDECUd3RxUun8N9/89ft33//66/9E%2b/nnv/zLf3x97/4nwFdf/YFe%2btaVn/7sF%2b/d%2bf6nn36KhT548ODe/fufffbTL774zZ///JcbN9%2bEP%2b7f/%2bTWrbd%2b%2batfbW9f%2bdOfHjzVcdpjyryc/vdXy/%2bW8Jy9ufjHSmTr2tJnk/FLd678bmPq1fde/PXFxvVb3/3xma4uuOX4IYSwliu1f/vbfxfLtd999Xvs/Rvfe%2bvLL3%2b72Fj91w/vvfPuez94/4ON85s/%2b/nnH318//r111544cUbN242Gkvv3r5z/4c/%2buLL30wkM21tp7a2r3744Ue3b9/5%2bON7b7/1TtvTbWXPtSnf9%2bqD15Yi767E37qYfX8%2b%2bcpa/s2t2bs6jfOVjY9f3by3OvVCZw9HfGwDWjBbnPCGwWSDMWKpIjIW1xuseoMNQ7GJtIoy9HuCDqcbZ0BN6dUag1Kt0%2brMOCej4xNqjREHSanSebzBXrl6dCzG5vA7u7rVvQ6%2bSIZLVa8acBpGZTJdb6/eYQprKQdOOaW2BPrjPDppnEQeYHPFuHZwHOEQXBS4i7AmnGD6iuzCvSTr6uF1dLExin4AAk9At50sHkbhSZ5QhvsTNxhikoxyBAJcRABXKMKB5ouksIfNF/AEYmjEhG4u78QSGTlGzH0HyEk2IJ1ERss4utnJLKK3lT2YS1MuFPXuZA%2bFUEIvvUUuljCdYlpo6RIfLUUQAxQnCjmbI2CzBRyuiMuT8HgSLk/M5giRAODGE9dFG8AXS/liyQmCzeN1czgAi80Guhmg82S1YNnEgF6VxKkTh7Ti4JNC95hOjdBPCX1aUUAt8NDg08DjMVQ8XnVILekTiHvbRFK5QThqZufNnKwF4OYsnNxDmQHzCCFr3fPICNzDBDM7Y2KnTeyMeRcbgz3kx4AFCxbGhRJZGw6lXhQ2cRIm/oSeE9N2j%2bt6okZuXM%2bOQUCPjh018RNoMaRhjaPfIkjq2VGMmgUJHSdG5qMFTLwEXjFwYkbeBF6hWKMUK4JO0q/pHif8TfKdFpPB8EQwcRNG0aiQ9gBjAHhnM5fTg6vFyLnF0pVUYKVRujqf314sXm0Ur2TDayOO2aXy8yu1F5LMEDBkm1qrv7RUeb6e/M5cbns6fSkVXBkyzyymX5mKXp1Pfne9/M9rpdfP126mvBujrrnaxDOZwbP1xLOFyEbMs4j5tfjmXG4L70acsxpWxMiLGbjRIwI2GESRpgFaUVDLHrPLE251Ju5fGHbVnYqUz1gYtFZd6nTYXvPqC24qkwwtjbimMORWZ32GUp8q4zMUg%2bZy2D7p0RWC5orfWBqgimn/%2bkT/ci54rjS8ORO/Uo9ujdhm7bKkR5sfdk6FbDSb31AacU4HLdVEoIG3wKlmDVM9Izru6JExrhcN7RggDui4Eeyom8pFHHP9VN5vrEx4VyDkwud8urJLmcGQWRwPmEsDupxDkYBgVyTCjhpka2887p8btFWClrJLnXSqEk5V0q6YsMljRvFonyblNeb61CmXKmmTx10Q1Cm7fMIijblUKRy/oLXcR6Xdmky/NqPlDev4I0dDRC8ONw3QiH0UJ1wZ3zxbuXZt84O12quIpc3ZGy%2beu/vyhfefW719ufH2ze1PatFnB%2b3FRuXyUm378sY/JULzC%2bVLgEMVn8lvXlx6ebn%2b3HRuc750qVG9nBlanMpeTIQWMHl97vl65oLHkIkHZ1enrzYqW43q1oXGS5fWX0uGFp5ZuT5X%2bg54aqnzFC%2bsOSqGcN0RAxSU2EPxBlVcP6BgexVsHyP4lBwfHuXdHoNk2Nw7pujxol/JYUDm9HgZISDv8UKmX%2bTQLzLv%2biGreQElh1DtyJjGoZmN0mHQQlAyb6kYToofPDIGNWJ/0wNqiZsS4M72qQV%2bgGLalgyo%2bD4lz0vtDLUmUMIAtTOH2vsKJdxPQpH5DNCp5PlUDKd6F5t61%2bPfQ4CSemgD8FcqoeQyk1xmfDwOH30sencgP3mYpFINMUCOopIpBk8YqIoFYhrfBjmpXpu1kEyuUaj0J45euYYUjAy/4eT5FZqmARq91Wjp05tcaA%2bEwewi7dGB%2bVqDnbhXa7C1SHZztnqeiLn1os5oBzljgM6KLo3eptKY1VqrWmuBoKRMEAhgIR6xIEBndOhNziPAhXWj7qcN0NvAv8PWZKZ01h2NFnCC%2bWi0TYBQR2/QjgE6k/P8xUtrG5v54uTk1MLq2oXG8vrs/Mra%2bib6188901haD4bHHX1%2bq33gaDY8NAD2m6zu5dVzG%2befXWisgXxmfhm60DO3sDo7v2x1ePoGBo%2b8NQcZoDe7RqPJVKY0Hk8n0sVkupAr1KIT2VS2nM6WE6lCOld2Dwxa7AMmJjZaRC2tEHQmx%2bM8gMexWDqezGfzVSw9Fs/GEznQTqQKUGq29duc3t1UTUJGgKMetW2/AXiGT2nn6qwQtEZHK4oonQ0UELBujcGOmTCjFYuQaUajE4sg0XyQB2zkSCjURtCixQQ8Qqa1aMw6Jjhb7zIH0gmnGS10j7PPb7I2mWEJEQ4wIJOvVutzADY7mSkhkCq1WWzbwtIaOieS%2bUSqiB5gcXktMp7MY8pMI1uo5Ys1unNpvVKbyRaqsISo2WdAiuFECE1OL%2bQKVUROsTI9t7CSyVWAYrmeTBej8Wx1cq5cnUF/qTodGUtg2tLKBuICc2r1eTiQ%2bP%2bREDI5%2b70htzdkd3kBV3/A1R9kIt6Dfm9g2O7yYbPRAwHx6nTTE9yekNPthxAIjXn8w66BIF4k%2b/eoAXjF6x/2BSNggJGEZ3h0Apx9/UHIA95wvzfs6PNB8AVHEFQ2p8fN6IKAaRiFOhJOew3QW7UGB45vfXoxPBLDPmEDovHM9OzSUCQ%2bt7gK58QSuamZRWzw4NA4YozcG%2bRSokNLT4cZ6TnwEMOAYnkK%2b4eNLFenS9UZHK3p2UY6VxmOTMCBhVIdGw%2bXprOMQyrTOCEtFQS7%2bfcbgC6XOxAYHMVOwNC%2bgSBarBX74QuMWB0D2AnsCrYQ%2b/2ktxC5RsHvD42C1j8Y8Qcj3sCILzgMv/V7QoFQxOMfglK4GlogYw50HfUWggKcGCyL3sWmoWgdFH170JcAfeaM2GYamPa4fLcbhFAooRMZND3kNziIu2gwtwLp2eVMupOZYD%2bcX29yNBMZcrJSbVBRRkDJtE1omkJrtPV4BBjlSi3JxDT/PuYW1UGdLe2H8/cqtDs/FxLK%2bALpiUMglDV/cfbt8POFO8WcWKqU9qpPHK3fQX2r/OQatTA5yLk3zlzHqLH2FHN6GwkhcgvtK%2bb2VXXH4TfsLeaY1GiRo%2b5Vm%2bR0yrS0kvmxQBM2byEDXUrg8kXelauMIEcyRppXUnSyR6Y/hiL6FsIlsTuRIc/NzC0hG6AKyhUnR8YSSOAWe/9xbdhfzIEWdz/u%2b0JpElpQcdWnF5BzcF1ilOTv4xZzTB7AipHkz65fRLuyeh76kFZJ5ms5uvXy43CIAckMVry40Dg7v7iKahQCHpeWNzK5KpIuEvPjmFupd98aDijmhFJKKFWLZJRAopLKdSqtBeFEXE%2bqeeaqtjFFmKXVtko9zNc8TJa7EhkdQk58aUh6NWAWStRimUYgVqJFROF1JpCghXww0OpUzDcJU1%2bayaJJJ1F0kAGWvtrUPDyL9I6UTupqumKje5ZQYI1F0yjs4BbUGtl8hY6Ecj3NFNsYHY9lkplyipFRk1HNQ7WnlEDlnCvWUEfk8tXIWLJcm0F5UqjUUQ6VylPI%2bqCKJbKj0RSGJlJ5UKFSJBUeqphEupDKlujYSxVQMtNfZPs8gJoJXKHhKGoppHTkfKR0aA2ERgfD4%2bAlnUj4wfAYqje0ABRjFKYilENDUTyiwnu0GjWY%2b1AVD/iGCC0qM9iAyagvnCgKQ2PO/sHwcBRlC6oMCFA6Cs7ACLYSelHjEHUAGEjtvfcMGJ1gRPmKbQYGfGGYi1MBk7D3WCL5AiQgjm59cGIIRQfane9P24G1EBYHttHxFGixdCwFe%2blBdaSzf2B2Ra0uKR2NVsJDBw8TQlC0S6O1xX9AOY2KH1UnvgQQCdgA%2bospWUBnvlRHi1vi8OP7yFHe5wHXWDSFahQ7iqjApxl8i1BM5SoWo3PL2u%2bzurT0u84j8u8v5nAG1GQLdc2DQqxnjhRt/ZPnGvqnBqLmIabLMtz3O06jt5mAzgBmlxTFosllfOKfSjiEJJEp1Ho4Afm4BWqXTB4p7ZMBhCi5SCZWqAz7%2bPcxa7XH4zc2PYB/Tva/Pf0j0fZ/d%2bn/Twz4H6/NIrPH6ttKAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="832" alt="La page d'accueil" data-srcset="/assets/static/astro_welcome_2.10.9.82a2fbd.4577f932b273c97dbe9b8164b90e1eb3.png 480w, /assets/static/astro_welcome_2.10.9.288616b.4577f932b273c97dbe9b8164b90e1eb3.png 832w" data-sizes="(max-width: 832px) 100vw, 832px" data-src="/assets/static/astro_welcome_2.10.9.288616b.4577f932b273c97dbe9b8164b90e1eb3.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/astro_welcome_2.10.9.288616b.4577f932b273c97dbe9b8164b90e1eb3.png" width="832" alt="La page d'accueil"></noscript></p>
<p>Puis installez le framework CSS Bulma <code class="language-text">npm install bulma</code> et importez-le dans le header du fichier "src/layouts/Layout.astro".</p>
<div class="gridsome-highlight" data-language="tsx"><pre style="counter-reset: linenumber NaN" class="language-tsx line-numbers"><code class="language-tsx"><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">import</span> <span class="token string">'bulma/css/bulma.min.css'</span><span class="token punctuation">;</span>
<span class="token operator">--</span><span class="token operator">-</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<h2>Configuration de Content Collections</h2>
<p>Dans le dossier "src", cr√©ez un dossier "content" puis un r√©pertoire "recipes" dans ce dernier qui contiendra les recettes au format Markdown.</p>
<h3>Exemple de recettes</h3>
<h4>Recette simple</h4>
<p>Cr√©ez le fichier "crepes.md" avec le contenu ci-dessous.</p>
<details>
<summary>Afficher le contenu</summary>
<div class="gridsome-highlight" data-language="md"><pre style="counter-reset: linenumber NaN" class="language-md line-numbers"><code class="language-md"><span class="token hr punctuation">---</span>
title: "Cr√™pes"
type: sucr√©
ingredients:
  <span class="token list punctuation">-</span> list:
    <span class="token list punctuation">-</span> 3 tasses de lait
    <span class="token list punctuation">-</span> 2 ≈ìufs
    <span class="token list punctuation">-</span> 2 tasses de farine (ou 1 tasse de farine + 1 tasse de Ma√Øzena)
instructions:
  <span class="token list punctuation">-</span> list:
    <span class="token list punctuation">-</span> Verser dans le robot mixeur tous les ingr√©dients liquides.
    <span class="token list punctuation">-</span> Mettre en marche le robot et ajouter la farine au fur et √† mesure du mixage.
    <span class="token title important">- Faire chauffer la cr√™pi√®re avec de l‚Äôhuile.
<span class="token punctuation">---</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
</details>
<h4>Recette avanc√©e</h4>
<p>Cr√©ez le fichier "gateau-basque.md" avec le contenu ci-dessous.</p>
<details>
<summary>Afficher le contenu</summary>
<div class="gridsome-highlight" data-language="md"><pre style="counter-reset: linenumber NaN" class="language-md line-numbers"><code class="language-md"><span class="token hr punctuation">---</span>
title: G√¢teau basque
type: sucr√©
ingredients:
  <span class="token list punctuation">-</span> step: Pour la p√¢te sabl√©e
    list:
      <span class="token list punctuation">-</span> 300 g de farine
      <span class="token list punctuation">-</span> 1 sachet de levure
      <span class="token list punctuation">-</span> 175 g de sucre
      <span class="token list punctuation">-</span> 1 C√†C de sel
      <span class="token list punctuation">-</span> 120 g de beurre mou
      <span class="token list punctuation">-</span> 2 ≈ìufs
      <span class="token list punctuation">-</span> 1 C√†S d‚Äôar√¥me de vanille
  <span class="token list punctuation">-</span> step: Pour la cr√®me p√¢tissi√®re
    list:
      <span class="token list punctuation">-</span> 50 cl de lait
      <span class="token list punctuation">-</span> 2 C√†S d‚Äôar√¥me de vanille
      <span class="token list punctuation">-</span> 4 jaunes d‚Äô≈ìuf
      <span class="token list punctuation">-</span> 85 g de sucre
      <span class="token list punctuation">-</span> 40 g de farine
  <span class="token list punctuation">-</span> step: Pour dorer
    list:
      <span class="token list punctuation">-</span> 1 jaune d‚Äô≈ìuf
instructions:
  <span class="token list punctuation">-</span> step: Pr√©paration de la p√¢te sabl√©e
    list:
      <span class="token list punctuation">-</span> Dans un saladier, m√©langer la moiti√© de la farine, le sel, le sucre et levure.
      <span class="token list punctuation">-</span> Ajoute le beurre mou et m√©langer avec les mains.
      <span class="token list punctuation">-</span> Ajouter les 2 ≈ìufs et la vanille et p√©trir en ajoutant le restant de farine. Lorsque la p√¢te prend forme, former une boule et mettre au r√©frig√©rateur (en couvrant le saladier d‚Äôun torchon propre) pour 2 h.
  <span class="token list punctuation">-</span> step: Pr√©paration de la cr√®me p√¢tissi√®re
    list:
      <span class="token list punctuation">-</span> Dans une casserole (large), verser le lait et l‚Äôar√¥me de vanille. Mettre le lait √† bouillir (surveiller la cuisson).
      <span class="token list punctuation">-</span> Pendant ce temps, dans un saladier, m√©langer les jaunes d‚Äôoeufs avec le sucre et fouetter √©nergiquement afin que le m√©lange blanchisse (ou utiliser un batteur √©lectrique). Puis ajouter la farine et bien m√©langer.
      <span class="token list punctuation">-</span> Une fois le lait bouilli, l‚Äôajouter petit √† petit au m√©lange pr√©c√©dent tout en m√©langeant. Puis remettre ce m√©lange dans la casserole.
      <span class="token list punctuation">-</span> A feu moyen, m√©langer constamment jusqu‚Äô√† ce que le m√©lange soit bien √©pais.
      <span class="token list punctuation">-</span> Verser la cr√®me dans un cul de poule bien froid. Laisser refroidir 15 min et mettre au frigo avec un torchon propre par dessus pour 1 h.
  <span class="token list punctuation">-</span> step: Le montage
    list:
      <span class="token list punctuation">-</span> Beurrer et fariner le moule de 26 cm avec fond amovible.
      <span class="token list punctuation">-</span> S√©parer la p√¢te en 2 parts (2‚ÅÑ3 et 1‚ÅÑ3). Prendre la plus grosse partie et la mettre dans le moule.
      <span class="token list punctuation">-</span> Foncer le moule avec la p√¢te. Si la p√¢te est trop collante, mettre un peu de farine sur les mains). Monter les bords de 4 cm de hauteur environ.
      <span class="token list punctuation">-</span> Ajouter la cr√®me p√¢tissi√®re refroidie et lisser avec une Maryse.
      <span class="token list punctuation">-</span> Replier les bords sur la p√¢te.
      <span class="token list punctuation">-</span> Prendre une feuille de papier sulfuris√© et √©taler la p√¢te restante en cercle de la taille du moule. Puis retourner le couvercle sur le g√¢teau, appuyer sur les bords, puis d√©licatement, d√©coller le papier sulfuris√©.
      <span class="token list punctuation">-</span> Dorer avec un jaune d‚Äô≈ìuf entier sur du papier essuie tout. Puis, √† l‚Äôaide d‚Äôune fourchette former des stries.
      <span class="token title important">- Cuire 40 minutes √† 160¬∞C puis attendre que la g√¢teau refroidisse avant de le d√©mouler.
<span class="token punctuation">---</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
</details>
<h3>Sch√©ma de donn√©es</h3>
<p>√Ä la racine du dossier "content", cr√©ez le fichier de configuration "config.ts".</p>
<div class="gridsome-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> z<span class="token punctuation">,</span> defineCollection <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'astro:content'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>On importe puis on d√©finit notre collection de recettes avec la librairie Zod.</p>
<div class="gridsome-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> recipesCollection <span class="token operator">=</span> <span class="token function">defineCollection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  schema<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    title<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ingredients<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span>
      z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        step<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        list<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    instructions<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span>
      z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        step<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        list<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Et on exporte cette collection sous le nom de "recipes".</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">const</span> collections <span class="token operator">=</span> <span class="token punctuation">{</span> recipesCollection <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2>Listage des recettes</h2>
<p>Dans le dossier "src/pages", modifiez la page "index.ts" avec l'import de la librairie de collection dans le header du fichier.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">"../layouts/Layout.astro"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCollection <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"astro:content"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> recipes <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getCollection</span><span class="token punctuation">(</span><span class="token string">"recipes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">--</span><span class="token operator">-</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Ainsi, la liste des collections est disponible dans la variable "recipesEntries".</p>
<p>Remarque : on retrouve ces donn√©es dans le fichier "types.d.ts" g√©n√©r√© dans le dossier ".astro" (√† ajouter dans le fichier ".gitignore" si vous utilisez Git).</p>
<p>D√©sormais, on peut afficher nos donn√©es dans une boucle <code class="language-text">map</code> au format JSX.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Bienvenue sur le site des recettes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hero is-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hero-body has-text-centered<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Recettes</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subtitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Des bonnes recettes au format Markdown</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">

  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container mt-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>columns is-multiline is-variable is-0-mobile is-0-tablet is-3-desktop<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>
        recipes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">recipe</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>column is-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>media<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>media-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
                      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>recipe<span class="token punctuation">.</span>slug<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>recipe<span class="token punctuation">.</span>data<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token plain-text">
                      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>recipe<span class="token punctuation">.</span>data<span class="token punctuation">.</span>type<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token plain-text">
                  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Notre page d'accueil est en place.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 947' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-77d8189f329b3271d5dbac2c02497727'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-77d8189f329b3271d5dbac2c02497727)' width='1920' height='947' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAIAAAAt/%2bnTAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVRYw%2b2RwYqDMBCG8z6tIGKrC%2boDeBCLoDevghdfSd33W9vSqrFqO008lN2Np4RSmA8JY/JH50vIXg2mae4YUOxVQlR8FPr2PM9xHNd1obBt%2b2ME%2bKnrup6maZ7nWZYVRRGGoWEYlmXxVckCX/IIggB6jaIoYMRxzGcOjCRJYMn3fbgQiT8lG3lsGZqmbVfZSIVUYuq6%2bq7/nX/CawjwGLyXL0CgFFBJhdzFzOxZZ5qW5Lsgo4BhGC6X/ufYQXF7AZbODEpp39Pm1B3PHcSuVzqOSwa2NE3Tti3PK4WIj3aGTlgzv1lMpud%2bnhlh/JOBcZ6V3w25fzgogAIogAIogAIogAIogAIogAIogAIogALv4QHGqaybSbiABAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="1920" alt="Aper√ßu page d'accueil" data-srcset="/assets/static/astro_homepage.82a2fbd.c46fb72498205f6db0e6dd00711d5d74.png 480w, /assets/static/astro_homepage.cbab2cf.c46fb72498205f6db0e6dd00711d5d74.png 1024w, /assets/static/astro_homepage.2665e34.c46fb72498205f6db0e6dd00711d5d74.png 1920w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-src="/assets/static/astro_homepage.2665e34.c46fb72498205f6db0e6dd00711d5d74.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/astro_homepage.2665e34.c46fb72498205f6db0e6dd00711d5d74.png" width="1920" alt="Aper√ßu page d'accueil"></noscript></p>
<h2>Affichage d'une recette</h2>
<p>Dans le r√©pertoire "src/pages", cr√©ez un nouveau fichier "[slug].astro".</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">"../layouts/Layout.astro"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCollection <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"astro:content"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> recipes <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getCollection</span><span class="token punctuation">(</span><span class="token string">"recipes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> recipes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">recipe</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span> slug<span class="token operator">:</span> recipe<span class="token punctuation">.</span>slug <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span> recipe <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Futur contenu</span>
<span class="token operator">--</span><span class="token operator">-</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On commence par charger notre collection de recettes afin de r√©cup√©rer les donn√©es relatives ("title", "type", "ingredients" et "instructions") au slug de la page en cours.
Et on r√©cup√®re la recette associ√©e √† la page courante dans des variables.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token keyword">const</span> <span class="token punctuation">{</span> recipe <span class="token punctuation">}</span> <span class="token operator">=</span> Astro<span class="token punctuation">.</span>props<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> type<span class="token punctuation">,</span> ingredients<span class="token punctuation">,</span> instructions <span class="token punctuation">}</span> <span class="token operator">=</span> recipe<span class="token punctuation">.</span>data<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Puis, on d√©clare notre layout.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span>{title}</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- Futur contenu --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layout</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On commence par le bloc titre et le type de la recette.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hero mb-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hero-body has-text-centered has-background-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      {title}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subtitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{type}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Puis on passe aux 2 sections ("Ingr√©dients" et "Instructions") plac√©es cote √† cote √† l'√©cran.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container mt-3 content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>columns is-multiline is-variable is-0-mobile is-0-tablet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>column is-one-third<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token comment">&lt;!-- Liste des ingr√©dients --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>column is-two-third<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token comment">&lt;!-- Liste des instructions --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Ensuite, on liste les ingr√©dients dans une boucle <code class="language-text">map</code>.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Ingr√©dients</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token punctuation">{</span>
  ingredients<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ingredient<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>ingredient<span class="token punctuation">.</span>step <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-3 title is-5 has-text-weight-normal has-text-grey-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>ingredient<span class="token punctuation">.</span>step<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>ingredient<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>list<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Et on liste les instructions sur le m√™me principe.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Instructions</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token punctuation">{</span>
  instructions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">instruction<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>instruction<span class="token punctuation">.</span>step <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mt-3 title is-5 has-text-weight-normal has-text-grey-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>instruction<span class="token punctuation">.</span>step<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>instruction<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>list<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>L'affichage est pris en compte pour une recette "simple".</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 947' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-3f8bff56811a47a881ab2029c217ce89'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-3f8bff56811a47a881ab2029c217ce89)' width='1920' height='947' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAIAAAAt/%2bnTAAAACXBIWXMAAAsSAAALEgHS3X78AAABaUlEQVRYw%2b2U246CMBQA%2b/%2b/RfgAIJCIr2JcBBTEVbm5ExoIuq6RaHVJOg9NaQs9U06P2Cvju2OvEqHou7vdLo7j7Xabpmme51MSINzD4RCGoWmahmHQoqHuPwh1Z4PJarXKskxtCuUjGcZ3f3bYqkOcHqYoirIsi46ba4YL7ix7IeL8MPP53LZty7Icx/F9v6qqfqppGlpy3fM8pmazmeu6i8Win1LHCAGupiwpVBgS43dkdV1fXeX6kmrAq8RGCLArAkmSIEB8N9dQbaIoYg1/I25Zr9c8Mkg/CIKvluVyeTweyxaZme8QYBsENpuNPE65fZ%2bL6DGIG/ERfdQhBaiq9BmnKMnLR4dP0SLGZ98hQHwyFOAs6ZMqaYus9DiQNlmLHGGNjBgxRobX5gN3AGQoQNCc%2btjNmparxycvg3jm5X77v8JqLvlwFboK6Pw/EOeJowW0gBbQAlpAC2gBLaAFtIAW0AKT5QdHu6lhvMhySwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="1920" alt="Aper√ßu recette simple" data-srcset="/assets/static/astro_recette_simple.82a2fbd.7e28f7da10e7b14c09cd7e5526bd95f4.png 480w, /assets/static/astro_recette_simple.cbab2cf.7e28f7da10e7b14c09cd7e5526bd95f4.png 1024w, /assets/static/astro_recette_simple.2665e34.7e28f7da10e7b14c09cd7e5526bd95f4.png 1920w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-src="/assets/static/astro_recette_simple.2665e34.7e28f7da10e7b14c09cd7e5526bd95f4.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/astro_recette_simple.2665e34.7e28f7da10e7b14c09cd7e5526bd95f4.png" width="1920" alt="Aper√ßu recette simple"></noscript></p>
<p>Ainsi que pour une recette "avanc√©e".</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 987' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-26adb66f0d879a7ddf56da15f39ffa2d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-26adb66f0d879a7ddf56da15f39ffa2d)' width='1920' height='987' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAhCAIAAADmozp2AAAACXBIWXMAAAsSAAALEgHS3X78AAAECUlEQVRYw9WYSVMiQRBG%2bf9/yZsRnDgY4hZG6FEWERVBFgVmXvSbySgdqW6l25nJQ0V2kV2d%2beVatJ4boPl8vlgs5m/puRlqNaH94%2bPj7e3t/f39ZDIZj8cPDw/swP8HBsxms9VqdX19fXBw0G63j46OOp0OzOHh4dnZGW5B4F/3QEpgjwdgnp6ealf9lwGz3SSi8eFZllLhd2%2bl/qmdWi%2b7iWBwlV6yFDJVhGuk1o%2bPaLvdshIA3W735OTk%2bPj4/Pz87u4ufvpTmJS9uLi4urq6vLw8PT0dDocfCtdOrcxv2Gf1IIKn0ynrZrPJCCsp4dxFQTDr9Xq7mxo0wIIIjUYjvDEYDIiNXcLL5RLUxwVhCQ7BY6y9Xu/19fXveABCY7A3/wAyL4wTkMQSPAAzLSj1DAznsPoT0CDWrAE4AVzpSsKZ9zgq4iUkeYUVVwwLwoF6BoagwiFYFWuzBgAnwYPqrHw7Lwy0GICiyNuJ4fv9/qggTGKTcxCzN7PiB3cQdgcCCHhWxfJGlhtgNPONUjCIN/BGEnW1RA14HUZLPA1L4M0ZdnQFtH5L7uTdXh5Cel%2bciOBdkvgHhURdFAXVCMy82GwIqZYZnMeDfafOxW9K51AeKcEgnUKbIh2EmGs9BtgKDEr0yNcN7CQwkDFfjRN9Qti4E4y8Pylp4PHIyiHLgkobRc4AdDV8/R5BfHNzw9EZeaq%2bqhhOkBVJ5axIWhX5oIWcz6%2bmdZTgKoGXMwA/kpciAaPfM8615kraLJPWU1CwzmKqjhJy3YIBHMLn0nkzH04lIcT74gQeeDNfufk2%2bqEHGhD0rjLyoGBKxKM/gTT7nBwJoxOcR/aqQrxvJICQ9TuTA4Ycwnzb0m67daCKmQq1LFCmFjw2NFWF%2bJgtCdVLuyYKWdqNBxibgDkQoR%2bJq/bu28Kif9k9kcxMX1UNcJLjrNKCAJBWIcC2bTtvEsS%2b%2b24ITR83Cflohd2rCvE%2beICWOuXPitGVjKwy4dQ1VJeP05a2KgpZPexlXpfYiZtdXNYyEf%2bF20J5I/NSiytKj0OGKoTN1kqbgNOOsW7zYtO6rIWaJF%2b9AX/CAOsauJYagKNQzgtQdDFHqZjJbQ6DguwAUDQHO336JwDfzd9DWjXOVXzSkiXeDkIAbF03hAwwUbdLCFDcP62zut2uvNc4/Snie3ENsK2KIrjGaIABXs2%2bEC2NG%2bCFxmEubmQ6IVLZixh8XX9Y1GYACgEtE46jpeONOZ3etuxu8rb22LR/6x87mgIY/E0eIIgB3ikNAyJr5R3gzGYMM5Ud8nhM5yXHJ%2b8JaL/XLPTZHDBygC0KqDvekuUlxwcnDqcP5yX9UKXz1B9ChPskIUe3dJgznOK2qa7uQ1/Lip/nfQeWHkENWAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="1920" alt="Aper√ßu recette avanc√©e" data-srcset="/assets/static/astro_recette_avancee.82a2fbd.d484d9ee94a855c433353c4e0a17b064.png 480w, /assets/static/astro_recette_avancee.cbab2cf.d484d9ee94a855c433353c4e0a17b064.png 1024w, /assets/static/astro_recette_avancee.2665e34.d484d9ee94a855c433353c4e0a17b064.png 1920w" data-sizes="(max-width: 1920px) 100vw, 1920px" data-src="/assets/static/astro_recette_avancee.2665e34.d484d9ee94a855c433353c4e0a17b064.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/astro_recette_avancee.2665e34.d484d9ee94a855c433353c4e0a17b064.png" width="1920" alt="Aper√ßu recette avanc√©e"></noscript></p>
<h2>Recherche par titre avec Vue</h2>
<p>√Ä ce stade, le site est fonctionnel sauf que l'on veut ajouter une nouvelle fonctionnalit√© sur la page d'accueil. Un champ de recherche pour permettre √† l'utilisateur de saisir une recette via son titre. Pour ajouter ce genre d'interaction, nous allons utiliser VueJS 3. Pour ce faire, commencez par installer le plugin <code class="language-text">npx astro add vue</code> sans oublier de relancer le serveur de d√©veloppement une fois l'installation termin√©e.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">npx astro <span class="token function">add</span> vue
‚úî Resolving packages<span class="token punctuation">..</span>.

  Astro will run the following command:
  If you skip this step, you can always run it yourself later

 ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
 ‚îÇ <span class="token function">npm</span> <span class="token function">install</span> @astrojs/vue vue@^3.2.30  ‚îÇ
 ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ

‚àö Continue? <span class="token punctuation">..</span>. <span class="token function">yes</span>
‚úî Installing dependencies<span class="token punctuation">..</span>.

  Astro will <span class="token function">make</span> the following changes to your config file:

 ‚ï≠ astro.config.mjs ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
 ‚îÇ <span class="token function">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> from <span class="token string">'astro/config'</span><span class="token punctuation">;</span>  ‚îÇ
 ‚îÇ                                               ‚îÇ
 ‚îÇ <span class="token function">import</span> vue from <span class="token string">"@astrojs/vue"</span><span class="token punctuation">;</span>               ‚îÇ
 ‚îÇ                                               ‚îÇ
 ‚îÇ // https://astro.build/config                 ‚îÇ
 ‚îÇ <span class="token builtin class-name">export</span> default defineConfig<span class="token punctuation">(</span><span class="token punctuation">{</span>                 ‚îÇ
 ‚îÇ   integrations: <span class="token punctuation">[</span>vue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>                       ‚îÇ
 ‚îÇ <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                           ‚îÇ
 ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ

‚àö Continue? <span class="token punctuation">..</span>. <span class="token function">yes</span>
  
   success  Added the following integration to your project:
  - @astrojs/vue

  Astro will <span class="token function">make</span> the following changes to your C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>EtienneROUZEAUD<span class="token punctuation">\</span>Documents<span class="token punctuation">\</span>astro-recipes<span class="token punctuation">\</span>tsconfig.json:

 ‚ï≠ C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>EtienneROUZEAUD<span class="token punctuation">\</span>Documents<span class="token punctuation">\</span>astro-recipes<span class="token punctuation">\</span>tsconfig.json ‚ïÆ
 ‚îÇ <span class="token punctuation">{</span>                                                              ‚îÇ
 ‚îÇ   <span class="token string">"extends"</span><span class="token builtin class-name">:</span> <span class="token string">"astro/tsconfigs/strict"</span>,                         ‚îÇ
 ‚îÇ   <span class="token string">"compilerOptions"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>                                         ‚îÇ
 ‚îÇ     <span class="token string">"jsx"</span><span class="token builtin class-name">:</span> <span class="token string">"preserve"</span>                                          ‚îÇ
 ‚îÇ   <span class="token punctuation">}</span>                                                            ‚îÇ
 ‚îÇ <span class="token punctuation">}</span>                                                              ‚îÇ
 ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ

‚àö Continue? <span class="token punctuation">..</span>. <span class="token function">yes</span>

   success  Successfully updated TypeScript settings</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Dans le repertoire "src/components", cr√©ez un nouveau composant "Recipes.vue" avec le code ci-dessous.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> toRef<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token comment">// Suite du code</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>On charge les librairies natives de Vue <code class="language-text">ref</code>, <code class="language-text">toRef</code> et <code class="language-text">watch</code>. Et on r√©cup√©re les recettes en <code class="language-text">props</code> sous la forme d'un tableau via <code class="language-text">defineProps</code>.</p>
<div class="gridsome-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  recipes<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Puis on d√©clare les recettes dans une variable via <code class="language-text">toRef</code> ainsi que deux autres variables de <code class="language-text">query</code> pour r√©cup√©rer la valeur du champ saisie par l'utilisateur via <code class="language-text">ref</code> et <code class="language-text">recipes_origins</code> pour copier les valeurs des recettes re√ßues en props.</p>
<div class="gridsome-highlight" data-language="ts"><pre style="counter-reset: linenumber NaN" class="language-ts line-numbers"><code class="language-ts"><span class="token keyword">let</span> recipes <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">'recipes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> recipes_origins <span class="token operator">=</span> props<span class="token punctuation">.</span>recipes<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Ainsi, on peut remettre en place le template avec le titre et le champ de recherche.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hero is-dark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hero-body has-text-centered<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Recettes (</span><span class="token punctuation">{</span><span class="token punctuation">{</span> recipes<span class="token punctuation">.</span>length <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subtitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Orient√©es d√©butant(e)s</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">

    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>columns is-centered my-3 is-variable is-0-mobile is-0-tablet<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>column is-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>query<span class="token punctuation">"</span></span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Rechercher une recette<span class="token punctuation">"</span></span>
        <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">

    &lt;!-- Pour afficher le r√©sultat -->
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> recipes <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Dans le fichier "index.astro", on appel notre composant "Recipes".</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">import</span> Recipes <span class="token keyword">from</span> <span class="token string">"../components/Recipes.vue"</span><span class="token punctuation">;</span>
<span class="token comment">// Code inchang√©</span>
<span class="token operator">--</span><span class="token operator">--</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Bienvenue sur le site des recettes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Recipes</span></span> <span class="token attr-name">recipes</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>recipes<span class="token punctuation">}</span></span> <span class="token attr-name"><span class="token namespace">client:</span>load</span> <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On fait passer les donn√©es dans la props "recipes" et on n'oublie pas la directive <code class="language-text">client</code> pour activer l'interaction du composant.<br>
De retour dans le fichier "recipes.vue", on met en place le watcher sur le champs de recherche.</p>
<div class="gridsome-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token function">watch</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>query<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    recipes <span class="token operator">=</span> recipes_origins<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">recipe</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      recipe<span class="token punctuation">.</span>data<span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    recipes <span class="token operator">=</span> recipes_origins<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Si on a une valeur, alors on filtre sur la liste de toutes les recettes sinon, on affiche toutes les recettes.<br>
Et on compl√®te le composant avec l'affichage des recettes.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>columns is-multiline is-variable is-0-mobile is-0-tablet is-3-desktop<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
    <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>recipe in recipes<span class="token punctuation">"</span></span>
    <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>recipe.data.title<span class="token punctuation">"</span></span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>column is-3<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>media<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>media-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>recipe.slug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ recipe.data.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            {{ recipe.data.type }}
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Ci-dessous, on peut voir qu'il est tout √† fait possible d'utiliser l'extension <strong>Vue Devtools</strong>.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1907 872' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-02028aa17086518b0d4aae31d2607044'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-02028aa17086518b0d4aae31d2607044)' width='1907' height='872' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAdCAYAAAAaeWr3AAAACXBIWXMAAAPoAAAD6AG1e1JrAAAEZ0lEQVRYw%2bVYS28bVRSe/5Os8l4lUSNlFZQG%2bAGpqOgCaH9HF0hlw5YVS4QgYYfEEgkoVKhSCWow2B6PPS%2bP5/3%2bOOeOx7Udx3XT8ahqR/p0H77n3jPnfucxlra2tlAHNjc3R%2b3a2hrW19dH7cbGhmjH19UFqe6X5/bw8BC7u7s4ODjA/t6e6O9Ru7m5UbsRpDqtzS%2b2vb2N%2b/cf4KO7d/HJp5/h3r2PcXp6itM7d0YsqJUBOzs7qAt84K1bBzg6eg8nJyfUHuH27RMcHx/j/Q8%2bxP7%2bvlhTp07S6uoq6sTKygrqPnMepLOzM9SJ8/Nz1H3mPEh4xx8pSRLUgTiOEUXRVdB8PAN16SWlaQZGlt0cYo8F1uV5jjzLi5YwmpuBeb9VCcn1YmhGQAcuLmRZfXieJ5QMwwQqyZtWCM0M6PZSItb1svy4rkt7WBOGmWWsOowgMQ2DMJxNz2sQBAG9eFhQO4ppHIpx0b5cvlgbCPl8miE1g1wgRUZIXwFXXYDnCiy8x2u6XVV4zSyQVxqRRzczvq9wm3zqpJvd9qzzJPZHpmNE1GU6e64nonBJ0zIqizVj9B13h3JcrguFS8XC17k/Lj8tw78PBoNiXRKLrFCuEb9HCYF1i%2bCTjj3LgxMkxKJXi/bMOt/3Ydv2SEfWS5JlGT1VRbvdhqpRS2NZ6VBfozkZjUYD3W6P0IWiKDBNEyzDfZ7jMfd5Ttd1qLRXs9mEpunodDrUb4n5Up7neI1Me8ty0b%2b4uECr1YJDBjNoP43meL5L67WBj66qkRztbxi4VA3odiAMEi4Ys0S8ihPaVxO6KUpX7M%2b6Sz4FrsAP4UQBep4Fxe2jNdAxCH1aYKFHL6KQIKe5hP2XfYcjdInx8bA/HcGvyEwgE3TMhuv4jCQr4kw6ii%2bZcIF86A4UOW/k7yzPgVrVDGKCK4wjeWEAi1KaTtQIiYIxUasEp0ZQVkuTDH5AtPRj0nSJZRkd1/cd6L4Nvhib9Oo7Hlw/eBFwbxjs%2bLEdl9iuE/UTDGwHRt%2bC9NRq47lLtA0N/BcU%2bF1t4JlNtHZNPFEu8aT7Dxr9Lp6bHVwY7crxtyHjmU6u4g/EDfXM/pAZk4XRUrKAl4TwU7rdNB7BjSlH56lQ7vNfv8VXf/6Ir5/%2bhC//%2bAGPfvsOjx5Xiy8ef4%2bHv3yDn%2bW/BAtM1UdfieHYHrmhgT7dVHW5f7LekIbONQW8aGt%2b6K4RuQmUdhFMOZvMqj0qY8DcGp8Lm6wIfOnEeDngMzkN2pSKudTmNJot2wWu%2bwiZV6cvC3wWl9K64YgPrCQtaoKyiFlGuTzXAEy9Oj5KJj9%2bMtgqfaA1Q3RlXeR/ldJwaYiqL2WuAbhSqtsAHP0HagSrF8P3ArTaTVEclSyoWp%2bFXWDZBiiLqIRqEaNNqfCSjKD5UP41oasWHMcW2SBJqmXlG2OA8TO58IojigExGSQk309zCo7F90FasU5vpAEmcjayUe5%2bq11g4swsf2m2eOsZUNc/RP8DI4FeHua%2bgBIAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="1907" alt="Aper√ßu avec Vue Devtools" data-srcset="/assets/static/astro_vuedevtools.82a2fbd.da0c9ccd3ce72d0cf9a2d1af70c11b6c.gif 480w, /assets/static/astro_vuedevtools.cbab2cf.da0c9ccd3ce72d0cf9a2d1af70c11b6c.gif 1024w, /assets/static/astro_vuedevtools.0683f5f.da0c9ccd3ce72d0cf9a2d1af70c11b6c.gif 1907w" data-sizes="(max-width: 1907px) 100vw, 1907px" data-src="/assets/static/astro_vuedevtools.0683f5f.da0c9ccd3ce72d0cf9a2d1af70c11b6c.gif"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/astro_vuedevtools.0683f5f.da0c9ccd3ce72d0cf9a2d1af70c11b6c.gif" width="1907" alt="Aper√ßu avec Vue Devtools"></noscript></p>
<h2>Conclusion</h2>
<p>Le site est op√©rationnel et √©tant statique, peut √™tre d√©ploy√© sur Github Pages ou Gitlab Pages.</p>
<h2>Liens</h2>
<ul>
<li>Site officiel de Astro : <a href="https://astro.build" target="_blank" rel="nofollow noopener noreferrer">https://astro.build</a> ;</li>
<li>Documentation sur le Content Collection : <a href="https://docs.astro.build/en/guides/content-collections" target="_blank" rel="nofollow noopener noreferrer">https://docs.astro.build/en/guides/content-collections</a> ;</li>
<li>Site officiel de Zod : <a href="https://zod.dev" target="_blank" rel="nofollow noopener noreferrer">https://zod.dev</a> ;</li>
<li>Site officiel de Bulma : <a href="https://bulma.io" target="_blank" rel="nofollow noopener noreferrer">https://bulma.io</a> ;</li>
<li>D√©ployer sur Github Pages: <a href="https://docs.astro.build/en/guides/deploy/github" target="_blank" rel="nofollow noopener noreferrer">https://docs.astro.build/en/guides/deploy/github</a> ;</li>
<li>D√©ployer sur Gitlab Pages: <a href="https://docs.astro.build/en/guides/deploy/gitlab" target="_blank" rel="nofollow noopener noreferrer">https://docs.astro.build/en/guides/deploy/gitlab</a>.</li>
</ul>
</article></div></div></div></main><footer class="text-white mt-4"><ul class="nav nav-pills justify-content-center"><li><a href="https://github.com/etienner" target="_blank" rel="noopener" class="nav-link">Github</a></li><li><a href="https://medium.com/@etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Medium</a></li><li><a href="https://twitter.com/etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Twitter</a></li></ul></footer></div>
    <script src="/assets/js/app.50d8a5ce.js" defer></script><script src="/assets/js/page--src-templates-post-vue.56e5bc07.js" defer></script>
  </body>
</html>
