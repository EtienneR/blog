<!DOCTYPE html>
<html data-html-server-rendered="true" lang="fr" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22fr%22%7D%7D">
  <head>
    <title>Aper√ßu de MongoDB - https://etienner.github.io</title><meta name="gridsome:hash" content="8bc8dc5f3fb99fbb091a59684da69f95805ad993"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.14"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="MongoDB est un base de donn√©es orient√©e documents. Il appartient √† la cat√©gorie des SGBD qualifi√©s NoSQL (Not only SQL). Autrement dit, MongoDB n&#x27;est pas un SGBDR (Syt√®me de Gestion de Base de Donn√©es"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="Aper√ßu de MongoDB"><meta data-vue-tag="ssr" property="og:description" content="MongoDB est un base de donn√©es orient√©e documents. Il appartient √† la cat√©gorie des SGBD qualifi√©s NoSQL (Not only SQL). Autrement dit, MongoDB n&#x27;est pas un SGBDR (Syt√®me de Gestion de Base de Donn√©es"><meta data-vue-tag="ssr" property="og:url" content="https://etienner.github.io/apercu-de-mongo-db/"><meta data-vue-tag="ssr" name="twitter:domain" content="https://etienner.github.io"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="Aper√ßu de MongoDB"><meta data-vue-tag="ssr" name="twitter:description" content="MongoDB est un base de donn√©es orient√©e documents. Il appartient √† la cat√©gorie des SGBD qualifi√©s NoSQL (Not only SQL). Autrement dit, MongoDB n&#x27;est pas un SGBDR (Syt√®me de Gestion de Base de Donn√©es"><meta data-vue-tag="ssr" name="twitter:site" content="@etiennerouzeaud"><meta data-vue-tag="ssr" name="twitter:creator" content="@etiennerouzeaud"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.c2df4604.css" as="style"><link rel="preload" href="/assets/js/app.dc35239c.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.a4881b12.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.77a6618c.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.119912ba.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.a039a5cf.js"><link rel="stylesheet" href="/assets/css/0.styles.c2df4604.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><header class="py-2 text-center"><strong><a href="/" title="Accueil" class="active">Etienne ROUZEAUD - D√©veloppeur Web</a></strong></header><main><div class="title py-2 text-center" data-v-2084d89c><h1 class="display-5 pt-2" data-v-2084d89c>Aper√ßu de MongoDB</h1><!----></div><div class="container"><div class="row sidebar"><div class="mt-4 col-lg-2"><p><em><span>04 mars 2015</span></em></p><ul class="list-unstyled"><li>
            üè∑Ô∏è <a href="/tag/MongoDB/">MongoDB</a></li></ul><p>‚åö 9 mins de lecture</p><!----></div><div class="col-lg-10 mt-4"><!----><article><p>MongoDB est un base de donn√©es orient√©e documents. Il appartient √† la cat√©gorie des SGBD qualifi√©s NoSQL (Not only SQL). Autrement dit, MongoDB n'est pas un SGBDR (Syt√®me de Gestion de Base de Donn√©es Relationnelles) que sont MySQL, Oracle, Postgres, etc... Les documents sont stock√©s au format BSON (JSON binaire). Quant aux req√ªetes, elles sont effectu√©es en Javascript.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 960 274' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-261d7b9150b0516e1cdc129507f78516'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-261d7b9150b0516e1cdc129507f78516)' width='960' height='274' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAASAEADASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHAQMFCP/EACwQAAEEAQMCBAUFAAAAAAAAAAECAwQRAAUSIQYTFDFBUQciMmFxI3KBkbH/xAAWAQEBAQAAAAAAAAAAAAAAAAAABAH/xAAbEQEAAgIDAAAAAAAAAAAAAAAAARICBAMTUf/aAAwDAQACEQMRAD8An8z4jSmutxKS4TpKXTGLPoWror/dfzX/ABl1AggEHg5521TofVE9Xp0ViO4WXHipt%2bjsDJP1E/Ycfn85Z3WUvVos2c1pcuay3H0lUhlLMdLgU%2blfypsoNkjgpvy9sl1pzm10WnPJNuz1O8ZXrmra1Gfnsh6bIhJmRVKkGP8AqNR3EW5spICglVDyJSFH2zCZmure0qNInz2Yr0%2bUz4luOnuORQ2otrWSghJ3UAaF8GucqWrDxlTzOptaRoWjKmaivT35MFZVJXH29t9txIK3klJASUk8V536UR3FalrLuqKRGfkKcbnsJYbDQUzJhKSje6VhNXy4bBFFIFc8hNUTIy1hKJDSlE0AFiyfbMmVHDvbL7Qcutu8XftWcXb3oGpRwy4p115wtgoI5P0qv0o839s1zWnVvzkDetZSztT2yUuqTzV%2bnNc3mCQEDxCTXO0/6M2YxmhjGMCs%2bvnnWesCGXFthzRnAvaojcA7xfv5n%2bzljxW0NR2m2kJQ2lASlKRQAA4AGMYG3GMYH//Z' /%3e%3c/svg%3e" width="960" data-srcset="/assets/static/mongodb_logo.82a2fbd.8cbe20b9b23afea66aa7007c68a9ef82.jpg 480w, /assets/static/mongodb_logo.6acf7b4.8cbe20b9b23afea66aa7007c68a9ef82.jpg 960w" data-sizes="(max-width: 960px) 100vw, 960px" data-src="/assets/static/mongodb_logo.6acf7b4.8cbe20b9b23afea66aa7007c68a9ef82.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/mongodb_logo.6acf7b4.8cbe20b9b23afea66aa7007c68a9ef82.jpg" width="960"></noscript></p>
<h2>Vocabulaire</h2>
<p>Avant de commencer, il faut savoir que MongoDB n'utilise pas le m√®me vocabulaire que les SGBD traditionnels.
Ci-dessous, un tableau pour vous y retrouver plus facilement.</p>
<table>
<thead>
<tr>
<th>SGBD</th>
<th>MongoDB</th>
</tr>
</thead>
<tbody>
<tr>
<td>table</td>
<td>collection</td>
</tr>
<tr>
<td>colonne ("column")</td>
<td>champ ("field")</td>
</tr>
<tr>
<td>ligne ("row")</td>
<td>document</td>
</tr>
<tr>
<td>"offset"</td>
<td>"skip"</td>
</tr>
</tbody>
</table>
<p>Ce dernier terme est souvent utilis√© pour les paginations.</p>
<h2>Installation</h2>
<p>Rendez-vous sur le site officiel de MongoDB et installez la version ad√©quate pour votre syst√®me d'exploitation : <a href="http://www.mongodb.org/downloads" target="_blank" rel="nofollow noopener noreferrer">http://www.mongodb.org/downloads</a>
Puis, suivez les instructions d'installation : <a href="http://docs.mongodb.org/manual/installation" target="_blank" rel="nofollow noopener noreferrer">http://docs.mongodb.org/manual/installation</a>
Une fois install√© correctement, allez dans la ligne de console et tapez la commande suivante :<br>
<code class="language-text">mongo</code></p>
<p>Pour afficher les bases de donn√©es disponibles :<br>
<code class="language-text">show dbs</code></p>
<h2>Cr√©ation de la base de donn√©es</h2>
<p>On cr√©√© notre BDD de test "Test" <del>car c'est original</del> :<br>
<code class="language-text">use Test</code><br>
Cette fonction permet de cr√©er une BDD si elle n'existe pas. Si elle est d√©ja existante, de se placer √† l'int√©rieur.</p>
<p>A noter : vous pouvez vous connecter directement sur votre BDD lors de la connexion √† Mongo :<br>
<code class="language-text">mongo test</code></p>
<h2>Insertion des donn√©es</h2>
<p>On √©tablit notre premi√®re collection "Users" lors de l'insertion des donn√©es dans la commande ci-dessous :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Doe"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>ou :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Doe"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<ul>
<li><code class="language-text">db</code> : on se place dans la base utilis√©e Test" (tapez <code class="language-text">db</code> dans votre ligne de console, MongoDB affiche "Test").</li>
<li><code class="language-text">Users</code> : le nom de notre future collection.</li>
<li><code class="language-text">insert</code> ou <code class="language-text">save</code> : on utilise la fonction d'insertion de donn√©es.</li>
<li>Dans les accolades, on indique le nom du champs suivie de 2 points, puis on indique nos donn√©es (double ou simple quote pour une chaine de caract√®res).</li>
</ul>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 920 478' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-edb0275ff285c637682e1e1751ba7980'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-edb0275ff285c637682e1e1751ba7980)' width='920' height='478' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAhAEADASIAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAUBAwQCBgcI/8QAMhAAAQMCAwYDBgcAAAAAAAAAAQACAwQFBhEhEhYxVpTRMjSxExQzQXFyUWFzgpKhwf/EABcBAQEBAQAAAAAAAAAAAAAAAAACAQP/xAAiEQACAQIFBQAAAAAAAAAAAAAAAQIDMRETITJRElJhcfD/2gAMAwEAAhEDEQA/APW9ViW7yPmhNa1kccrmAENbkAT%2bSS1V0qyQ81DSXjMtzDj6LLWVMxq585HayOP9lUe2k2dnbOzllksU5LRMh04O6NDrlVPGRkB/aFDK%2bpYSWSZZ6HRZXOLuJzUJmT5MyodqNxulYWFplBafkWgqh1VM4glwzHzyVCEzJchUoKyRuhutZC8Pim2HDgQ0J5Q4vvtRW0sEtaZI5JWRlpjbqC4AjgvFVss%2bYu9Bs6H3iLL%2bYTqb0bKUYx1isCip8zN97vUqpPpsL4gqKiaSKyXORrpHEFlK8g6nhoo3QxLy/d%2bjk7KblCJCe7n4l5fu/Rydkbn4l5fu/RydkwYESE93PxLy/d%2bjk7I3QxJy/d%2bjk7JgwIlrtB2btQnXSojOn3hMXYRxG0ZusF2A/E0kg/xX2/C9/huNI%2bWx3NjGzMcS6leAAHDM8EMZ9V2PydD9OyaDwhCF2obSZHKkIQu5J2zxK1CFLBmuHlX/AFHqEuuXwpP0pPQoQucr/eTFufo//9k=' /%3e%3c/svg%3e" width="920" data-srcset="/assets/static/mongo_insert.82a2fbd.3657de4729c1f1191c346c029a00014a.jpg 480w, /assets/static/mongo_insert.0ff29f4.3657de4729c1f1191c346c029a00014a.jpg 920w" data-sizes="(max-width: 920px) 100vw, 920px" data-src="/assets/static/mongo_insert.0ff29f4.3657de4729c1f1191c346c029a00014a.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/mongo_insert.0ff29f4.3657de4729c1f1191c346c029a00014a.jpg" width="920"></noscript></p>
<p>Remarque : lors de l'insertion des donn√©es un id est g√©n√©r√© automatiquement. Cet id est nomm√© "_id", de type <strong>ObjectId</strong>. C'est une chaine de caract√®re en h√©xad√©cimal.</p>
<p>On peut lister toutes les collections disponibles dans notre base avec :<br>
<code class="language-text">show collections</code></p>
<p>Afin de pouvoir proc√©der √† des tests plus approfondis par la suite, on ins√®re plus de donn√©es dans notre collection :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Valdez"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Tatiana"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-07-05"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Liberia"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Hayes"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Willow"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-09-18"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Luxembourg"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Ward"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Hanae"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-07-30"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Egypt"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Cleveland"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Jescie"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-05-20"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Montenegro"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Whitfield"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Britanni"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-10-07"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Belgium"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Howard"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Cecilia"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-11-19"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"India"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Olson"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Xavier"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-06-21"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Venezuela"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Cardenas"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Cathleen"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-10-03"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"China"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Warren"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Nelle"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-07-07"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Belarus"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Beach"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Kellie"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-01-17"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Benin"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Alford"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Tanek"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-10-10"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"France"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Ryan"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Wang"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-08-20"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Gibraltar"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Shannon"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Buckminster"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-08-27"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Turkey"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Caldwell"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Willow"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-08-03"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Italy"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Brennan"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Karleigh"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-03-03"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Dominican Republic"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Howe"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Richard"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-09-27"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Japan"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Dyer"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Bernard"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-01-11"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Hong Kong"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Cooke"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Laurel"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-05-06"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Malaysia"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Pace"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Karleigh"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-06-24"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Australia"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">"Price"</span><span class="token punctuation">,</span>
  lastname<span class="token operator">:</span> <span class="token string">"Grady"</span><span class="token punctuation">,</span>
  birthday<span class="token operator">:</span> <span class="token string">"1990-04-18"</span><span class="token punctuation">,</span>
  country<span class="token operator">:</span> <span class="token string">"Belgium"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Pour connaitre le nombre de documents pr√©sents dans la collection "Users" :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Pour plus de d√©tails sur cette collection :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">stats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 920 478' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-62c1b091837408d95d8742afb6abbf00'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-62c1b091837408d95d8742afb6abbf00)' width='920' height='478' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAhAEADASIAAhEBAxEB/8QAHAAAAgMAAwEAAAAAAAAAAAAAAAUCAwQBBgcI/8QAMxAAAQMDAQUECAcAAAAAAAAAAQACAwQFEQYSFiEx0UFRVpQUMjRhcXKSsSIzc4SRocH/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAAIBAgUFAQAAAAAAAAAAAAABAhExAxITITJBUVJhcfD/2gAMAwEAAhEDEQA/APNa/VN1Ms1P6b%2bGN7gGhgBGHHualFRcq6SQubI54cMk7OQf6VMR2rxKX8SZHk/yVbWMYzA2XmMEucRz4%2b9JSasyNODujM%2b41Thh0g%2bkLiOvqYySyTGeB4LNIwseQ4OHzDBUU9SXcWlDxRuN0qy0tMoLT2FoVDqqVxBLhkduFQhGeT6gsKCskbobrWQvD4pthw5ENCeUOr77UVtNBLWmSOSVkZaY28QXAEcl1VbLOSLvQFvA%2bkRY%2bsIzN7NjUYx3iqBE8RXGRzicNe/JAz2lX1dRHM1uw/3ccDj3lbZdNahmqppYLJc3B0jsOjpnkHJPLAUN0NSnnp%2b7n9nJ0U3LEsuyHkNJI7yQVBPdz9S%2bH7v5OTojc/Uvh%2b7%2bTk6IoAiQnu5%2bpfD938nJ0RuhqTw/d/JydEUARLXaDs3ahJzwqIzw%2bcJi7SOo2jLrBdgO80kg/wAV9v0vf4bjSPlslzYxszHEupXgABwyeSBM%2bq7F7JQ/DomY9UIQtMDiJggc0IXQSTZ6yt7EIUsRmuHsj/iPuEuuX5Mn6Un2chCzlf8AexLk/h//2Q==' /%3e%3c/svg%3e" width="920" data-srcset="/assets/static/mongo_count_stats.82a2fbd.622b3bb8a3219d5fc597f1929c644621.jpg 480w, /assets/static/mongo_count_stats.0ff29f4.622b3bb8a3219d5fc597f1929c644621.jpg 920w" data-sizes="(max-width: 920px) 100vw, 920px" data-src="/assets/static/mongo_count_stats.0ff29f4.622b3bb8a3219d5fc597f1929c644621.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/mongo_count_stats.0ff29f4.622b3bb8a3219d5fc597f1929c644621.jpg" width="920"></noscript></p>
<h2>Lecture des donn√©es</h2>
<p>Ci-dessous une liste non exhaustive de commandes.</p>
<h3>Afficher toutes les donn√©es</h3>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h3>Donn√©es en particulier</h3>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token string">"Belgium"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 920 478' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-64b608bccc7aff3d0b71a8a32074d220'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-64b608bccc7aff3d0b71a8a32074d220)' width='920' height='478' xlink:href='data:image/jpeg%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAhCAIAAADmozp2AAAACXBIWXMAAAsSAAALEgHS3X78AAAPuklEQVRYw72Y6bMc1XnG559wENruvbP1bN3T3TM9W0/39OxzF6Sr5S7S1YLQeiWhlVjGYEEohZgPxMTGYLBdlB07xSIjIbYIoRWXiZBAiSuYGLEYqhJiJ39Efu/pe1WyXZUP%2bZCqU109p9%2bzvcvzPGcie//m3gee3PftZ3762DPPPfTks3sf%2b%2b6OE09sOfHE%2bgcfGxw6Xt95X%2bGeI8aub2R235/ccigxtz%2b%2b%2bYC0jftp0ald0cltsTV3j6zaPDKxcXhsAy06vjGxcV96/kGe8Y37UtuOaqpl9v%2bVcfCENjuPQXRiLrp6S3T11pGx2eHmqpW1Hm24NRkdTPMpsXZbctVc%2bq45a2p7bdP86OGHZh596uEf/uwnJ1/57nM//8kvXjvz8Dcvn3jwyreOPHXkQOTo948d%2b/6uE08/963vfO/Yd57eevzba44e7x96wN3/TX3bodj0zhWTdy%2bb2r187oC0DfuXTu9ZvuXQ8q1Hls3uWzazZ%2bna7Xeu2rJkMLNkMC3P7vo7mpN3dNat3HRg6O77VmzYv2LD3mXrdyyf3btyy%2bHongdHdt0/vOXw8vU7l47P3dmburM/w/MvvLGvVbpfK3eWNFcvHcyuWL9zaMO%2blWvvGV63PTG9U5%2bb9w4en3nkifnHn93/t88e/rsf//Wjjz35%2bONPPPLw8UcejUzNH8rlzarvek2/5JadqhM2o5DPO7ZVLtrSCryY5ULONvhZqJaKbsWuOPlSwSiadEqz9JyV46lbRjaflZeCqdt5vSCf5MXOY6YX8oZj60WLFxliMmpheNbM5sysrmaTsTQmL%2bSzZi5Hs/MGe6gUzZJt1Cq6V0%2bXipO790Ymt%2b8YHrqj5pYnxrtB4NZqjudVet2GaWaMfNr3Kv1eo9X2G42qZabpdGtOM6h3Wp5fdwoFw9CTmXQ0k4lns/Gcnkyno5o2outaNhPPpGMLLRPTksNpMVv4SUvSk4mlw5/pmNhn4po2zE%2bmCgfKqNRILpfMZhN0plIj/EwmhrTEUDYTS8WX37V5a2R6fr%2beS8peG9W6X0ulY5atj413u/2W65XbauvVeqXXb7Va9dGxbqfXbLU8WrcX%2bA3X891%2bvzUY7WJQrRVKZUs30lW3XK%2bXPIZ3mwwpl%2b1MJpEz0p1eiyENn4Uq2Wwyb2YY6wdus%2bWPjvWKRSOdiZu23uk2W23Pa7iGkdJlVIB90PIGg07NLWayiXQ20WjWW013YtPmyNSOnaWS1e406rJegI9ZjK03236zVXfrZeZljFUwer1mp9tgPSyZmnMmksNaKsozqY3QeE%2blopq0GD/jyeGEaqonimtS6WgsvpJPmKXwtxpLi%2bPUVEzM0vJMJkcwTmoyRJOXkURiSFb5o6li0ejSyS1bInPzeyW42YRbL9XqJSYqFPP9QavVaVSqRZLHq5dc38XfeK4/aPcGbULhN2o4r0EEeBm06B%2bMdlrterGYz%2blazau6KgKdbiARqBRIDyOfwbVNotd07YKOs2v1cqfj%2b4EElsmzuWQml2TmBv5u1j2/Rk4aRqbbDViFnYRBXohAUG82a7O790S2Hz6Ej4kAqVL3qpaVzWSTFEOrHbQljtVSycRbxZJFBNodir2CTcHJswPmSqXlKWtnE5pyREp5MZ1J8B42HB%2b6VhJJ1xiYwt/aCAuFA%2bnUFkInA1VnErO0ipLsmHepMS3soWETjy2/5/CRyMFvHGN208pJ%2bTZqjLQLBt4lhcgfHOb7ZWoAB3CeATXQbfpeuYGfghqpWXMdXsQfLY/qt21dIlCvVKsFGl5sBC4ukAiYGeahNpiQmdlo3sx6MkOp6pZweUHlqm5kXLesvEkEtHw%2b02y6GGDp%2bVWHqTi2rvFeqxb2f/3rkW0HD5pmtu5XqZug1cC7up6SMu00fJ9MKFcqtmFmKzWn7lWoCvZaqxUpVrJFN1JsiwOTdZbaOj1hZEAF3k07V3TA1GQYFj0vyGZaGbausnyETRtGOm9lSTOgBptYfIjCdcoWExJSbDBmx1Q8izKcHgoJG4Br%2b9H7It7UlG1mS2WbCFDpgoC5JP5odwCZKn4tly27mJcD1MujYx2QxCnlWY/%2bQiFPNjtOvuiY%2bIa96irKTsm27ByNQ/KJ8FK1OSPlOCbIi79kW1auUNQZjgEoks3J7rFkZqYCOqlGx7E4IT%2bdkmXbTCK1y5BK1SlXCyD4%2bM49keaGWVNBCojJeEqtUikOBi0OUK0Wa3WnUi0E7Ua32wgaNYqSyFAhnI3MYbFSpcC76qlxEvaXy2kWpyqZOIyCIYVMKxuGpVYrEcaCVHCCaLgkT61I8H1QVUWJ1ZmKIZSlHKBkMUmV3BaCKqYV%2bICzTII3C1ZuYueuSDC1vuSYgeR6hW/AJZXQ6wlcsnW8JWfrBB2qPKhBDjRcy7wkW05PsbAQjWISohwWHPuQfl2jhTXKwhllo37yIpbEgTTL6mEdpxjOWOCSTiKZl/klHQgdeY8xP1ma5FEzp5LxlWvvPRRpzUzlMglwpqGOjm8492DQ7g86uIfapWTLLngnEQAuIR3YADgCPYOmx8/BKMbSKFCyiNnLVQcYdV2HcJF1ZI5Qta4RJXwBCjeanq3CghkAiCXLBYFACBBZqZWA17bQmV%2bvO6xVqhRxE9XSUtBChoPaVj61avd8JFg/CUGwKkEZjPWJIHQG9lP4eALPKQxuCKl5ZVP5OKunwASO0ekEoatSi3R2Cw2hIU2LJuCgRfa5RVuK9YZDsksqA0VV8gwrO7HYH1ediuYWyOuWPfPHRpat3XdvpDc3k9dTIYOATXy2i8bERL/Xb3PWUErUA2i83Wn74xMDOB9cwxO4vN0m0%2brjY92x8T5kBKQSPY6NCgDBGNjttcfH%2b0SSCHBO36%2b1usHYWIexVGE2p1GjnR7M6BKT1atHwRKpBCuHDUsQYdgQ56JNFEyXJ1aNguO2nUWYoME2HDkWCdZMgD/sDB8TR08FCE9T0J5XZQr4lTqjNAEKtgLUQhGVsrmAj6EEUB5SNBQPXzTlxVsS43Yb1UZSizyVXAxOKBwW1IS2YMxwNWecCpZgqjgkkkMkwsjwko1H74/4Y10LEWtICrF1aiCUEnLiRhUh5XmlRhMW81uBS%2bb1R7uCSIELsaPMiBI5TY6RysQQjONUcBDJzYQh/5crtopADhucggQIWr5t5dLpOAjGWIy7qIxmXWgkm6xJDbB6jbCwlqCFkYZ/RB12GmQ4NYMlRTx98EjEG21bpt5seqODVtWtgDxEn7WBQlASwAqAUxc6swQfbaPZbkBzIl29CgsTEyQGu2Re7IE/yDikeuE1aMvMhvAXagdBm7wQGVqavMe1CpqSYB0vi%2bIvttDJdaNoqLwfCSUG%2b2ZjYqmNDA8tmT14OOINmgAT%2byazJXmsLNzekcK3wXiAH2e0ey0gAkqmSAZjPeJDQEJpLT2D9vhdgz5iruWB8SAdRAMn0DgSJyyITo6xCrcOeuAvEo/NlUtmBUIUGzwqcgjGFJuyRdCAMrkb5LS6X0ZWMk9FTaUpJcsmSeMNh/8y0ls7VuSyVS0qbVNVciCN9mRz9OBpJI1p6ZBOq0U%2bsGM5CQsDjpbiDeS%2bEHPFBshxrdIRGYiTUNBPlHAYESAOBccE3PgkUGaky2oSTitVHurCnIZqxOvMxsyK1xNUtqUkCVORTphxBn7aZmbqwIFIb7LPAXAkiaUOkCJVyGYAHqzkBSlmF0UCUBWTa8YhOEAAog23q55CYcgeKQBFZByMWOMLYTf0j5EGZ7OKhpg8RGcOqeuSEqKFzEwoSHmRjFc21EwYAcumRMUGS0ON5VRkip7TVt09Gxld2ydN9TzQXiWUnI8k6/ebbaktrjUeB3PKRZIqkFN5HIBK4kXdgWQIn8g0aqDoGJyBrRQci6C7Slx1e00Or6REEqIMgnqhIBEwzJzoEeSWAgDF2fG8mYP7gGMKmlihdrIyqlZVzoUE8Sa7B4tIIQBzdHo8MrauXyoXyWmShPUsS2b3FXmhTyUCZUsA2zGhLfgB5AnZtyTqzZS7ldJYqUXhzvuC6FdXsAUcBGHV10V9L5eERcwVehIOXsRQClRb/MqT2pXbRTiJDGRauRsk4ivX79oamblnmlPKpv0quKm0pDU62sHHeJGyxkluwxVgDVyRErCyaNUGZwDaCAhFTEGPCovX1J04BZpx7fT8MoU0Nt6rKBgFkaifdrfd7fpKz8W5givRVcdG9Jy6GFESLEpUuW1LEnIjA8p9dLFQZ23xRkYk2836up2bIlsP7i6XbL4Bl/3RHvmNR4HITrcFhXHJZLHwpk8ydPuB3/TIBACEm0AqI%2bSS0IZvMfyCjlAEdJtwWOwPlYUmBoqPwoFDycWvIkkQDkoyhAoiHKss1UAlTELRMTy8dN2O2ci6TasyGZGTZDNZJFhWMHAqHKTyW5RWvVHviJyugvc9pbrgFLklc8H3q3BNb9DingBeOUrMuZ5Agif/DDQYAmSFEhUvSkJXxIu2YzVEk1NRAbdeU8ELECTruiIiIU1Cx0aFi5pyCwem2Q8FzWzcaf16ZWZ%2ba2SwGqlQxdPcASou9CmQDHIJCsm9kbKrImMYRhwlmg2R/uBp0HRJNgGHfEo9Q6mshZVA2SygkBLJoRQLmUhdeeMpOZLc2gx1TVPpHlPolA7FOVgSTkV5hKPC21w4lcCuFp3ZsznSHSPHcWcT/8Hw5C5gJ36qldBzHADQCMdwBrkBCo9mQuIMr94Im1tqZ0HzpGKp23vU8NuE0J/qoltiM%2by8pYJSfzbwVifrRqMrpratjYyuboL9xVKe5AtzNJYY4gzhBY%2bjk4sj0eXR2AqewyPLeI5Ely2%2bSP//e5NF2eSKFUvWbBqPTM1NFCEqy0BFI%2bMK6gllUM0wlGml7UKOIITP25v9f2oLw4v/e9NVW/hZcexKyXZKhlPkppovACsOCG5Y%2bfTc7unID3749N%2b/9sCFqz/77OMv/uXX//yvH370mw8//N2X//7bT7/69Mv//uSL/7r5%2be8//uz3Nz//w83fSfvkT9oXf9ZzW5NRf9Rkqt9%2b8p8fffwf/3bzK3m5%2bRXvH33M8yt6pPHCV2UgNjf/8IMPfn7y/X%2b8cePLd258dv3Gp7%2b59uYvL549f/6dC9c/f/7smchDDx1/5h%2bOP//yU2ffeOulF194/oUXT586dfatt186de4XZ86fPP32q29eeu3s5Vdev/DymfMvS8/5F0%2bdo5%2bvL516%2b8WXz8nPV86H7aXTb6uv8o7Bqdcunnpd2mnVXnnj0uvnrrx15VeX33v/wq%2bunXvn3UtXr1%2b5/v7l965funb94tVrF/7p2kVern9w8fqNC1el58p7H3zv8o9%2beuXk%2bXc/OP3Lqxff//WlyyfPvPHCqTdfffXyuz96/pn/AUL6DOp9QoWoAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="920" data-srcset="/assets/static/mongo_find.82a2fbd.a96b6ec7c08ddf78f1672cacaf83640e.jpg 480w, /assets/static/mongo_find.0ff29f4.a96b6ec7c08ddf78f1672cacaf83640e.jpg 920w" data-sizes="(max-width: 920px) 100vw, 920px" data-src="/assets/static/mongo_find.0ff29f4.a96b6ec7c08ddf78f1672cacaf83640e.jpg"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/mongo_find.0ff29f4.a96b6ec7c08ddf78f1672cacaf83640e.jpg" width="920"></noscript></p>
<h3>Recherche multiple</h3>
<p>"or" :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> $or<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token string">"Belgium"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> firstname<span class="token operator">:</span> <span class="token string">"Alford"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne toutes les donn√©es dont le pays vaut "Belgium" ou bien o√π le pr√©nom vaut "Alford".</p>
<p>"and" :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> $and<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token string">"Belgium"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> birthday<span class="token operator">:</span> <span class="token string">"1990-10-07"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne toutes les donn√©es dont le pays vaut "Belgium" et o√π la date de naissance vaut "1990-10-07".</p>
<p>"not" :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token punctuation">{</span> $ne<span class="token operator">:</span> <span class="token string">"Belgium"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne toutes les donn√©es dont le pays ne vaut pas "Belgium".</p>
<p>"like" :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token regex">/in/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne toutes les donn√©es dont le pays contient "in".</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token punctuation">{</span> $regex<span class="token operator">:</span> <span class="token regex">/^be/i</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne toutes les donn√©es dont le pays commence par "be".</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token punctuation">{</span> $regex<span class="token operator">:</span> <span class="token regex">/ia$/</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne toutes les donn√©es dont le pays termine par "ia".</p>
<p>Remarque : MongoDB est sensible √† la casse.</p>
<h3>Limitation</h3>
<p>Limitation unique (1 seul r√©sultat) avec <code class="language-text">findOne()</code>.</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54df6bf34403b474fc1df363"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Affiche uniquement les donn√©es pour le document dont l'ObjectId vaut "54df6bf34403b474fc1df363".</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token string">"Belgium"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Retourne uniquement le 1er r√©sultat dont le pays vaut "Belgium" dans la liste des documents.</p>
<h3>Limitation d√©finie</h3>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Affiche uniquement les 3 premiers documents.</p>
<h3>Offset</h3>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Affiche les 10 r√©sultats apr√®s les 5 premiers documents.</p>
<h3>Ordre d'affichage</h3>
<p>Croissant :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Affiche tous les r√©sultats de la collection "Users" en classant les donn√©es pas pays en ordre alphab√©tique croissant.</p>
<p>D√©croissant :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Affiche tous les r√©sultats de la collection "Users" en classant les donn√©es pas pays en ordre alphab√©tique d√©croissant.</p>
<h2>Modification des donn√©es</h2>
<p>On choisit notre document √† modifier :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54df6bf54403b474fc1df374"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> $<span class="token keyword">set</span><span class="token operator">:</span> <span class="token punctuation">{</span> firstname<span class="token operator">:</span> <span class="token string">"Martine"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>On peut √©galement choisir plusieurs champs :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> firstname<span class="token operator">:</span> <span class="token string">"Pace"</span><span class="token punctuation">,</span> lastname<span class="token operator">:</span> <span class="token string">"Karleigh"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> $<span class="token keyword">set</span><span class="token operator">:</span> <span class="token punctuation">{</span> country<span class="token operator">:</span> <span class="token string">"England"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<h2>Suppression des donn√©es</h2>
<p>Un document en particulier :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54f6342cc6dd3b2aef142568"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Plusieurs documents avec un op√©rateur logique :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span> $or<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> firstname<span class="token operator">:</span> <span class="token string">"Alford"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> lastname<span class="token operator">:</span> <span class="token string">"Laurel"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Supprimer toute la collection :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2>Un peu de relationnel</h2>
<h3>Relation 0,N ou 1,N</h3>
<p>Une relation 1,N est d√©finie par le fait qu'une collection poss√®de une clef √©trang√®re dans un champ qui peut se retrouver dans un ou plusieurs document d'une autre collection.<br>
Dans l'exemple suivant, on va mettre en relation des <strong>articles</strong> avec une <strong>rubrique</strong>. Un <strong>article</strong> appartient √† une et une seul <strong>rubrique</strong>. A l'inverse, une <strong>rubrique</strong> appartient √† un ou plusieurs <strong>articles</strong>.</p>
<p>On cr√©√© d'abord notre collection <strong>rubrique</strong> :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>rubric<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span> rubric_name<span class="token operator">:</span> <span class="token string">"MongoDB"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>rubric<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span> rubric_name<span class="token operator">:</span> <span class="token string">"MySQL"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>L'inseration renvoie l'ObjectId suivant "54c4dfa24b4453f4eb85f70b" pour "MongoDB" et "54c4dfa24b4453f4eb85f70c" pour "MySQL" que l'on va avoir besoin pour l'injecter comme clef √©trang√®re dans la seconde collection <strong>article</strong> :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  article_title<span class="token operator">:</span> <span class="token string">"Mon premier article sur MongoDB"</span><span class="token punctuation">,</span>
  article_content<span class="token operator">:</span> <span class="token string">"Lorem Ipsum 1"</span><span class="token punctuation">,</span>
  rubric_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54c4dfa24b4453f4eb85f70b"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  article_title<span class="token operator">:</span> <span class="token string">"Mon premier article sur MySQL"</span><span class="token punctuation">,</span>
  article_content<span class="token operator">:</span> <span class="token string">"Lorem Ipsum 2"</span><span class="token punctuation">,</span>
  rubric_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54c4dfa24b4453f4eb85f70c"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Contrairement √† un SGBDR qui utilise un syst√®me de jointures dans une seule requ√™te, sur MongoDB, il faudra effectuer 2 requetes. Une premi√®re pour afficher les infos de la <strong>rubrique</strong> afin de r√©cup√©rer son ObjectId et une seconde pour afficher les <strong>articles</strong> concern√©s.</p>
<p>Les informations sur la <strong>rubrique</strong> :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>rubric<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54c4dfa24b4453f4eb85f70b"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>Les <strong>articles</strong> de cette utilisateur via son id :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> rubric_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54c4dfa24b4453f4eb85f70b"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>A noter : en cas de suppression d'une <strong>rubrique</strong>, cela ne supprimera pas le champ "rubric_id" pr√©sent dans la collection <strong>article</strong> (pas de "Cascade delete").</p>
<h3>Relation M,N (Many to Many)</h3>
<p>Un peu plus complexe, une relation M,N est un cas dans laquel, une collection doit stocker plusieurs clefs √©trang√®res au minium de 2 autres collections.<br>
Prenons en exemple, un syst√®me de messagerie quelconque, compos√© de 3 collections.</p>
<p>Un <strong>utilisateur</strong> peut converser avec 1 ou plusieurs autre(s) <strong>utilisateur(s)</strong> en cr√©ant une <strong>conversation</strong> unique compos√©e d'un ou plusieur(s) <strong>message(s)</strong>.</p>
<p>On commence par la collection la plus simple, celle de l'<strong>utilisateur</strong> :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name_user<span class="token operator">:</span> <span class="token string">"User1"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name_user<span class="token operator">:</span> <span class="token string">"User2"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Cette derni√®re renvoie les ObjectId : "54cd613880ae1a574dc812d2" et "54cd613880ae1a574dc812d3".</p>
<p>On continue avec la seconde collection concerant la <strong>conversation</strong> entre 2 (ou plus) <strong>utilisateurs</strong> en stockant les ObjectId des <strong>utilisateurs</strong> concern√©s.</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>conversation<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  users_id<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> user_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd613880ae1a574dc812d2"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> user_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd613d80ae1a574dc812d3"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Et, on fini par la fameuse collection qui va accueillir les 2 clefs √©trang√®res des 2 collections cr√©ez ci-dessus. C'est la collection pour stocker les <strong>messages</strong> de l'<strong>utilisateur</strong> dans la <strong>conversation</strong> d√©di√©e.</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  content_message<span class="token operator">:</span> <span class="token string">"Mon premier message de User1"</span><span class="token punctuation">,</span>
  user_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd613880ae1a574dc812d2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  conversation_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd627f80ae1a574dc812d4"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  content_message<span class="token operator">:</span> <span class="token string">"Mon premier message de User2"</span><span class="token punctuation">,</span>
  user_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd613d80ae1a574dc812d3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  conversation_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd627f80ae1a574dc812d4"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  content_message<span class="token operator">:</span> <span class="token string">"Mon second message de User2"</span><span class="token punctuation">,</span>
  user_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd613d80ae1a574dc812d3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  conversation_id<span class="token operator">:</span> <span class="token function">ObjectId</span><span class="token punctuation">(</span><span class="token string">"54cd627f80ae1a574dc812d4"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>Exporter</h2>
<h3>Mongodump</h3>
<p>Avec Mongodump vous pouvez sauvegarder toutes vos bases et collections aux formats BSON et JSON.<br>
Dans votre console, tapez : <code class="language-text">mongodbump</code><br>
Un dossier "dump" sera cr√©√© √† l'emplacement de votre invit√© de commandes.<br>
On veut seulement exporter une base de donn√©e, "test" : <code class="language-text">mongodump --db test</code> ou <code class="language-text">mongodump -d test</code><br>
Ou plus pr√©cisement, une collection : <code class="language-text">mongodump --db test --collection Users</code> ou <code class="language-text">mongodump -d test -c User</code><br>
Il est √©galement possible d'indiquer le r√©pertoire d'extraction en ajoutant le param√®tre <code class="language-text">--out</code> ou <code class="language-text">-o</code>.</p>
<h3>Mongoexport</h3>
<p>Contrairement √† Mongodump, Mongoexport permet d'exporter une collection √† la fois, dans un fichier JSON.
<code class="language-text">mongoexport --db test --collection Users --out Users.json</code><br>
Il est possible d'indiquer le r√©pertoire d'extraction en ajoutant le param√®tre <code class="language-text">--dpath</code>.<br>
Pour plus d'options, tapez <code class="language-text">mongoexport</code>.</p>
<h2>Importer</h2>
<h3>Mongorestore</h3>
<p>Permet de restaurer l'ensemble des fichiers sauvegard√©s avec Mongodump.</p>
<h3>Mongoimport</h3>
<p>Permet d'importer des donn√©es d'une collection dans une base de donn√©e existante ou non : <code class="language-text">mongoimport -d test2 -c Users --file Users.json</code><br>
Si vous ins√©rez ou modifier des donn√©es sur des documents d√©ja existants dans votre collection, ajoutez le param√®tre <code class="language-text">--upsert</code>.<br>
Pour plus d'options, tapez <code class="language-text">mongoimport</code>.</p>
<h2>Bonus</h2>
<p>Afficher vos donn√©es au format JSON non format√© :</p>
<div class="gridsome-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">db<span class="token punctuation">.</span>Users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pretty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2>Conclusion</h2>
<p>MongoDB est une base de donn√©es NoSQL l√©g√®re, rapide et simple √† prendre en main pour vos futures applications. Pour aller <del>beaucoup</del> plus loin sur Mongo, consultez la documentation officielle (voir liens ci-dessous) pour notamment des requ√™tes plus complexe et s√©curiser l'acc√®s √† la base de donn√©es (en production).</p>
<h2>Sources</h2>
<ul>
<li>Documentation officielle : <a href="http://docs.mongodb.org/manual" target="_blank" rel="nofollow noopener noreferrer">http://docs.mongodb.org/manual</a> ;</li>
<li>Liste des commandes pour travailler dans les collections : <a href="http://docs.mongodb.org/manual/reference/method/js-collection" target="_blank" rel="nofollow noopener noreferrer">http://docs.mongodb.org/manual/reference/method/js-collection</a> ;</li>
<li>Comparaison entre le SQL et MongoDB : <a href="http://docs.mongodb.org/manual/reference/sql-comparison" target="_blank" rel="nofollow noopener noreferrer">http://docs.mongodb.org/manual/reference/sql-comparison</a> ;</li>
<li>Liste des commandes : <a href="http://docs.mongodb.org/manual/reference/command" target="_blank" rel="nofollow noopener noreferrer">http://docs.mongodb.org/manual/reference/command</a>;</li>
<li>Robomongo est une interface graphique : <a href="http://robomongo.org" target="_blank" rel="nofollow noopener noreferrer">http://robomongo.org</a> ;</li>
<li>Traducteur de requ√™te SQL vers MongoDB : <a href="http://www.querymongo.com" target="_blank" rel="nofollow noopener noreferrer">http://www.querymongo.com</a>.</li>
</ul>
</article></div></div></div></main><footer class="text-white mt-4"><ul class="nav nav-pills justify-content-center"><li><a href="https://github.com/etienner" target="_blank" rel="noopener" class="nav-link">Github</a></li><li><a href="https://medium.com/@etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Medium</a></li><li><a href="https://twitter.com/etiennerouzeaud" target="_blank" rel="noopener" class="nav-link">Twitter</a></li></ul></footer></div>
    <script src="/assets/js/app.dc35239c.js" defer></script><script src="/assets/js/page--src--templates--post-vue.a4881b12.js" defer></script>
  </body>
</html>
